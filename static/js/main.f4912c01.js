/*! For license information please see main.f4912c01.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return C(e(t))}catch(Hs){}}return null}var A,x,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign;function P(e){if(void 0===A)try{throw Error()}catch(Hs){var t=Hs.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||"",x=-1<Hs.stack.indexOf("\n    at")?" (<anonymous>)":-1<Hs.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+A+e+x}var D=!1;function O(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Hs){var r=Hs}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{D=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?P(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(Hs){return"\nError generating stack: "+Hs.message+"\n"+Hs.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function V(e){if(F(e)!==e)throw Error(o(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var j=Array.isArray,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},H=[],G=-1;function K(e){return{current:e}}function W(e){0>G||(e.current=H[G],H[G]=null,G--)}function Q(e,t){G++,H[G]=e.current,e.current=t}var Y=K(null),J=K(null),X=K(null),Z=K(null);function $(e,t){switch(Q(X,t),Q(J,e),Q(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Zu(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Y),Q(Y,t)}function ee(){W(Y),W(J),W(X)}function te(e){null!==e.memoizedState&&Q(Z,e);var t=Y.current,n=Zu(t,e.type);t!==n&&(Q(J,e),Q(Y,n))}function ne(e){J.current===e&&(W(Y),W(J)),Z.current===e&&(W(Z),Fh._currentValue=q)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function we(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(_e(e)/Ee|0)|0},_e=Math.log,Ee=Math.LN2;var Se=128,Ie=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~i)?r=ke(n):0!==(s&=a)?r=ke(s):e||0!==(o=a&~o)&&(r=ke(o)):0!==(a=n&~i)?r=ke(a):0!==s?r=ke(s):e||0!==(o=n&~o)&&(r=ke(o)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||32===i&&0!==(4194176&o))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Ne(){var e=Ie;return 0===(62914560&(Ie<<=1))&&(Ie=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Zh(e.type)}var Fe=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Fe,Ve="__reactProps$"+Fe,ze="__reactContainer$"+Fe,je="__reactEvents$"+Fe,Be="__reactListeners$"+Fe,qe="__reactHandles$"+Fe,He="__reactResources$"+Fe,Ge="__reactMarker$"+Fe;function Ke(e){delete e[Ue],delete e[Ve],delete e[je],delete e[Be],delete e[qe]}function We(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ch(e);null!==e;){if(n=e[Ue])return n;e=ch(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Je(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Ge]=!0}var Ze=new Set,$e={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for($e[e]=t,e=0;e<t.length;e++)Ze.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function ot(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(j(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&It(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&It(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Ot(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Dt)&&(Vc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ut=!1;if(nt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Ed){Ut=!1}var zt=null,jt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=jt,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Wt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Qt,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Wt(Xt),$t=R({},Xt,{view:0,detail:0}),en=Wt($t),tn=R({},$t,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Wt(tn),rn=Wt(R({},tn,{dataTransfer:0})),sn=Wt(R({},$t,{relatedTarget:0})),on=Wt(R({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Wt(R({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Wt(R({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return dn}var pn=Wt(R({},$t,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Wt(R({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Wt(R({},$t,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Wt(R({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Wt(R({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Wt(R({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],_n=nt&&"CompositionEvent"in window,En=null;nt&&"documentMode"in document&&(En=document.documentMode);var Sn=nt&&"TextEvent"in window&&!En,In=nt&&(!_n||En&&8<En&&11>=En),kn=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var xn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Pn(e,t,n,r){Pt?Dt?Dt.push(r):Dt=[r]:Pt=r,0<(t=Fu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,On=null;function Ln(e){xu(e,0)}function Mn(e){if(dt(Ye(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(nt){var Vn;if(nt){var zn="oninput"in document;if(!zn){var jn=document.createElement("div");jn.setAttribute("oninput","return;"),zn="function"===typeof jn.oninput}Vn=zn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function Bn(){Dn&&(Dn.detachEvent("onpropertychange",qn),On=Dn=null)}function qn(e){if("value"===e.propertyName&&Mn(On)){var t=[];Pn(t,On,e,Rt(e)),Mt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),On=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(On)}function Kn(e,t){if("click"===e)return Mn(t)}function Wn(e,t){if("input"===e||"change"===e)return Mn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function $n(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=$n(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Zn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Xn(t,s);var o=Xn(t,r);i&&o&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Fu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}nt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),wr=dr("transitionend"),br=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Er(e,t){br.set(e,t),et(t,[e])}var Sr=[],Ir=0,kr=0;function Tr(){for(var e=Ir,t=kr=Ir=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Nr(n,i,s)}}function Cr(e,t,n,r){Sr[Ir++]=e,Sr[Ir++]=t,Sr[Ir++]=n,Sr[Ir++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Cr(e,t,n,r),Rr(e)}function xr(e,t){return Cr(e,null,null,t),Rr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-be(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Rr(e){if(50<xc)throw xc=0,Nc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={},Dr=new WeakMap;function Or(e,t){if("object"===typeof e&&null!==e){var n=Dr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Dr.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Lr=[],Mr=0,Fr=null,Ur=0,Vr=[],zr=0,jr=null,Br=1,qr="";function Hr(e,t){Lr[Mr++]=Ur,Lr[Mr++]=Fr,Fr=e,Ur=t}function Gr(e,t,n){Vr[zr++]=Br,Vr[zr++]=qr,Vr[zr++]=jr,jr=e;var r=Br;e=qr;var i=32-be(r)-1;r&=~(1<<i),n+=1;var s=32-be(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Br=1<<32-be(t)+i|n<<i|r,qr=s+e}else Br=1<<s|n<<i|r,qr=e}function Kr(e){null!==e.return&&(Hr(e,1),Gr(e,1,0))}function Wr(e){for(;e===Fr;)Fr=Lr[--Mr],Lr[Mr]=null,Ur=Lr[--Mr],Lr[Mr]=null;for(;e===jr;)jr=Vr[--zr],Vr[zr]=null,qr=Vr[--zr],Vr[zr]=null,Br=Vr[--zr],Vr[zr]=null}var Qr=null,Yr=null,Jr=!1,Xr=null,Zr=!1,$r=Error(o(519));function ei(e){throw si(Or(Error(o(418,"")),e)),$r}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Ve]=r,n){case"dialog":Nu("cancel",t),Nu("close",t);break;case"iframe":case"object":case"embed":Nu("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)Nu(Cu[n],t);break;case"source":Nu("error",t);break;case"img":case"image":case"link":Nu("error",t),Nu("load",t);break;case"details":Nu("toggle",t);break;case"input":Nu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Nu("invalid",t);break;case"textarea":Nu("invalid",t),_t(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qu(t.textContent,n)?(null!=r.popover&&(Nu("beforetoggle",t),Nu("toggle",t)),null!=r.onScroll&&Nu("scroll",t),null!=r.onScrollEnd&&Nu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ei(e)}function ni(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 3:case 27:return void(Zr=!0);case 5:case 13:return void(Zr=!1);default:Qr=Qr.return}}function ri(e){if(e!==Qr)return!1;if(!Jr)return ni(e),Jr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||$u(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=lh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Qr?lh(e.stateNode.nextSibling):null;return!0}function ii(){Yr=Qr=null,Jr=!1}function si(e){null===Xr?Xr=[e]:Xr.push(e)}var oi=Error(o(460)),ai=Error(o(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function hi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oi)throw Error(o(483));throw e}throw di=t,oi}}var di=null;function fi(){if(null===di)throw Error(o(459));var e=di;return di=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),hi(pi,e,t)}function yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vi(e,t){if(t.$$typeof===l)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===h?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&wi(s)===t.type)?(yi(t=i(t,n.props),n),t.return=e,t):(yi(t=zl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=jl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yi(n=zl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(j(t)||k(t))return(t=jl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Ca(e,t),n);vi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case _:return y(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||k(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,gi(n),r);if(n.$$typeof===g)return y(e,t,Ca(e,n),r);vi(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||k(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,gi(r),i);if(r.$$typeof===g)return v(e,t,n,Ca(t,r),i);vi(t,r)}return null}function w(l,d,f,p){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var b=f.key;null!==d;){if(d.key===b){if((b=f.type)===h){if(7===d.tag){n(l,d.sibling),(p=i(d,f.props.children)).return=l,l=p;break e}}else if(d.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&wi(b)===d.type){n(l,d.sibling),yi(p=i(d,f.props),f),p.return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}f.type===h?((p=jl(f.props.children,l.mode,p,f.key)).return=l,l=p):(yi(p=zl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return a(l);case u:e:{for(b=f.key;null!==d;){if(d.key===b){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(l,d.sibling),(p=i(d,f.children||[])).return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}(p=Hl(f,l.mode,p)).return=l,l=p}return a(l);case _:return w(l,d,f=(b=f._init)(f._payload),p)}if(j(f))return function(i,o,a,l){for(var c=null,u=null,h=o,d=o=0,f=null;null!==h&&d<a.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=y(i,h,a[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),o=s(p,o,d),null===u?c=p:u.sibling=p,u=p,h=f}if(d===a.length)return n(i,h),Jr&&Hr(i,d),c;if(null===h){for(;d<a.length;d++)null!==(h=m(i,a[d],l))&&(o=s(h,o,d),null===u?c=h:u.sibling=h,u=h);return Jr&&Hr(i,d),c}for(h=r(h);d<a.length;d++)null!==(f=v(h,i,d,a[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=s(f,o,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Jr&&Hr(i,d),c}(l,d,f,p);if(k(f)){if("function"!==typeof(b=k(f)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,d=a,f=a=0,p=null,g=l.next();null!==d&&!g.done;f++,g=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var w=y(i,d,g.value,c);if(null===w){null===d&&(d=p);break}e&&d&&null===w.alternate&&t(i,d),a=s(w,a,f),null===h?u=w:h.sibling=w,h=w,d=p}if(g.done)return n(i,d),Jr&&Hr(i,f),u;if(null===d){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(a=s(g,a,f),null===h?u=g:h.sibling=g,h=g);return Jr&&Hr(i,f),u}for(d=r(d);!g.done;f++,g=l.next())null!==(g=v(d,i,f,g.value,c))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=s(g,a,f),null===h?u=g:h.sibling=g,h=g);return e&&d.forEach((function(e){return t(i,e)})),Jr&&Hr(i,f),u}(l,d,f=b.call(f),p)}if("function"===typeof f.then)return w(l,d,gi(f),p);if(f.$$typeof===g)return w(l,d,Ca(l,f),p);vi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(n(l,d.sibling),(p=i(d,f)).return=l,l=p):(n(l,d),(p=ql(f,l.mode,p)).return=l,l=p),a(l)):n(l,d)}return function(e,t,n,r){try{mi=0;var i=w(e,t,n,r);return pi=null,i}catch(Hs){if(Hs===oi)throw Hs;var s=Ml(29,Hs,null,e.mode);return s.lanes=r,s.return=e,s}}}var _i=bi(!0),Ei=bi(!1),Si=K(null),Ii=K(0);function ki(e,t){Q(Ii,e=uc),Q(Si,t),uc=e|t.baseLanes}function Ti(){Q(Ii,uc),Q(Si,Si.current)}function Ci(){uc=Ii.current,W(Si),W(Ii)}var Ai=K(null),xi=null;function Ni(e){var t=e.alternate;Q(Oi,1&Oi.current),Q(Ai,e),null===xi&&(null===t||null!==Si.current||null!==t.memoizedState)&&(xi=e)}function Ri(e){if(22===e.tag){if(Q(Oi,Oi.current),Q(Ai,e),null===xi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(xi=e)}}else Pi()}function Pi(){Q(Oi,Oi.current),Q(Ai,Ai.current)}function Di(e){W(Ai),xi===e&&(xi=null),W(Oi)}var Oi=K(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,Ui=r.unstable_NormalPriority,Vi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Mi,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Fi(Ui,(function(){e.controller.abort()}))}var Bi=null,qi=0,Hi=0,Gi=null;function Ki(){if(0===--qi&&null!==Bi){null!==Gi&&(Gi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=Eu(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Ki,Ki)}(0,t),null!==Wi&&Wi(e,t)};var Qi=K(null);function Yi(){var e=Qi.current;return null!==e?e:nc.pooledCache}function Ji(e,t){Q(Qi,null===t?Qi.current:t.pool)}function Xi(){var e=Yi();return null===e?null:{parent:Vi._currentValue,pool:e}}var Zi=0,$i=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,os=0,as=null,ls=0;function cs(){throw Error(o(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function hs(e,t,n,r,i,s){return Zi=s,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Co:Ao,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),ds(e),s}function ds(e){N.H=To;var t=null!==es&&null!==es.next;if(Zi=0,ts=es=$i=null,ns=!1,os=0,as=null,t)throw Error(o(300));null===e||Go||null!==(e=e.dependencies)&&Ia(e)&&(Go=!0)}function fs(e,t,n,r){$i=e;var i=0;do{if(rs&&(as=null),os=0,rs=!1,25<=i)throw Error(o(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=xo,s=t(n,r)}while(rs);return s}function ps(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?bs(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&($i.flags|=1024),t}function ms(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ys(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Zi=0,ts=es=$i=null,rs=!1,os=ss=0,as=null}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?$i.memoizedState=ts=e:ts=ts.next=e,ts}function ws(){if(null===es){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?$i.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===$i.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?$i.memoizedState=ts=e:ts=ts.next=e}return ts}function bs(e){var t=os;return os+=1,null===as&&(as=[]),e=hi(as,e,t),t=$i,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Co:Ao),e}function _s(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return bs(e);if(e.$$typeof===g)return Ta(e)}throw Error(o(438,String(e)))}function Es(e){var t=null,n=$i.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=$i.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ss(e,t){return"function"===typeof t?t(e):t}function Is(e){return ks(ws(),es,e)}function ks(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ic&d)===d:(Zi&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((Zi&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,$i.lanes|=f,dc|=f}d=u.action,is&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,$i.lanes|=d,dc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Qn(s,e.memoizedState)&&(Go=!0,h&&null!==(n=Gi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ts(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Qn(s,t.memoizedState)||(Go=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=$i,i=ws(),s=Jr;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Qn((es||i).memoizedState,n);if(a&&(i.memoizedState=n,Go=!0),i=i.queue,$s(Ns.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Qs(9,xs.bind(null,r,i,n,t),{destroy:void 0},null),null===nc)throw Error(o(349));s||0!==(60&Zi)||As(r,t,n)}return n}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$i.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&Ps(e)}function Ns(e,t,n){return n((function(){Rs(t)&&Ps(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ps(e){var t=xr(e,2);null!==t&&Dc(t,e,2)}function Ds(e){var t=vs();if("function"===typeof e){var n=e;if(e=n(),is){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t}function Os(e,t,n,r){return e.baseState=n,ks(e,es,"function"===typeof r?r:Ss)}function Ls(e,t,n,r,i){if(So(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==N.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ms(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ms(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=N.T,o={};N.T=o;try{var a=n(i,r),l=N.S;null!==l&&l(o,a),Fs(e,t,a)}catch(c){Vs(e,t,c)}finally{N.T=s}}else try{Fs(e,t,s=n(i,r))}catch(u){Vs(e,t,u)}}function Fs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Us(e,t,n)}),(function(n){return Vs(e,t,n)})):Us(e,t,n)}function Us(e,t,n){t.status="fulfilled",t.value=n,zs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ms(e,n)))}function Vs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,zs(t),t=t.next}while(t!==r)}e.action=null}function zs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function js(e,t){return t}function Bs(e,t){if(Jr){var n=nc.formState;if(null!==n){e:{var r=$i;if(Jr){if(Yr){t:{for(var i=Yr,s=Zr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=lh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Yr=lh(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=vs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},n.queue=r,n=bo.bind(null,$i,r),r.dispatch=n,r=Ds(!1),s=Eo.bind(null,$i,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=vs()).queue=i,n=Ls.bind(null,$i,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function qs(e){return Gs(ws(),es,e)}function Gs(e,t,n){t=ks(e,t,js)[0],e=Is(Ss)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?bs(t):t;var r=ws(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&($i.flags|=2048,Qs(9,Ks.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Ks(e,t){e.action=t}function Ws(e){var t=ws(),n=es;if(null!==n)return Gs(t,n,e);ws(),t=t.memoizedState;var r=(n=ws()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qs(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=$i.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ys(){return ws().memoizedState}function Js(e,t,n,r){var i=vs();$i.flags|=e,i.memoizedState=Qs(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xs(e,t,n,r){var i=ws();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Qs(t,n,s,r):($i.flags|=e,i.memoizedState=Qs(1|t,n,s,r))}function Zs(e,t){Js(8390656,8,e,t)}function $s(e,t){Xs(2048,8,e,t)}function eo(e,t){return Xs(4,2,e,t)}function to(e,t){return Xs(4,4,e,t)}function no(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ro(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xs(4,4,no.bind(null,t,e),n)}function io(){}function so(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oo(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function ao(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=Pc(),$i.lanes|=e,dc|=e,n)}function lo(e,t,n,r){return Qn(n,t)?n:null!==Si.current?(e=ao(e,n,r),Qn(e,t)||(Go=!0),e):0===(42&Zi)?(Go=!0,e.memoizedState=n):(e=Pc(),$i.lanes|=e,dc|=e,t)}function co(e,t,n,r,i){var s=B.p;B.p=0!==s&&8>s?s:8;var o=N.T,a={};N.T=a,Eo(e,!1,t,n);try{var l=i(),c=N.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)_o(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Rc());else _o(e,t,r,Rc())}catch(u){_o(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{B.p=s,N.T=o}}function uo(){}function ho(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=fo(e).queue;co(e,i,t,q,null===n?uo:function(){return po(e),n(r)})}function fo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function po(e){_o(e,fo(e).next.queue,{},Rc())}function mo(){return Ta(Fh)}function go(){return ws().memoizedState}function yo(){return ws().memoizedState}function vo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=Da(t,e=Pa(n),n);return null!==r&&(Dc(r,t,n),Oa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function wo(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},So(e)?Io(t,n):null!==(n=Ar(e,t,n,r))&&(Dc(n,e,r),ko(n,t,r))}function bo(e,t,n){_o(e,t,n,Rc())}function _o(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(So(e))Io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o))return Cr(e,t,i,0),null===nc&&Tr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Dc(n,e,r),ko(n,t,r),!0}return!1}function Eo(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},So(e)){if(t)throw Error(o(479))}else null!==(t=Ar(e,n,r,2))&&Dc(t,e,2)}function So(e){var t=e.alternate;return e===$i||null!==t&&t===$i}function Io(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ko(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var To={readContext:Ta,use:_s,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};To.useCacheRefresh=cs,To.useMemoCache=cs,To.useHostTransitionStatus=cs,To.useFormState=cs,To.useActionState=cs,To.useOptimistic=cs;var Co={readContext:Ta,use:_s,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Zs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Js(4194308,4,no.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){Js(4,2,e,t)},useMemo:function(e,t){var n=vs();t=void 0===t?null:t;var r=e();if(is){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=vs();if(void 0!==n){var i=n(t);if(is){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=wo.bind(null,$i,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:function(e){var t=(e=Ds(e)).queue,n=bo.bind(null,$i,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:io,useDeferredValue:function(e,t){return ao(vs(),e,t)},useTransition:function(){var e=Ds(!1);return e=co.bind(null,$i,e.queue,!0,!1),vs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$i,i=vs();if(Jr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===nc)throw Error(o(349));0!==(60&ic)||As(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Zs(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Qs(9,xs.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=vs(),t=nc.identifierPrefix;if(Jr){var n=qr;t=":"+t+"R"+(n=(Br&~(1<<32-be(Br)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return vs().memoizedState=vo.bind(null,$i)}};Co.useMemoCache=Es,Co.useHostTransitionStatus=mo,Co.useFormState=Bs,Co.useActionState=Bs,Co.useOptimistic=function(e){var t=vs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Eo.bind(null,$i,!0,n),n.dispatch=t,[e,t]};var Ao={readContext:Ta,use:_s,useCallback:so,useContext:Ta,useEffect:$s,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:oo,useReducer:Is,useRef:Ys,useState:function(){return Is(Ss)},useDebugValue:io,useDeferredValue:function(e,t){return lo(ws(),es.memoizedState,e,t)},useTransition:function(){var e=Is(Ss)[0],t=ws().memoizedState;return["boolean"===typeof e?e:bs(e),t]},useSyncExternalStore:Cs,useId:go};Ao.useCacheRefresh=yo,Ao.useMemoCache=Es,Ao.useHostTransitionStatus=mo,Ao.useFormState=qs,Ao.useActionState=qs,Ao.useOptimistic=function(e,t){return Os(ws(),0,e,t)};var xo={readContext:Ta,use:_s,useCallback:so,useContext:Ta,useEffect:$s,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:oo,useReducer:Ts,useRef:Ys,useState:function(){return Ts(Ss)},useDebugValue:io,useDeferredValue:function(e,t){var n=ws();return null===es?ao(n,e,t):lo(n,es.memoizedState,e,t)},useTransition:function(){var e=Ts(Ss)[0],t=ws().memoizedState;return["boolean"===typeof e?e:bs(e),t]},useSyncExternalStore:Cs,useId:go};function No(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xo.useCacheRefresh=yo,xo.useMemoCache=Es,xo.useHostTransitionStatus=mo,xo.useFormState=Ws,xo.useActionState=Ws,xo.useOptimistic=function(e,t){var n=ws();return null!==es?Os(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ro={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=Pa(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Da(e,i,r))&&(Dc(t,e,r),Oa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=Pa(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Da(e,i,r))&&(Dc(t,e,r),Oa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=Pa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Da(e,r,n))&&(Dc(t,e,n),Oa(t,e,n))}};function Po(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,s))}function Do(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function Oo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=R({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Lo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Mo(e){Lo(e)}function Fo(e){console.error(e)}function Uo(e){Lo(e)}function Vo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function zo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function jo(e,t,n){return(n=Pa(n)).tag=3,n.payload={element:null},n.callback=function(){Vo(e,t)},n}function Bo(e){return(e=Pa(e)).tag=3,e}function qo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){zo(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){zo(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ho=Error(o(461)),Go=!1;function Ko(e,t,n,r){t.child=null===e?Ei(t,null,n,r):_i(t,e.child,n,r)}function Wo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return ka(t),r=hs(e,t,n,o,s,i),a=ms(),null===e||Go?(Jr&&a&&Kr(t),t.flags|=1,Ko(e,t,r,i),t.child):(gs(e,t,i),fa(e,t,i))}function Qo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fl(s)||void 0!==s.defaultProps||null!==n.compare?((e=zl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Yo(e,t,s,r,i))}if(s=e.child,!pa(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,r)&&e.ref===t.ref)return fa(e,t,i)}return t.flags|=1,(e=Ul(s,r)).ref=t.ref,e.return=t,t.child=e}function Yo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(Go=!1,t.pendingProps=r=s,!pa(e,i))return t.lanes=e.lanes,fa(e,t,i);0!==(131072&e.flags)&&(Go=!0)}}return $o(e,t,n,r,i)}function Jo(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(Zo(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Xo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xo(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==o?o.cachePool:null),null!==o?ki(t,o):Ti(),Ri(t)}else null!==o?(Ji(0,o.cachePool),ki(t,o),Pi(),t.memoizedState=null):(null!==e&&Ji(0,null),Ti(),Pi());return Ko(e,t,i,n),t.child}function Xo(e,t,n,r){var i=Yi();return i=null===i?null:{parent:Vi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ji(0,null),Ti(),Ri(t),null!==e&&Sa(e,t,r,!0),null}function Zo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function $o(e,t,n,r,i){return ka(t),n=hs(e,t,n,r,void 0,i),r=ms(),null===e||Go?(Jr&&r&&Kr(t),t.flags|=1,Ko(e,t,n,i),t.child):(gs(e,t,i),fa(e,t,i))}function ea(e,t,n,r,i,s){return ka(t),t.updateQueue=null,n=fs(t,r,n,i),ds(e),r=ms(),null===e||Go?(Jr&&r&&Kr(t),t.flags|=1,Ko(e,t,n,s),t.child):(gs(e,t,s),fa(e,t,s))}function ta(e,t,n,r,i){if(ka(t),null===t.stateNode){var s=Pr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ta(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ro,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Na(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ta(o):Pr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(No(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&Ro.enqueueReplaceState(s,s.state,null),Ua(t,r,s,i),Fa(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=Oo(n,a);s.props=l;var c=s.context,u=n.contextType;o=Pr,"object"===typeof u&&null!==u&&(o=Ta(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&Do(t,s,r,o),xa=!1;var d=t.memoizedState;s.state=d,Ua(t,r,s,i),Fa(),c=t.memoizedState,a||d!==c||xa?("function"===typeof h&&(No(t,n,h,r),c=t.memoizedState),(l=xa||Po(t,n,l,r,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ra(e,t),u=Oo(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Ta(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Do(t,s,r,l),xa=!1,d=t.memoizedState,s.state=d,Ua(t,r,s,i),Fa();var f=t.memoizedState;o!==h||d!==f||xa||null!==e&&null!==e.dependencies&&Ia(e.dependencies)?("function"===typeof a&&(No(t,n,a,r),f=t.memoizedState),(u=xa||Po(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ia(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Zo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,n,i)):Ko(e,t,n,i),t.memoizedState=s.state,e=t.child):e=fa(e,t,i),e}function na(e,t,n,r){return ii(),t.flags|=256,Ko(e,t,n,r),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:Xi()}}function sa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function oa(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Oi.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Jr){if(s?Ni(t):Pi(),Jr){var l,c=Yr;if(l=c){e:{for(l=c,c=Zr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=lh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==jr?{id:Br,overflow:qr}:null,retryLane:536870912},(l=Ml(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Qr=t,Yr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Di(t)}return c=i.children,i=i.fallback,s?(Pi(),c=la({mode:"hidden",children:c},s=t.mode),i=jl(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=ia(n),s.childLanes=sa(e,r,n),t.memoizedState=ra,i):(Ni(t),aa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Ni(t),t.flags&=-257,t=ca(e,t,n)):null!==t.memoizedState?(Pi(),t.child=e.child,t.flags|=128,t=null):(Pi(),s=i.fallback,c=t.mode,i=la({mode:"visible",children:i.children},c),(s=jl(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,_i(t,e.child,null,n),(i=t.child).memoizedState=ia(n),i.childLanes=sa(e,r,n),t.memoizedState=ra,t=s);else if(Ni(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=ca(e,t,n)}else if(Go||Sa(e,t,n,!1),r=0!==(n&e.childLanes),Go||r){if(null!==(r=nc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,xr(e,i),Dc(r,e,i),Ho}"$?"===c.data||Gc(),t=ca(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Yr=lh(c.nextSibling),Qr=t,Jr=!0,Xr=null,Zr=!1,null!==e&&(Vr[zr++]=Br,Vr[zr++]=qr,Vr[zr++]=jr,Br=e.id,qr=e.overflow,jr=t),(t=aa(t,i.children)).flags|=4096);return t}return s?(Pi(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ul(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Ul(u,s):(s=jl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=ia(n):(null!==(l=c.cachePool)?(u=Vi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=sa(e,r,n),t.memoizedState=ra,i):(Ni(t),e=(n=e.child).sibling,(n=Ul(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function aa(e,t){return(t=la({mode:"visible",children:t},e.mode)).return=e,e.child=t}function la(e,t){return Bl(e,t,0,null)}function ca(e,t,n){return _i(t,e.child,null,n),(e=aa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function ha(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function da(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ko(e,t,r.children,n),0!==(2&(r=Oi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ua(e,n,t);else if(19===e.tag)ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Q(Oi,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ha(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ha(t,!0,n,null,s);break;case"together":ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function pa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ia(e))}function ma(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Go=!0;else{if(!pa(e,n)&&0===(128&t.flags))return Go=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),wa(t,Vi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:wa(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?oa(e,t,n):(Ni(t),null!==(e=fa(e,t,n))?e.sibling:null);Ni(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return da(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Oi,Oi.current),r)break;return null;case 22:case 23:return t.lanes=0,Jo(e,t,n);case 24:wa(t,Vi,e.memoizedState.cache)}return fa(e,t,n)}(e,t,n);Go=0!==(131072&e.flags)}else Go=!1,Jr&&0!==(1048576&t.flags)&&Gr(t,Ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Wo(null,t,r,e,n);break e}if(i===b){t.tag=14,t=Qo(null,t,r,e,n);break e}}throw t=C(r)||r,Error(o(306,t,""))}Fl(r)?(e=Oo(r,e),t.tag=1,t=ta(null,t,r,e,n)):(t.tag=0,t=$o(null,t,r,e,n))}return t;case 0:return $o(e,t,t.type,t.pendingProps,n);case 1:return ta(e,t,r=t.type,i=Oo(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(o(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Ra(e,t),Ua(t,s,null,n);var a=t.memoizedState;if(s=a.cache,wa(t,Vi,s),s!==i.cache&&Ea(t,[Vi],n,!0),Fa(),s=a.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=na(e,t,s,n);break e}if(s!==r){si(r=Or(Error(o(424)),t)),t=na(e,t,s,n);break e}for(Yr=lh(t.stateNode.containerInfo.firstChild),Qr=t,Jr=!0,Xr=null,Zr=!0,n=Ei(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=fa(e,t,n);break e}Ko(e,t,s,n)}t=t.child}return t;case 26:return Zo(e,t),null===e?(n=yh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Jr||(n=t.type,e=t.pendingProps,(r=Ju(X.current).createElement(n))[Ue]=t,r[Ve]=e,Wu(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=yh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Jr&&(r=t.stateNode=uh(t.type,t.pendingProps,X.current),Qr=t,Zr=!0,Yr=lh(r.firstChild)),r=t.pendingProps.children,null!==e||Jr?Ko(e,t,r,n):t.child=_i(t,null,r,n),Zo(e,t),t.child;case 5:return null===e&&Jr&&((i=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=lh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Zr))?(t.stateNode=r,Qr=t,Yr=lh(r.firstChild),Zr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,$u(i,s)?r=null:null!==a&&$u(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=hs(e,t,ps,null,null,n),Fh._currentValue=i),Zo(e,t),Ko(e,t,r,n),t.child;case 6:return null===e&&Jr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=lh(e.nextSibling)))return null}return e}(n,t.pendingProps,Zr))?(t.stateNode=n,Qr=t,Yr=null,e=!0):e=!1),e||ei(t)),null;case 13:return oa(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_i(t,null,r,n):Ko(e,t,r,n),t.child;case 11:return Wo(e,t,t.type,t.pendingProps,n);case 7:return Ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ko(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wa(t,t.type,r.value),Ko(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ka(t),r=r(i=Ta(i)),t.flags|=1,Ko(e,t,r,n),t.child;case 14:return Qo(e,t,t.type,t.pendingProps,n);case 15:return Yo(e,t,t.type,t.pendingProps,n);case 19:return da(e,t,n);case 22:return Jo(e,t,n);case 24:return ka(t),r=Ta(Vi),null===e?(null===(i=Yi())&&(i=nc,s=zi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Na(t),wa(t,Vi,i)):(0!==(e.lanes&n)&&(Ra(e,t),Ua(t,null,null,n),Fa()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wa(t,Vi,r)):(r=s.cache,wa(t,Vi,r),r!==i.cache&&Ea(t,[Vi],n,!0))),Ko(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var ga=K(null),ya=null,va=null;function wa(e,t,n){Q(ga,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=ga.current,W(ga)}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_a(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),_a(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Sa(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===Z.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fh):e=[Fh])}i=i.return}null!==e&&Ea(t,e,n,r),t.flags|=262144}function Ia(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return Aa(ya,e)}function Ca(e,t){return null===ya&&ka(e),Aa(e,t)}function Aa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(o(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var xa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Nr(e,null,n),t}return Cr(e,r,t,n),Rr(e)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ma=!1;function Fa(){if(Ma){if(null!==Gi)throw Gi}}function Ua(e,t,n,r){Ma=!1;var i=e.updateQueue;xa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=-536870913&a.lane,f=d!==a.lane;if(f?(ic&d)===d:(r&d)===d){0!==d&&d===Hi&&(Ma=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,m=a;d=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(g,h,d):p)||void 0===d)break e;h=R({},h,d);break e;case 2:xa=!0}}null!==(d=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),dc|=o,e.lanes=o,e.memoizedState=h}}function Va(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function za(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Va(n[e],t)}function ja(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){iu(t,t.return,a)}}function Ba(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n;try{a()}catch(c){iu(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){iu(t,t.return,c)}}function qa(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{za(t,n)}catch(r){iu(e,e.return,r)}}}function Ha(e,t,n){n.props=Oo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){iu(e,t,r)}}function Ga(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){iu(e,t,s)}}function Ka(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){iu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){iu(e,t,s)}else n.current=null}function Wa(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){iu(e,e.return,i)}}function Qa(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Gu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Gu(e,t,f,p,r,d)}}return void gt(e,a,l,c,u,h,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Gu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Gu(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Gu(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Gu(e,t,a,i,r,s)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Gu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Gu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Gu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Gu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Ku(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Ku(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Gu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Gu(e,t,d,f,r,p)}(r,e.type,n,t),r[Ve]=t}catch(i){iu(e,e.return,i)}}function Ya(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ja(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xa(e,t,n),e=e.sibling;null!==e;)Xa(e,t,n),e=e.sibling}function Za(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Za(e,t,n),e=e.sibling;null!==e;)Za(e,t,n),e=e.sibling}var $a=!1,el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null,il=!1;function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&ja(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){iu(n,n.return,a)}else{var i=Oo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){iu(n,n.return,l)}}64&r&&qa(n),512&r&&Ga(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{za(r,e)}catch(a){iu(n,n.return,a)}}break;case 26:vl(e,n),512&r&&Ga(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Wa(n),512&r&&Ga(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&hl(e,n);break;case 22:if(!(i=null!==n.memoizedState||$a)){t=null!==t&&null!==t.memoizedState||el;var s=$a,o=el;$a=i,(el=t)&&!o?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),$a=s,el=o}512&r&&("manual"===n.memoizedProps.mode?Ga(n,n.return):Ka(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:el||Ka(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:el||Ka(n,t);var r=al,i=ll;for(al=n.stateNode,cl(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ke(n),al=r,ll=i;break;case 5:el||Ka(n,t);case 6:i=al;var s=ll;if(al=null,cl(e,t,n),ll=s,null!==(al=i))if(ll)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(a){iu(n,t,a)}else try{al.removeChild(n.stateNode)}catch(a){iu(n,t,a)}break;case 18:null!==al&&(ll?(t=al,n=n.stateNode,8===t.nodeType?oh(t.parentNode,n):1===t.nodeType&&oh(t,n),gd(t)):oh(al,n.stateNode));break;case 4:r=al,i=ll,al=n.stateNode.containerInfo,ll=!0,cl(e,t,n),al=r,ll=i;break;case 0:case 11:case 14:case 15:el||Ba(2,n,t),el||Ba(4,n,t),cl(e,t,n);break;case 1:el||(Ka(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Ha(n,t,r)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:el||Ka(n,t),el=(r=el)||null!==n.memoizedState,cl(e,t,n),el=r;break;default:cl(e,t,n)}}function hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gd(e)}catch(n){iu(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new nl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ll=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===al)throw Error(o(160));ul(s,a,i),al=null,ll=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var pl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&r&&(Ba(3,e,e.return),ja(3,e),Ba(5,e,e.return));break;case 1:fl(t,e),gl(e),512&r&&(el||null===n||Ka(n,n.return)),64&r&&$a&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(fl(t,e),gl(e),512&r&&(el||null===n||Ka(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ge]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wu(s,r,n),s[Ue]=e,Xe(s),r=s;break e;case"link":var a=Ah("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=Ah("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Ue]=e,Xe(s),r=s}e.stateNode=r}else xh(i,e.type,e.stateNode);else e.stateNode=Sh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?xh(i,e.type,e.stateNode):Sh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Qa(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[Ge]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var d=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wu(i,d,s),i[Ue]=e,i[Ve]=s}catch(m){iu(e,e.return,m)}}case 5:if(fl(t,e),gl(e),512&r&&(el||null===n||Ka(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){iu(e,e.return,m)}}4&r&&null!=e.stateNode&&Qa(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){iu(e,e.return,m)}}break;case 3:if(Ch=null,i=pl,pl=fh(t.containerInfo),fl(t,e),pl=i,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gd(t.containerInfo)}catch(m){iu(e,e.return,m)}tl&&(tl=!1,yl(e));break;case 4:r=pl,pl=fh(e.stateNode.containerInfo),fl(t,e),gl(e),pl=r;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(el||null===n||Ka(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,$a=(h=$a)||c,el=(d=el)||u,fl(t,e),el=d,$a=h,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=$a||el,null===n||u||t||wl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){iu(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){iu(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:fl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ya(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 27:var i=r.stateNode;Za(e,Ja(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(Et(s,""),r.flags&=-33),Za(e,Ja(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;Xa(e,Ja(e),a);break;default:throw Error(o(161))}}}catch(l){iu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sl(e,t.alternate,t),t=t.sibling}function wl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),wl(t);break;case 1:Ka(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ha(t,t.return,n),wl(t);break;case 26:case 27:case 5:Ka(t,t.return),wl(t);break;case 22:Ka(t,t.return),null===t.memoizedState&&wl(t);break;default:wl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),ja(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){iu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Va(l[i],a)}catch(c){iu(r,r.return,c)}}n&&64&o&&qa(s),Ga(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&o&&Wa(s),Ga(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&o&&hl(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),Ga(s,s.return)}t=t.sibling}}function _l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function El(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Il(e,t,n,r),t=t.sibling}function Il(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&ja(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){iu(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Sl(e,t,n,r):Tl(e,t):4&s._visibility?Sl(e,t,n,r):(s._visibility|=4,kl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&_l(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&El(t.alternate,t);break;default:Sl(e,t,n,r)}}function kl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:kl(s,o,a,l,i),ja(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?kl(s,o,a,l,i):Tl(s,o):(u._visibility|=4,kl(s,o,a,l,i)),i&&2048&c&&_l(o.alternate,o);break;case 24:kl(s,o,a,l,i),i&&2048&c&&El(o.alternate,o);break;default:kl(s,o,a,l,i)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),2048&i&&_l(r.alternate,r);break;case 24:Tl(n,r),2048&i&&El(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var Cl=8192;function Al(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)xl(e),e=e.sibling}function xl(e){switch(e.tag){case 26:Al(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Rh)throw Error(o(475));var r=Rh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vh(n.href),s=e.querySelector(wh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Dh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Xe(s);s=e.ownerDocument||e,n=bh(n),(i=hh.get(i))&&kh(n,i),Xe(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Wu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Dh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:Al(e);break;case 3:case 4:var t=pl;pl=fh(e.stateNode.containerInfo),Al(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Al(e),Cl=t):Al(e))}}function Nl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ol(r,e)}Nl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Rl(e),2048&e.flags&&Ba(9,e,e.return);break;case 3:case 12:default:Rl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Dl(e)):Rl(e)}}function Dl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Ol(r,e)}Nl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ba(8,t,t.return),Dl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Dl(t));break;default:Dl(t)}e=e.sibling}}function Ol(e,t){for(;null!==rl;){var n=rl;switch(n.tag){case 0:case 11:case 15:Ba(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,rl=r;else e:for(n=e;null!==rl;){var i=(r=rl).sibling,s=r.return;if(ol(r),r===n){rl=null;break e}if(null!==i){i.return=s,rl=i;break e}rl=s}}}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Ll(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Fl(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return jl(n.children,i,s,t);case d:a=8,i|=24;break;case f:return(e=Ml(12,n,t,2|i)).elementType=f,e.lanes=s,e;case v:return(e=Ml(13,n,t,i)).elementType=v,e.lanes=s,e;case w:return(e=Ml(19,n,t,i)).elementType=w,e.lanes=s,e;case E:return Bl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:a=10;break e;case m:a=9;break e;case y:a=11;break e;case b:a=14;break e;case _:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ml(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function jl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Ml(22,e,r,t)).elementType=E,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0===(2&i._pendingVisibility)){var t=xr(e,2);null!==t&&(i._pendingVisibility|=2,Dc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(o(456));if(0!==(2&i._pendingVisibility)){var t=xr(e,2);null!==t&&(i._pendingVisibility&=-3,Dc(t,e,2))}}};return e.stateNode=i,e}function ql(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Nh(t)){if(null!==(t=Ai.current)&&((4194176&ic)===ic?null!==xi:(62914560&ic)!==ic&&0===(536870912&ic)||t!==xi))throw di=li,ai;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,gc|=t)}function Ql(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jl(e,t,n){var r=t.pendingProps;switch(Wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Vi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Gl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Lc(Xr),Xr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Gl(t),null!==n?(Yl(t),Kl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Gl(t),Yl(t),Kl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Gl(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Gl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Yl(t),null}e=Y.current,ri(t)?ti(t):(e=uh(i,r,n),t.stateNode=e,Gl(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Gl(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Yl(t),null}if(e=Y.current,ri(t))ti(t);else{switch(i=Ju(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ue]=t,e[Ve]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Gl(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Gl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=X.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Qr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||qu(e.nodeValue,n)))||ei(t)}else(e=Ju(e).createTextNode(r))[Ue]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ue]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==Xr&&(Lc(Xr),Xr=null),i=!0;if(!i)return 256&t.flags?(Di(t),t):(Di(t),null)}if(Di(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Du(t.stateNode.containerInfo),Yl(t),null;case 10:return ba(t.type),Yl(t),null;case 19:if(W(Oi),null===(i=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Ql(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Li(e))){for(t.flags|=128,Ql(i,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vl(n,e),n=n.sibling;return Q(Oi,1&Oi.current|2),t.child}e=e.sibling}null!==i.tail&&le()>_c&&(t.flags|=128,r=!0,Ql(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Ql(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Jr)return Yl(t),null}else 2*le()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,Ql(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Oi.current,Q(Oi,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Di(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Vi),Yl(t),null;case 25:return null}throw Error(o(156,t.tag))}function Xl(e,t){switch(Wr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Vi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Di(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Oi),null;case 4:return ee(),null;case 10:return ba(t.type),null;case 22:case 23:return Di(t),Ci(),null!==e&&W(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Vi),null;default:return null}}function Zl(e,t){switch(Wr(t),t.tag){case 3:ba(Vi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Di(t);break;case 19:W(Oi);break;case 10:ba(t.type);break;case 22:case 23:Di(t),Ci(),null!==e&&W(Qi);break;case 24:ba(Vi)}}var $l={getCacheForType:function(e){var t=Ta(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,nc=null,rc=null,ic=0,sc=0,oc=null,ac=!1,lc=!1,cc=!1,uc=0,hc=0,dc=0,fc=0,pc=0,mc=0,gc=0,yc=null,vc=null,wc=!1,bc=0,_c=1/0,Ec=null,Sc=null,Ic=!1,kc=null,Tc=0,Cc=0,Ac=null,xc=0,Nc=null;function Rc(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==N.T){return 0!==Hi?Hi:Eu()}return Me()}function Pc(){0===mc&&(mc=0===(536870912&ic)||Jr?xe():536870912);var e=Ai.current;return null!==e&&(e.flags|=32),mc}function Dc(e,t,n){(e===nc&&2===sc||null!==e.cancelPendingCommit)&&(jc(e,0),Uc(e,ic,mc,!1)),Pe(e,n),0!==(2&tc)&&e===nc||(e===nc&&(0===(2&tc)&&(fc|=n),4===hc&&Uc(e,ic,mc,!1)),gu(e))}function Oc(e,t,n){if(0!==(6&tc))throw Error(o(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=tc;tc|=2;var r=qc(),i=Hc();nc!==e||ic!==t?(Ec=null,_c=le()+500,jc(e,t)):lc=Ce(e,t);e:for(;;)try{if(0!==sc&&null!==rc){t=rc;var s=oc;t:switch(sc){case 1:sc=0,oc=null,Xc(e,t,s,1);break;case 2:if(ci(s)){sc=0,oc=null,Jc(t);break}t=function(){2===sc&&nc===e&&(sc=7),gu(e)},s.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:ci(s)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Xc(e,t,s,7));break;case 5:var a=null;switch(rc.tag){case 26:a=rc.memoizedState;case 5:case 27:var l=rc;if(!a||Nh(a)){sc=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,Zc(u)):rc=null}break t}}sc=0,oc=null,Xc(e,t,s,5);break;case 6:sc=0,oc=null,Xc(e,t,s,6);break;case 8:zc(),hc=6;break e;default:throw Error(o(462))}}Qc();break}catch(h){Bc(e,h)}return va=ya=null,N.H=r,N.A=i,tc=n,null!==rc?0:(nc=null,ic=0,Tr(),hc)}(e,t):Kc(e,t,!0),s=r;;){if(0===i){lc&&!r&&Uc(e,t,0,!1);break}if(6===i)Uc(e,t,0,!ac);else{if(n=e.current.alternate,s&&!Fc(n)){i=Kc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(jc(l,a).flags|=256),2!==(a=Kc(l,a,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=s,fc|=s,i=4;break e}s=vc,vc=i,null!==s&&Lc(s)}i=a}if(s=!1,2!==i)continue}}if(1===i){jc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(o(345));case 4:if((4194176&t)===t){Uc(r,t,mc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(o(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bc+300-le())){if(Uc(r,t,mc,!ac),0!==Te(r,0))break e;r.timeoutHandle=th(Mc.bind(null,r,n,vc,Ec,wc,t,mc,fc,gc,ac,2,-0,0),s)}else Mc(r,n,vc,Ec,wc,t,mc,fc,gc,ac,0,-0,0)}}break}gu(e)}function Lc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Mc(e,t,n,r,i,s,a,l,c,u,h,d,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Rh={stylesheets:null,count:0,unsuspend:Ph},xl(t),null!==(t=function(){if(null===Rh)throw Error(o(475));var e=Rh;return e.stylesheets&&0===e.count&&Lh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(eu.bind(null,e,n,r,i,a,l,c,1,d,f)),void Uc(e,s,a,!u);eu(e,n,r,i,a,l,c,h,d,f)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-be(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&De(e,n,t)}function Vc(){return 0!==(6&tc)||(yu(0,!1),!1)}function zc(){if(null!==rc){if(0===sc)var e=rc.return;else va=ya=null,ys(e=rc),pi=null,mi=0,e=rc;for(;null!==e;)Zl(e.alternate,e),e=e.return;rc=null}}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),nc=e,rc=n=Ul(e.current,null),ic=t,sc=0,oc=null,ac=!1,lc=Ce(e,t),cc=!1,gc=mc=pc=fc=dc=hc=0,vc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),s=1<<i;t|=e[i],r&=~s}return uc=t,Tr(),n}function Bc(e,t){$i=null,N.H=To,t===oi?(t=fi(),sc=3):t===ai?(t=fi(),sc=4):sc=t===Ho?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===rc&&(hc=1,Vo(e,Or(t,e.current)))}function qc(){var e=N.H;return N.H=To,null===e?To:e}function Hc(){var e=N.A;return N.A=$l,e}function Gc(){hc=4,ac||(4194176&ic)!==ic&&null!==Ai.current||(lc=!0),0===(134217727&dc)&&0===(134217727&fc)||null===nc||Uc(nc,ic,mc,!1)}function Kc(e,t,n){var r=tc;tc|=2;var i=qc(),s=Hc();nc===e&&ic===t||(Ec=null,jc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==sc&&null!==rc){var a=rc,l=oc;switch(sc){case 8:zc(),o=6;break e;case 3:case 2:case 6:null===Ai.current&&(t=!0);var c=sc;if(sc=0,oc=null,Xc(e,a,l,c),n&&lc){o=0;break e}break;default:c=sc,sc=0,oc=null,Xc(e,a,l,c)}}Wc(),o=hc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,tc=r,N.H=i,N.A=s,null===rc&&(nc=null,ic=0,Tr()),o}function Wc(){for(;null!==rc;)Yc(rc)}function Qc(){for(;null!==rc&&!oe();)Yc(rc)}function Yc(e){var t=ma(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?Zc(e):rc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ea(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=ea(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:ys(t);default:Zl(n,t),t=ma(n,t=rc=Vl(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?Zc(e):rc=t}function Xc(e,t,n,r){va=ya=null,ys(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,i,!0),null!==(n=Ai.current)){switch(n.tag){case 13:return null===xi?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),su(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),su(e,r,i)),!1}throw Error(o(435,n.tag))}return su(e,r,i),Gc(),!1}if(Jr)return null!==(t=Ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==$r&&si(Or(e=Error(o(422),{cause:r}),n))):(r!==$r&&si(Or(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Or(r,n),La(e,i=jo(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var s=Error(o(520),{cause:r});if(s=Or(s,n),null===yc?yc=[s]:yc.push(s),4!==hc&&(hc=2),null===t)return!0;r=Or(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,La(n,e=jo(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,qo(i=Bo(i),e,n,r),La(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ic))return hc=1,Vo(e,Or(n,e.current)),void(rc=null)}catch(s){if(null!==i)throw rc=i,s;return hc=1,Vo(e,Or(n,e.current)),void(rc=null)}32768&t.flags?(Jr||1===r?e=!0:lc||0!==(536870912&ic)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ai.current)&&13===r.tag&&(r.flags|=16384))),$c(t,e)):Zc(t)}function Zc(e){var t=e;do{if(0!==(32768&t.flags))return void $c(t,ac);e=t.return;var n=Jl(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function $c(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function eu(e,t,n,r,i,s,a,l,c,u){var h=N.T,d=B.p;try{B.p=2,N.T=null,function(e,t,n,r,i,s,a,l){do{nu()}while(null!==kc);if(0!==(6&tc))throw Error(o(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-be(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&De(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,r,u|=kr,s,a,l),e===nc&&(rc=nc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Ic||(Ic=!0,Cc=u,Ac=n,function(e,t){ie(e,t)}(de,(function(){return nu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=N.T,N.T=null,s=B.p,B.p=2,a=tc,tc|=4,function(e,t){if(e=e.containerInfo,Qu=Gh,er(e=$n(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Gh=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(s=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Oo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){iu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=il,il=!1}(e,c),ml(c,e),tr(Yu,e.containerInfo),Gh=!!Qu,Yu=Qu=null,e.current=c,sl(e,c.alternate,c),ae(),tc=a,B.p=s,N.T=n):e.current=c,Ic?(Ic=!1,kc=e,Tc=r):tu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Tc)&&nu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Nc?xc++:(xc=0,Nc=e):xc=0,yu(0,!1)}(e,t,n,r,d,i,s,a)}finally{N.T=h,B.p=d}}function tu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function nu(){if(null!==kc){var e=kc,t=Cc;Cc=0;var n=Le(Tc),r=N.T,i=B.p;try{if(B.p=32>n?32:n,N.T=null,null===kc)var s=!1;else{n=Ac,Ac=null;var a=kc,l=Tc;if(kc=null,Tc=0,0!==(6&tc))throw Error(o(331));var c=tc;if(tc|=4,Pl(a.current),Il(a,a.current,l,n),tc=c,yu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,a)}catch(u){}s=!0}return s}finally{B.p=i,N.T=r,tu(e,t)}}return!1}function ru(e,t,n){t=Or(n,t),null!==(e=Da(e,t=jo(e.stateNode,t,2),2))&&(Pe(e,2),gu(e))}function iu(e,t,n){if(3===e.tag)ru(e,e,n);else for(;null!==t;){if(3===t.tag){ru(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Or(n,e),null!==(r=Da(t,n=Bo(2),2))&&(qo(n,r,t,e),Pe(r,2),gu(r));break}}t=t.return}}function su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ec;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cc=!0,i.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>le()-bc?0===(2&tc)&&jc(e,0):pc|=n,gc===ic&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=Ne()),null!==(e=xr(e,t))&&(Pe(e,t),gu(e))}function lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),au(e,n)}var uu=null,hu=null,du=!1,fu=!1,pu=!1,mu=0;function gu(e){var t;e!==hu&&null===e.next&&(null===hu?uu=hu=e:hu=hu.next=e),fu=!0,du||(du=!0,t=vu,ih((function(){0!==(6&tc)?ie(ue,t):t()})))}function yu(e,t){if(!pu&&fu){pu=!0;do{for(var n=!1,r=uu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326677&(s&=i&~(o&~a))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,_u(r,s))}else s=ic,0===(3&(s=Te(r,r===nc?s:0)))||Ce(r,s)||(n=!0,_u(r,s));r=r.next}}while(n);pu=!1}}function vu(){fu=du=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==eh&&(eh=e,!0);return eh=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,r=uu;null!==r;){var i=r.next,s=wu(r,t);0===s?(r.next=null,null===n?uu=i:n.next=i,null===i&&(hu=n)):(n=r,(0!==e||0!==(3&s))&&(fu=!0)),r=i}yu(e,!1)}function wu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-be(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Ae(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=ic,n=Te(e,e===(t=nc)?n:0),r=e.callbackNode,0===n||e===t&&2===sc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=Te(e,e===nc?r:0))?null:(Oc(e,r,t),wu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function _u(e,t){if(nu())return null;Oc(e,t,!0)}function Eu(){return 0===mu&&(mu=xe()),mu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:xt(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ku=0;ku<_r.length;ku++){var Tu=_r[ku];Er(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Er(fr,"onAnimationEnd"),Er(pr,"onAnimationIteration"),Er(mr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(gr,"onTransitionRun"),Er(yr,"onTransitionStart"),Er(vr,"onTransitionCancel"),Er(wr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){Lo(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){Lo(u)}i.currentTarget=null,s=l}}}}function Nu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Pu]){e[Pu]=!0,Ze.forEach((function(t){"selectionchange"!==t&&(Au.has(t)||Ru(t,!1,e),Ru(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pu]||(t[Pu]=!0,Ru("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(Zh(t)){case 2:var i=Kh;break;case 8:i=Wh;break;default:i=Qh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=We(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Mt((function(){var r=s,i=Rt(n),o=[];e:{var a=br.get(e);if(void 0!==a){var l=Zt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=on;break;case wr:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=wn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===d||null!=(m=Ft(p,d))&&u.push(Mu(p,m,f)),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!We(c)&&!c[ze])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?We(c):null)&&(h=F(c),u=c.tag,c!==h||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Ye(l),f=null==c?a:Ye(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,We(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Uu(f))p++;for(f=0,m=d;m;m=Uu(m))f++;for(;0<p-f;)u=Uu(u),p--;for(;0<f-p;)d=Uu(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Uu(u),d=Uu(d)}u=null}else u=null;null!==l&&Vu(o,a,l,u,!1),null!==c&&null!==h&&Vu(o,h,c,u,!0)}if("select"===(l=(a=r?Ye(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Fn;else if(Rn(a))if(Un)g=Wn;else{g=Gn;var y=Hn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(g=Fn):g=Kn;switch(g&&(g=g(e,r))?Pn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),y=r?Ye(r):window,e){case"focusin":(Rn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var v;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xn?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(xn||"onCompositionStart"!==w?"onCompositionEnd"===w&&xn&&(v=qt()):(jt="value"in(zt=i)?zt.value:zt.textContent,xn=!0)),0<(y=Fu(r,w)).length&&(w=new ln(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=An(n))&&(w.data=v))),(v=Sn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,kn);case"textInput":return(e=t.data)===kn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(xn)return"compositionend"===e||!_n&&Cn(e,t)?(e=qt(),Bt=jt=zt=null,xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Fu(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Su((i[Ve]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ve]||null)?Su(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=o?Iu(i,o):new FormData(i);ho(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Iu(i,o):new FormData(i),ho(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}xu(o,t)}))}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(Mu(e,i,s)),null!=(i=Ft(e,t))&&r.push(Mu(e,i,s))),e=e.return}return r}function Uu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,s))&&o.unshift(Mu(n,c,l)):i||null!=(c=Ft(n,s))&&o.push(Mu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var zu=/\r\n?/g,ju=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(zu,"\n").replace(ju,"")}function qu(e,t){return t=Bu(t),Bu(e)===t}function Hu(){}function Gu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":kt(e,r,s);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=xt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Gu(e,t,"name",i.name,i,null),Gu(e,t,"formEncType",i.formEncType,i,null),Gu(e,t,"formMethod",i.formMethod,i,null),Gu(e,t,"formTarget",i.formTarget,i,null)):(Gu(e,t,"encType",i.encType,i,null),Gu(e,t,"method",i.method,i,null),Gu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=xt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=xt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Nu("beforetoggle",e),Nu("toggle",e),ot(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ot(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Ct.get(n)||n,r)}}function Ku(e,t,n,r,i,s){switch(n){case"style":kt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:$e.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ve]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ot(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nu("error",e),Nu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Gu(e,t,r,a,n,null)}}return s&&Gu(e,t,"srcSet",n.srcSet,n,null),void(i&&Gu(e,t,"src",n.src,n,null));case"input":Nu("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Gu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,a,s,!1),void ht(e);case"select":for(s in Nu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Gu(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(a in Nu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Gu(e,t,a,l,n,null)}return _t(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Gu(e,t,c,i,n,null);return;case"dialog":Nu("cancel",e),Nu("close",e);break;case"iframe":case"object":Nu("load",e);break;case"video":case"audio":for(i=0;i<Cu.length;i++)Nu(Cu[i],e);break;case"image":Nu("error",e),Nu("load",e);break;case"details":Nu("toggle",e);break;case"embed":case"source":case"link":Nu("error",e),Nu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Gu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Ku(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Gu(e,t,l,i,n,null))}var Qu=null,Yu=null;function Ju(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function $u(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eh=null;var th="function"===typeof setTimeout?setTimeout:void 0,nh="function"===typeof clearTimeout?clearTimeout:void 0,rh="function"===typeof Promise?Promise:void 0,ih="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rh?function(e){return rh.resolve(null).then(e).catch(sh)}:th;function sh(e){setTimeout((function(){throw e}))}function oh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gd(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gd(t)}function ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ah(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function lh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function uh(e,t,n){switch(t=Ju(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var hh=new Map,dh=new Set;function fh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var ph=B.d;B.d={f:function(){var e=ph.f(),t=Vc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?po(t):ph.r(e)},D:function(e){ph.D(e),gh("dns-prefetch",e,null)},C:function(e,t){ph.C(e,t),gh("preconnect",e,t)},L:function(e,t,n){ph.L(e,t,n);var r=mh;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=vh(e);break;case"script":s=_h(e)}hh.has(s)||(e=R({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),hh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(wh(s))||"script"===t&&r.querySelector(Eh(s))||(Wu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){ph.m(e,t);var n=mh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=_h(e)}if(!hh.has(s)&&(e=R({rel:"modulepreload",href:e},t),hh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Eh(s)))return}Wu(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){ph.X(e,t);var n=mh;if(n&&e){var r=Je(n).hoistableScripts,i=_h(e),s=r.get(i);s||((s=n.querySelector(Eh(i)))||(e=R({src:e,async:!0},t),(t=hh.get(i))&&Th(e,t),Xe(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){ph.S(e,t,n);var r=mh;if(r&&e){var i=Je(r).hoistableStyles,s=vh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(wh(s)))a.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},n),(n=hh.get(s))&&kh(e,n);var l=o=r.createElement("link");Xe(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Ih(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){ph.M(e,t);var n=mh;if(n&&e){var r=Je(n).hoistableScripts,i=_h(e),s=r.get(i);s||((s=n.querySelector(Eh(i)))||(e=R({src:e,async:!0,type:"module"},t),(t=hh.get(i))&&Th(e,t),Xe(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var mh="undefined"===typeof document?null:document;function gh(e,t,n){var r=mh;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dh.has(i)||(dh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function yh(e,t,n,r){var i,s,a,l,c=(c=X.current)?fh(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vh(n.href),(r=(n=Je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vh(n.href);var u=Je(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(wh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),hh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hh.set(e,n),u||(i=c,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Wu(s,"link",a),Xe(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=_h(n),(r=(n=Je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function vh(e){return'href="'+mt(e)+'"'}function wh(e){return'link[rel="stylesheet"]['+e+"]"}function bh(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function _h(e){return'[src="'+mt(e)+'"]'}function Eh(e){return"script[async]"+e}function Sh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var i=R({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",i),Ih(r,n.precedence,e),t.instance=r;case"stylesheet":i=vh(n.href);var s=e.querySelector(wh(i));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;r=bh(n),(i=hh.get(i))&&kh(r,i),Xe(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Wu(s,"link",r),t.state.loading|=4,Ih(s,n.precedence,e),t.instance=s;case"script":return s=_h(n.src),(i=e.querySelector(Eh(s)))?(t.instance=i,Xe(i),i):(r=n,(i=hh.get(s))&&Th(r=R({},n),i),Xe(i=(e=e.ownerDocument||e).createElement("script")),Wu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ih(r,n.precedence,e));return t.instance}function Ih(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function kh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ch=null;function Ah(e,t,n){if(null===Ch){var r=new Map,i=Ch=new Map;i.set(n,r)}else(r=(i=Ch).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ge]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function xh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Nh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Rh=null;function Ph(){}function Dh(){if(this.count--,0===this.count)if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Oh=null;function Lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Oh=new Map,t.forEach(Mh,e),Oh=null,Dh.call(e))}function Mh(e,t){if(!(4&t.state.loading)){var n=Oh.get(e);if(n)var r=n.get(null);else{n=new Map,Oh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Dh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fh={$$typeof:g,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Uh(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Vh(e,t,n,r,i,s,o,a,l,c,u,h){return e=new Uh(e,t,n,o,a,l,c,h),t=1,!0===s&&(t|=24),s=Ml(3,null,null,t),e.current=s,s.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Na(s),e}function zh(e){return e?e=Pr:Pr}function jh(e,t,n,r,i,s){i=zh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Pa(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Da(e,r,t))&&(Dc(n,0,t),Oa(n,e,t))}function Bh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qh(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function Hh(e){if(13===e.tag){var t=xr(e,67108864);null!==t&&Dc(t,0,67108864),qh(e,67108864)}}var Gh=!0;function Kh(e,t,n,r){var i=N.T;N.T=null;var s=B.p;try{B.p=2,Qh(e,t,n,r)}finally{B.p=s,N.T=i}}function Wh(e,t,n,r){var i=N.T;N.T=null;var s=B.p;try{B.p=8,Qh(e,t,n,r)}finally{B.p=s,N.T=i}}function Qh(e,t,n,r){if(Gh){var i=Yh(r);if(null===i)Lu(e,t,r,Jh,n),ad(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ed=ld(ed,e,t,n,r,i),!0;case"dragenter":return td=ld(td,e,t,n,r,i),!0;case"mouseover":return nd=ld(nd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,ld(rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,ld(id.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ad(e,r),4&t&&-1<od.indexOf(e)){for(;null!==i;){var s=Qe(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ke(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-be(o);a.entanglements[1]|=l,o&=~l}gu(s),0===(6&tc)&&(_c=le()+500,yu(0,!1))}}break;case 13:null!==(a=xr(s,2))&&Dc(a,0,2),Vc(),qh(s,2)}if(null===(s=Yh(r))&&Lu(e,t,r,Jh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Lu(e,t,r,null,n)}}function Yh(e){return Xh(e=Rt(e))}var Jh=null;function Xh(e){if(Jh=null,null!==(e=We(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=U(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jh=e,null}function Zh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var $h=!1,ed=null,td=null,nd=null,rd=new Map,id=new Map,sd=[],od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ad(e,t){switch(e){case"focusin":case"focusout":ed=null;break;case"dragenter":case"dragleave":td=null;break;case"mouseover":case"mouseout":nd=null;break;case"pointerover":case"pointerout":rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(t.pointerId)}}function ld(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Qe(t))&&Hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function cd(e){var t=We(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc(),t=xr(n,e);null!==t&&Dc(t,0,e),qh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yh(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&Hh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function hd(e,t,n){ud(e)&&n.delete(t)}function dd(){$h=!1,null!==ed&&ud(ed)&&(ed=null),null!==td&&ud(td)&&(td=null),null!==nd&&ud(nd)&&(nd=null),rd.forEach(hd),id.forEach(hd)}function fd(e,t){e.blockedOn===t&&(e.blockedOn=null,$h||($h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dd)))}var pd=null;function md(e){pd!==e&&(pd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){pd===e&&(pd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Xh(r||n))continue;break}var s=Qe(n);null!==s&&(e.splice(t,3),t-=3,ho(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gd(e){function t(t){return fd(t,e)}null!==ed&&fd(ed,e),null!==td&&fd(td,e),null!==nd&&fd(nd,e),rd.forEach(t),id.forEach(t);for(var n=0;n<sd.length;n++){var r=sd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<sd.length&&null===(n=sd[0]).blockedOn;)cd(n),null===n.blockedOn&&sd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Ve]||null;if("function"===typeof s)o||md(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Ve]||null)a=o.formAction;else if(null!==Xh(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),md(n)}}}function yd(e){this._internalRoot=e}function vd(e){this._internalRoot=e}vd.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));jh(t.current,Rc(),e,t,null,null)},vd.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nu(),jh(e.current,2,null,e,null,null),Vc(),t[ze]=null}},vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sd.length&&0!==t&&t<sd[n].priority;n++);sd.splice(n,0,e),0===n&&cd(e)}};var wd=i.version;if("19.0.0"!==wd)throw Error(o(527,wd,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V(i),e;if(s===r)return V(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var bd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{ye=_d.inject(bd),ve=_d}catch(Sd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Mo,s=Fo,l=Uo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Vh(e,1,!1,null,0,n,r,i,s,l,0,null),e[ze]=t.current,Du(8===e.nodeType?e.parentNode:e),new yd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Mo,l=Fo,c=Uo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Vh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=zh(null),n=t.current,(i=Pa(r=Rc())).callback=null,Da(n,i,r),t.current.lanes=r,Pe(t,r),gu(t),e[ze]=t.current,Du(e),new vd(t)},t.version="19.0.0"},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function x(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return x((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+C(e,0):s,_(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),x(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=I(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(_(e))for(var m=0;m<e.length;m++)u+=x(s=e[m],t,i,a=p+C(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=x(s=s.value,t,i,a=p+C(s,m++),o);else if("object"===a){if("function"===typeof e.then)return x(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return I(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return I(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,P)}catch(s){P(s)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},579:(e,t,n)=>{e.exports=n(799)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R();else{var t=r(u);null!==t&&P(_,t.startTime-e)}}var E,S=!1,I=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function A(){if(S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(I),I=-1),p=!0;var s=f;try{t:{for(b(e),d=r(c);null!==d&&!(d.expirationTime>e&&C());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,b(e),n=!0;break t}d===r(c)&&i(c),b(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?E():S=!1}}}if("function"===typeof w)E=function(){w(A)};else if("undefined"!==typeof MessageChannel){var x=new MessageChannel,N=x.port2;x.port1.onmessage=A,E=function(){N.postMessage(null)}}else E=function(){y(A,0)};function R(){S||(S=!0,E())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,P(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r={};n.r(r),n.d(r,{FirebaseError:()=>hn,SDK_VERSION:()=>qr,_DEFAULT_ENTRY_NAME:()=>Cr,_addComponent:()=>Pr,_addOrOverwriteComponent:()=>Dr,_apps:()=>xr,_clearComponents:()=>Vr,_components:()=>Rr,_getProvider:()=>Lr,_isFirebaseApp:()=>Fr,_isFirebaseServerApp:()=>Ur,_registerComponent:()=>Or,_removeServiceInstance:()=>Mr,_serverApps:()=>Nr,deleteApp:()=>Qr,getApp:()=>Kr,getApps:()=>Wr,initializeApp:()=>Hr,initializeServerApp:()=>Gr,onLog:()=>Jr,registerVersion:()=>Yr,setLogLevel:()=>Xr});var i=n(43),s=n(391);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return k((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return E("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:S(e);return n=n.replace(/ $/,"%20"),w(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,o.replaceState(h(h({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,d),l=e,()=>{i.removeEventListener(y,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=E(p.location,e,t);n&&n(r,e),c=u()+1;let h=_(r,c),d=p.createHref(r);try{o.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=E(p.location,e,t);n&&n(r,e),c=u();let i=_(r,c),h=p.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function T(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=j(("string"===typeof t?I(t):t).pathname||"/",n);if(null==i)return null;let s=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=z(i);o=U(s[a],e,r)}return o}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(w(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let a=K([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),A(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:F(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=x(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var N=/^:[\w-]+$/,R=3,P=2,D=1,O=10,L=-2,M=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=L),t&&(r+=P),n.filter((e=>!M(e))).reduce(((e,t)=>e+(N.test(t)?R:""===t?D:O)),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:K([s,u.pathname]),pathnameBase:W(K([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=K([s,u.pathnameBase]))}return o}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function H(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function G(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=I(e):(r=h({},e),w(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?I(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Q(r),hash:Y(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],Z=(new Set(X),["GET",...X]);new Set(Z),Symbol("ResetLoaderData");var $=i.createContext(null);$.displayName="DataRouter";var ee=i.createContext(null);ee.displayName="DataRouterState";var te=i.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=i.createContext(new Map);ne.displayName="Fetchers";var re=i.createContext(null);re.displayName="Await";var ie=i.createContext(null);ie.displayName="Navigation";var se=i.createContext(null);se.displayName="Location";var oe=i.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var ae=i.createContext(null);ae.displayName="RouteError";function le(){return null!=i.useContext(se)}function ce(){return w(le(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(se).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){i.useContext(ie).static||i.useLayoutEffect(e)}function de(){let{isDataRoute:e}=i.useContext(oe);return e?function(){let{router:e}=_e("useNavigate"),t=Se("useNavigate"),n=i.useRef(!1);he((()=>{n.current=!0}));let r=i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,ue),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))}),[e,t]);return r}():function(){w(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext($),{basename:t,navigator:n}=i.useContext(ie),{matches:r}=i.useContext(oe),{pathname:s}=ce(),o=JSON.stringify(H(r)),a=i.useRef(!1);he((()=>{a.current=!0}));let l=i.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ue),!a.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:K([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,s,e]);return l}()}i.createContext(null);function fe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(oe),{pathname:r}=ce(),s=JSON.stringify(H(n));return i.useMemo((()=>G(e,JSON.parse(s),r,"path"===t)),[e,s,r,t])}function pe(e,t,n,r){w(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(ie),{matches:o}=i.useContext(oe),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let e=d&&d.path||"";Te(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=ce();if(t){var m;let e="string"===typeof t?I(t):t;w("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=T(e,{pathname:y});b(d||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=we(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:K([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&_?i.createElement(se.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function me(){let e=Ie(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,a)}var ge=i.createElement(me,null),ye=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(oe.Provider,{value:this.props.routeContext},i.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ve(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext($);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(oe.Provider,{value:t},r)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=r.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let o=!1,a=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=i),e.route.id){let{loaderData:t,errors:i}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||s){o=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,d=l.route.errorElement||ge,o&&(a<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):a===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?d:h?f:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(ve,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(ye,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(e){let t=i.useContext($);return w(t,be(e)),t}function Ee(e){let t=i.useContext(ee);return w(t,be(e)),t}function Se(e){let t=function(e){let t=i.useContext(oe);return w(t,be(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=i.useContext(ae),n=Ee("useRouteError"),r=Se("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var ke={};function Te(e,t,n){t||ke[e]||(ke[e]=!0,b(!1,n))}i.memo((function(e){let{routes:t,future:n,state:r}=e;return pe(t,void 0,r,n)}));function Ce(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:a=!1}=e;w(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof r&&(r=I(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=i.useMemo((()=>{let e=j(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[l,u,h,d,f,p,s]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(ie.Provider,{value:c},i.createElement(se.Provider,{children:n,value:m}))}function xe(e){let{children:t,location:n}=e;return pe(Ne(t),n)}i.Component;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ne(e.props.children,s));w(e.type===Ce,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ne(e.props.children,s)),n.push(o)})),n}var Re="get",Pe="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Me(e){return null==e||Le.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Pe,'"')),null)}function Fe(e,t){let n,r,i,s,o;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?j(o,t):null,n=e.getAttribute("method")||Re,i=Me(e.getAttribute("enctype"))||Pe,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?j(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,i=Me(e.getAttribute("formenctype"))||Me(o.getAttribute("enctype"))||Pe,s=new FormData(o,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=Pe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Be(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function qe(e){return[...new Set(e)]}function He(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ge(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ke(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}i.Component;function We(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(J(t))return i.createElement(Qe,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(Qe,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function Qe(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=$e();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?i.createElement(ot,null):null)))}function Ye(e){return!e}function Je(){let e=i.useContext($);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=i.useContext(ee);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=i.createContext(void 0);function $e(){let e=i.useContext(Ze);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function nt(e){let{page:t}=e,n=o(e,d),{router:r}=Je(),s=i.useMemo((()=>T(r.routes,t,r.basename)),[r.routes,t,r.basename]);return s?i.createElement(it,h({page:t,matches:s},n)):null}function rt(e){let{manifest:t,routeModules:n}=$e(),[r,s]=i.useState([]);return i.useEffect((()=>{let r=!1;return async function(e,t,n){return He((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(je).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),r}function it(e){let{page:t,matches:n}=e,r=o(e,f),s=ce(),{manifest:a,routeModules:l}=$e(),{loaderData:c,matches:u}=Xe(),d=i.useMemo((()=>Be(t,n,u,a,s,"data")),[t,n,u,a,s]),p=i.useMemo((()=>Be(t,n,u,a,s,"assets")),[t,n,u,a,s]),m=i.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Ke(t);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,s,a,d,n,t,l]),g=i.useMemo((()=>function(e,t){return qe(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(p,a)),[p,a]),y=rt(p);return i.createElement(i.Fragment,null,m.map((e=>i.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},r)))),g.map((e=>i.createElement("link",h({key:e,rel:"modulepreload",href:e},r)))),y.map((e=>{let{key:t,link:n}=e;return i.createElement("link",h({key:t},n))})))}Ze.displayName="FrameworkContext";var st=!1;function ot(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:s}=$e(),{router:o,static:a,staticContext:l}=Je(),{matches:c}=Xe(),u=Ye(r);s&&(s.didRenderScripts=!0);let d=tt(c,null,r);i.useEffect((()=>{st=!0}),[]);let f=i.useMemo((()=>{var r;let s=l?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=a?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(u?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(d.map(((e,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(u?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((e=>{let r=T(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return h(h({},e),{},{routes:s})}(t,o),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(d.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(s),type:void 0})),i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(c),type:"module",async:!0})))}),[]),p=d.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),m=st?[]:t.entry.imports.concat(p);return st?null:i.createElement(i.Fragment,null,u?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(g=m,[...new Set(g)]).map((t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{lt&&(window.__reactRouterVersion="7.1.1")}catch(uI){}function ct(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=v({window:r,v5Compat:!0}));let o=s.current,[a,l]=i.useState({action:o.action,location:o.location}),c=i.useCallback((e=>{i.startTransition((()=>l(e)))}),[l]);return i.useLayoutEffect((()=>o.listen(c)),[o,c]),i.createElement(Ae,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}var ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=i.forwardRef((function(e,t){let n,{onClick:r,discover:s="render",prefetch:a="none",relative:l,reloadDocument:c,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=o(e,p),{basename:_}=i.useContext(ie),E="string"===typeof m&&ut.test(m),I=!1;if("string"===typeof m&&E&&(n=m,lt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=j(t.pathname,_);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:I=!0}catch(uI){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(ie),{hash:s,pathname:o,search:a}=fe(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:K([n,o])),r.createHref({pathname:l,search:a,hash:s})}(m,{relative:l}),[T,C,A]=function(e,t){let n=i.useContext(Ze),[r,s]=i.useState(!1),[o,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=i.useRef(null);i.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),i.useEffect((()=>{if(r){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:et(l,p),onBlur:et(c,m),onMouseEnter:et(u,p),onMouseLeave:et(h,m),onTouchStart:et(d,p)}]:[!1,f,{}]}(a,v),x=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=de(),c=ce(),u=fe(e,{relative:o});return i.useCallback((i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:S(c)===S(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,u,n,r,t,e,s,o,a])}(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let N=i.createElement("a",h(h(h({},v),A),{},{href:n||k,onClick:I||c?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:at(t,C),target:f,"data-discover":E||"render"!==s?void 0:"true"}));return T&&!E?i.createElement(i.Fragment,null,N,i.createElement(nt,{page:k})):N}));ht.displayName="Link";var dt=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,f=o(e,m),p=fe(c,{relative:f.relative}),g=ce(),y=i.useContext(ee),{navigator:v,basename:b}=i.useContext(ie),_=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(te);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mt("useViewTransitionState"),s=fe(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=j(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=j(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=V(s.pathname,a)||null!=V(s.pathname,o)}(p)&&!0===u,E=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=g.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&b&&(I=j(I,b)||I);const k="/"!==E&&E.endsWith("/")?E.length-1:E.length;let T,C=S===E||!a&&S.startsWith(E)&&"/"===S.charAt(k),A=null!=I&&(I===E||!a&&I.startsWith(E)&&"/"===I.charAt(E.length)),x={isActive:C,isPending:A,isTransitioning:_},N=C?n:void 0;T="function"===typeof s?s(x):[s,C?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(x):l;return i.createElement(ht,h(h({},f),{},{"aria-current":N,className:T,ref:t,style:R,to:c,viewTransition:u}),"function"===typeof d?d(x):d)}));dt.displayName="NavLink";var ft=i.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:l,state:c,method:u=Re,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=o(e,g),b=vt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(ie),r=i.useContext(oe);w(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o=h({},fe(e||".",{relative:t})),a=ce();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:K([n,o.pathname]));return S(o)}(d,{relative:p}),E="get"===u.toLowerCase()?"get":"post",I="string"===typeof d&&ut.test(d);return i.createElement("form",h(h({ref:t,method:E,action:_,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":I||"render"!==n?void 0:"true"}))}));function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(e){let t=i.useContext($);return w(t,pt(e)),t}ft.displayName="Form";var gt=0,yt=()=>"__".concat(String(++gt),"__");function vt(){let{router:e}=mt("useSubmit"),{basename:t}=i.useContext(ie),n=Se("useRouteId");return i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Fe(r,t);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const wt=n.p+"static/media/Blog-Img.2c50b20ffe7d43679ee9.jpg";var bt=n(579);const _t=function(){return(0,bt.jsx)("div",{className:"p-2 m-5 shadow-lg bg-gray-100 rounded-md",children:(0,bt.jsxs)("article",{className:"flex bg-white transition hover:shadow-xl",children:[(0,bt.jsx)("div",{className:"rotate-180 p-2 [writing-mode:_vertical-lr]",children:(0,bt.jsxs)("time",{className:"flex items-center justify-between gap-4 text-xs font-bold uppercase text-gray-900",children:[(0,bt.jsx)("span",{children:"2016"}),(0,bt.jsx)("span",{className:"w-px flex-1 bg-gray-900/10"}),(0,bt.jsx)("span",{children:"2025"})]})}),(0,bt.jsx)("div",{className:"hidden sm:block sm:basis-56 md:rounded-md",children:(0,bt.jsx)("img",{alt:"",src:wt,className:"aspect-square h-full w-full object-cover"})}),(0,bt.jsxs)("div",{className:"flex flex-1 flex-col justify-between",children:[(0,bt.jsxs)("div",{className:"border-s border-gray-900/10 p-4 sm:border-l-transparent sm:p-6",children:[(0,bt.jsx)("h3",{className:"font-bold uppercase text-gray-900",children:"We Are The Leading Developer of Integrated CCTV Inspection Systems in KSA and The Region."}),(0,bt.jsx)("p",{className:"mt-2 line-clamp-3 text-sm/relaxed text-gray-700",children:"Founded in 2016 in Saudi Arabia, 2nd industrial city in Riyadh. SHENZOR products portfolio includes robot crawlers, reporting and analysis system and integrated inspection units."})]}),(0,bt.jsx)("div",{className:"sm:flex sm:items-end sm:justify-end",children:(0,bt.jsx)(ht,{to:"/",className:"block bg-yellow-300 px-5 py-3 text-center text-xs font-bold uppercase text-gray-900 transition hover:bg-yellow-400",children:"Read More"})})]})]})})},Et=(0,i.createContext)(null);const St=function(){const[e,t]=(0,i.useState)([]),{firebase:n}=(0,i.useContext)(Et);return(0,i.useEffect)((()=>{n.firestore().collection("news").get().then((e=>{const n=e.docs.map((e=>h(h({},e.data()),{},{id:e.id})));console.log(n),t(n)}))}),[]),(0,bt.jsxs)("div",{className:"p-2 m-5",children:[(0,bt.jsx)("div",{className:"w-full p-2 text-center bg-gray-100 rounded-lg shadow-md hover:shadow-xl",children:(0,bt.jsx)("h1",{className:"text-3xl pt-8 py-4",children:"Demo News Lettes"})}),e.map((e=>(0,bt.jsxs)("div",{className:"w-full bg-slate-200 p-4 rounded-lg mt-4 hover:shadow-xl justify-between md:flex flex-none",children:[(0,bt.jsx)("div",{className:"flex-initial w-50",children:(0,bt.jsx)("img",{className:"w-[800px] h-48",src:e.ImageURL?e.ImageURL:null,alt:""})}),(0,bt.jsxs)("div",{className:"text-center flex-initial w-50",children:[(0,bt.jsx)("h1",{className:"text-2xl ",children:e.title}),(0,bt.jsx)("p",{className:"text-gray-700 mt-4",children:e.content}),(0,bt.jsx)("div",{id:"timestamp",className:"justify-items-end mt-12",children:(0,bt.jsx)("p",{className:"text-gray-500",children:e.Published?e.Published:null})})]})]},e.id))),(0,bt.jsx)("div",{className:"w-full flex justify-center mt-8",children:(0,bt.jsx)("div",{children:(0,bt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAAA8CAYAAAANMhZGAAAXH0lEQVR4nO2ceXRURfbHPyRhhwhCEGlAWYMLQwaXgR6XjAurIjpGBlSs99wQB8S4DAwyKrgrMeAGLlUlLqhRVBQTxIGI2iBuEVxABAWNIBkBw05Yfn/cauh0XndABc/5Hb/n5CSpV1Wv3n1Vt+793luvBn/gF0MbeygwH3jD99SIRPXSDt6QDg60sVcBnYFFQGffU0MP4O1aAw2BjGSVfpWQtbEpQAtgm++psn1sUws4HNi8r232E88AtYDt7veBxBdAd2BXsko1tLEPAU19Tw2Iv6iNbQ98BrQBegLK91S2u3Y+8CDyIPWAlcA431NPuevrgWzfUyXu/8bAPcAgYDOQDiwGRvqeKoy5Zwkw3/fUkIDxrAeyfE99G3DtDGAE8Gegvit+9reYydrYQUBf31MXuv+bA6OB04HDgFTfU41i6j8MLPI99QhACiKoc7Wxhwf0PwSY5ntqVdxNWwNPIkI/FBHYSOAsbWxqwCAPAd4DGgNH+57KABoBjwAF2tiLY6pXAOdrY739EMJ1yAx+BQgDRwKjkJf/W6AW7sVpY1sCHwI1gcuB44AacfXrAbWj/6T5nvpSG/uOazA2ZuB1AR/oE3DTLsBK31NFAL6ntgPT3E8QbgVKgRzfU7tdmy3AJG1sOTBZG/uG76mf3ODvAyZqYxf6nvoo2dNrY7u6cR/ve+rLmPLaiVv9KtwAvBW70rSx6ckapLjfE4ErtLGxOnoAsNz31PyAdguBdtrYG90srQ6DgbuiAo7DVGANlV/mfGQ5vqSNbVJN35ciauHLaur9VugEvLk/DaJCfg1ZpmfHXLsaeCCoke+pFcB5iPB+0sa+q429IUjg7i03Bj5P0Ndu9ur92PKJwDvA1CAVFIOOyPI9WPgW6LY/DVIAfE/tAh4GhgJoY08AjgCeS9TQ99TrvqeORR7yaSAH+ChA0FuR3TeZmdMI2BBQfiXQjBg1FoAtyEs8WLgfGKyNHa+NPVkbm1Vdg5SYv58AwtrYDoiwH/U9ta26DnxPLfc9NQkxZWoCPeKub0eWf05Qe21sC2RmzA7oezOyYoZoY/snGMI7yMYdv/kcEPieWoxsdunAJODx6trsEbLvqbXIDv0v4HzXQSC0sX20sZfFPVgasqOWBzS5GbhRG9srrp9DkNXyiu+pTxM81HLgQsAgqyIejyG2+h3Obo9iA1A30TP8GvieWuZ76nLfU8cAZwE746qkAjui/8Q7Iw8is+5131PfJ7nPOmSzHK6NnYno836Ibv1vwKDe0sYOAV7Uxr4NfAQciszuCGLFJHuoIm3seGBcwLX12tgewMvAOW48PwPtgLO1sQ9QVQj7i6MR2x4AbezViJm4BrgAZ1VpYxshZm8vRDMAldUFvqcWIvZukA5cgLwEfE/Ncze+yd08BbgF6OV7KvoGRyFmW7RvC7QHioAGQBnQ3/fUub6nNsXc517g64D73w5cAayNv+Asi87Aja5fgGVAf+AnYP2v/IlQeX+KrrqjgGcB5f7PANoC//I9VRytfFD0WDLkRbJTcsPFSd3S3wva2EtxHAjiwS34Jf2kVF/lwCEvkp0OzMuLZJ/5e47jQOP3ZuGygeMRPTbr9x1KVfieiurVXzSDozigMzkvkp2QBcvoPXHwnePO+xQ4s/baYwdrY/+dyBXuWFTW/IAN8iDgQM/kCXmR7D7AefPI/xlYVRDO2pTRe2JDIB94Nzdc3E8bdQGysS0Dns/oPTEVOKmscPjbHYvKFiE7ecMDPNZqoY1tipiLKcD/gNIEVEElVBGys33PQijJbgj3WwGsAuYBBUgkYF82q+2IN/YjYne361hUdizQbN2Eqd3+0mnFjsmTQq/B6NEzZ9/efX2m/Swvkt32znEMAsZl9J7YHHHHyzsWldX+qldGJedIG3sscNs+jCMRLoyzbKpAG3s6Qh/0RGjNWGxyJunzwHPO8aqCSkLWxnZDjPtj4+rVBjq4n8HAIm3sxYkciChyw8XXANcA5ESYjDgHfweeaXzNwMzJR2WtA9Zt312nRmFm1vfd4UU3psuA74DNXdJLByJu986vqt6iKXBOsjFUg5qJLmhjj0O4m+5J2tdHiK0+wG3a2Bt8Tz0fX2mPkLWxw5AlvC96ujMwTxvb0/fUO0kGOh04oudpo3tCXwVcZ3af2GTKhkez5xyVVRfhmDvf+MNLAwF/J3UuSGXrpuwxp6zJD/XtCqSPKD2lPnAn0ApI5iD9ZtDGDgfGs3/qtBXwnDa2D3B57KxOcZ3mIh7c/myEdV2nDZLUeRUhj2oBFbPLWjarV2PdO0PrqlVvzhnXfevWRmc9X9phyl+4YWEGH5yTytZW88i/FllNXyEqaiaQi+jAX4IK10fgUo6HNvY/wAR++X41GHjZhdkASHPL4r4EDYqAt4AmCKnfNO56C8Q1NkGN12fa/wItRpTOaAoUFY+bu6NOnYrwrf2abNoNobcjNzxBpr00hYrV7XnmMGDQYZvKbj/qx7J+z9PhXeDs3ktKPkFm8I6Cqrf4HhFIIuwA3kcYxnhL51nieBZt7D+QAEMQNgFvIN7edoSl7IfM4Hj0Qdi6q0He1scIgXMrez3AcmCw76lXYwbwMLLxtYzrsDsxQs7oPbEt4t5OgmmDgZOAPDcotm6tucL3VIk2dizQotES1RJxzTf7nrpMG5UCtKrYUa/GrrTNLRE7+gnfUwU5kZLXgDnF4+beD9TwPfU1EtcLhDa2M8LuxU+OZ93z7YqpezgwOVFXwI0uchPb/3DEpb4fYeViMVQb+4rvqVk1Yhr0Q5b2duD0oE3NESMPxhVPL8zMuhhZ0k2Lx80dC3wDDB01ZtpMhO+tAxydGy6eE9PXOezVtZuRVTPEhaXIi2T3BRpPKi94J7zx6x2bWtRdiyz7l4rHzV2O7B8jywqHB0zwpAJ+CvB8T+2Mqz8J4a/jcYPvqUQrPdr2T8AchPSKxafAn2OpzunAiUCfJFbDJwFl9ZBl6QEXZ485ZWtKev1Q42sGruvWdCcDQks/a1xzWxega8yg0oGLEMKoAULMh6kcgvocWA5cGWnQ/r78UN8++aG+uQXhrAmI9dOGBHo6iYAnAZcECPgQ4JKArp6tTsCwh1i7KOBSF+DUeBZucTUkSOuAsh8KwlmbEcrvqO6MaHuI168pUKCWTzuyfEOL69MWD16VGy4eH3OfckSfrkIEtQYh3/c8fG64+Ftg3pXpAz5CdNslQP+8SPbJo8ZMmwq0KyscvmdlRFGNgIcmcB7ORlZbLLYhQdN9gktrmBlw6e/761YHve0PAArCWe93Z8TpwCdD0nM6AUd2SS8Nzfvg6loVO+pmB7SbgdCaM4D/AK9TNUCZXoNd/UeumvH3WcW3XrtxR81xiOUxc9SYaSvjO0wi4A+Am5J4ZycFlL3pe+qHBPUTIcgAOGmfhayNzUHI6FjsAqbH/P8icMvKFRnFzVd+UheYMDuz9Tu+p4ICsnMQgn8HorteceGmPcgNF/88j/yrgG67dqUd1iCtogEy6y7MDRcHEfEjqSpggBOAH7WxL2pjjwq43iGg7O2AsuowN6Cs0z4JWRvbG0lmiceTvqf2zKjccPGW3HDxrc9MOfm+L19ePAHo1JWx9+RFso+Pb+h7aqcj29OQ1INEbvrzhZlZD/Q8bTTA0gGhpSm54eJE0el5SR4jFfE2S7Sx8ZGYoLSDVQFl1eHHgLI61Rrc2tjrgbup6qgsRSyKSuhYVNZo3YSpBmidH+rb65VVbW/atit1mUvTykI2rBASwXgSefh6LknlXCSS8Q0i+EWAKh43t/PfGg6rmHPvA/fcu+aBH3MibdsUhLO+CRhucXXPg9jLj2ljv/c9FVVPQY5KMicrEeL1OpDEq3EZRE8AAwMuL0Ryw9bHFnYsKssGpje+ZmD/OUdlzQZKvl/Q8tzHC7s3LCtU6xAVMcf1fzxir3ZC7MwFwB1RE87VSWFJyYnFcMK6DfU2ho4ovSsn0vZdoElOpKRLQTgrXjifA2cCGxFV1go4A9lLYoOqKcCD2thObgWVIiolFpmJZJMEQaqoNFDILtftZWLMrhi8AfzD91RQnsRKoKh+6vYlI0pnTGhT64szTOH//gqchiQb7oHvqQ+1sf9G9PL/fE/dGdBfLUBdmV1v4OTizSMzek8ci3inmz8tD1UJnbmN7a2YogVIFtIExPOLdRg6II7Ue8ieEJ9ycLY29vp9oTJj0C+g7NMqOlkbeyqyGwcJeCLQL0jAOZGSvC7ppZd3SS9V7euX1QJalG+v2DVqzLSuo8ZMq+TAaGPrOXc+393nc21sfmxOWU6kpFZhZtYxPU8bPe+qf9w8FvgB+KYgnPXKp+WhOsCKjkVlf9uXJ3e5ElMCLv3F/Q4yvTqQIFckCNrYhjg3Og4zU+IqDkXCQM3iKlYAV/meuibekAfIiZRkIPSkal970a78UN8r80N9h3bEbAQaN/iuVz1t7BcxTZ5ASPoLfE+t9j2Vj6QJfKON7eTqHInQpO8BU8oKh+vsMae0yomUDEN0aBPgVDfuHrGETAIEmWPRlzofyTWOx0SXfJMUjoN/nKob6FZgag1XqRbiLl8e0Mdq4DyXBpAQOZGSQ4HM/FDfnW7Qaubs2yuAI8Y37/Vk941ftzk6dNNCoEZuuDhI1cQOuhOyU5+4PtN+j2y8/eeR/yawqSCcdXbHorIWX/XK+EEbq5CXNgsY6HtqXYI+5yAxxVgM8z31oLt+EeJyx2Mpsv8sTdBvLcTRCUr1vd/3VG6aS2ieRjA5/S4yQ390iRuJ8LMfzloLzCsASleEmiN8xCCgU0WN1L/ObZh509FCtNQD7tLGNo4ViNtoayKb1hPAv93gz0c2sXSgd0E4axuAE/BVCMMGErn4Qht7KxKlWO/6bYnkh2QneL4onkHIntPj6nQAFmpj85GX8KXvqd0uFNUfybhqH9B3KY7Rq6GNfRGxH2OxG8k32AD8NaCDeDSOtzQA8iLZzYCtA0JLd5Rub3Vi3+GDPgauOuOY2k+eeUzt2UD3f71QfjMw9e4L0jORmVuIJIlEgNCd485bAPwJWFZWOHwPV6GNPZPEKay73UPWpGrIKIr5vqcqTSw34d4nmD6IogJRV/WT1NmCkGzzQEyZIAujBvJg+yLgZHgU2UQ7hWp9N2fW3Q8dDpzw1ufbmiCm1dQ2Ganvzrr7oRN6njb6ON9TwxEB10Xy3+5HqM75VHV95wAvJbhvDYSSTSTgLQQwbr6nViMzeUWSZ6pJcgFvRjKj9qjXA53c8gTCS3wGtLx94/PflUy6e2zJpLsfPCP7lhTgtbo5PVY1Tt82F5iujb2m0RJ1TqMl6rF55D8KnIysqL7IDNsDlw42AEkW359ct02IEBYGXXQc9YmIqbq/WAR0i3FygAOcEjCpvOAnoOOkcmp3SS99DAnI9gdWpaZU1Lnr8L4vAt+cufiDIV/1ynhaG+oCtQozs1oB384jf8ioMSNWIsJekltYuX9n6dyhjX0VSUbsh3iQiTADGOEEmRC+p9YAfR3nPYq9pl4iLEfIrsdjcgH3IA2xfV+pppPqsDlB+cVIdtAniJOQFjqidENeJPsyYPKQ9JwFk8oLTvpT+g8/d4mUFBfCsIJw1hs5kZLDkFD/2wjd6COnAZYF3cT31OfAedrYw4DeyAmoZoja+QmZYTMSWQiJ4CJDr2pjOyLq7VigOaIB1iKnt+YAHyZzWg5owmHHorIeiG58/ateGWui5XmR7FRkZy/MDRePzYmUhBELp1dBOKskto+8SHYI0cdv5YaLK4V//kA1yItk1yldEcooXRF6r3RFqF9OpCTZZvIHfilKV4TOLF0R2lm6IvT07z2W/9coXRHqW7oidKCP5/6uSAMhbBBPbHN8dOJAwJ3taOR7au3M2be/H59D5sbDLx2Lc3V3uZ9avqeCzpocNETt5HbIqaV2B+m+6Yj9DMGJNf2pSj3uDwYhm2VrJCRVCdrY4S5nAm1stjb2rIA6VdrtC6LttLH/jGZXpWljuyBsVyNcyEUbeyFilizRxo5DogTXIebLaCRTcy7icd2GRDvWArf4nlqsjW0H1PY99YU2tkfUOI/9O8kghyH0Z32E1Ecbe7/vqWsdI3ah76l7tbFjfU/9x8UePcQTm0aSU1uurxORCMZKx55dh0Ta49Eprl06sDEuISYFSI+jFKLt2uM0RQpwF5KFMwWIHnSMurb4nhqDZFh2R2bdeIS8ae4Gt9D3VA8kXep6174z4jWBzCoC/g4SQB/gEN9THpVt7+hp1VpI6AqgtVMLI5GwVU/kzF/QQfxo/4PcGKYjOR7tXX+PaGOtNnaiI35i26RqY6e4Z39DGxt25ccBhQjZ9aI2NmGGaAqw3eVBJMNaRPANkWOvUTyFeGO4hwyaRWmOYYPk3hjI8v64mjp74HT5LORUbCNgTTVh/D7AKEfi7/I9tdT3VFffU8r3lEJijtfGtekBvOd76gpEhQ1z5SOQA/lDkBV0XqKbpiEpsFEKEi3HWLsB87Wxt7h6WYB1g3gBYbi6uGtdtLG34aIITr91AupoYzMRZ2SKNnYZ0F4b+whyzi4ILwBPamNPBrJi7t/J/R1LtzZ3ZU2RCMtaINWVZbmyeBQhecSPAw20sUfGXa8AMl159HpbJNEFhN1r4sqbspcz2Q20ceVVLKUoaV+fvWefm7sOSqjMbaxBKL46yNs9HmHZkmE3EvdrgaiiL13f9YFy31NrtbFNfU9VSrdyyX/R8yMNEBWwBck2Svc9tUAb+xKiTxNhNZLT0SBWZ2pjuyPs4v5Eo7u652iHyGUbIsyuwBLkRUQ/GbHa99QkLadvi31Pba3iVmtjj3adfeF7alnctZYIEbIBGO0fmM/bxI+nJcJFfI9wF39GVNRK31NBcbsDNY4QsDYuml4X+erNdwdrHH8gAWpoY/+JpFftRI7ujkc2iNVAHd9TT7upvxpJSLnFtf0RGIPM7KaI6pnseyqi5UT/BYh6mYRslgY4y/fUThcimuV76l3Yk4NxHbIMZ/ieKtDG2phx3uVMwzQkteAQZFmOdu0fAB7zPbXQPY/1PbUx5tkeRMJaO4E73FhP8uUoctQUm4Z87me9lnPcqYjK+tQt/6iJOMD31GYt+drRjNabEYtqtcu9vhZJznkVxLpojySBTEEiEbtcWUtgpMvBaI5sOuOB231PXY4s3UxkuSjk8w23ueV9CXtpzlsR56MjkK3lrN5A92LQ8sGQe5AgrodQlm0Boru+swYAjgF2+p66FFimjW3mxncIcu4aYuxT93cd5DNACnGA7kf08ZExL/F05FD+YPd/O99TI3xPXcXe5J6zXZ3oB7HquT5fQDb95kAj9zKOd89PVMggb3p5AJk9Btmlo7q7ru+pb93MPoKYtCRfjmqtQDJ43nK5bluRUPsRiG3aD0lajM1zaAks9T210XGybyLWQSdnuz4cU3cRsF0bOwMJcK5Hgp/5wGEu9yEhfE+VJrh0IbKSogmVdbWxD2ljixBbGCQOOoy9plprt9rykIyqKPogZuVy5+jtEfIVwA5tbOzncUBy0v7L3k8lpDpX8UNkV43/aklLJB4Xe0StI6JqfkZm0GlUzllbReVZ1QVRL4vdLI795FgYmO57qi9ibZzh+huMWDIXISoqeoK1GTFfFXAbVSVbXUuOXiYyy2tpSe7Z4nvqaiSdd4ezdtrgVqVzRFa6mXwqsmKjGOjk0gAXR0xxg12HhLb/iSzjLYh+3ImE3DchuucWxNW9D3n7C5BkQauNLQCedpma32ljn3JlBU7AW5FZut39XQF7HArtvKYpiOv6McHRliXAaFfvOEQtvObLJxwvRmbic0hSytOINVAOtHKz7mkkh2Mnez9Qci6iAkcgKmuge16AhxBz70bEmhqBqMWLgKauz0lOJtsRlVruVM1QoIU2tt7/Aa/M2FG3TwqiAAAAAElFTkSuQmCC",alt:""})})}),(0,bt.jsx)("div",{className:"mt-4 shadow-lg bg-yellow-300 rounded-lg"})]})};const It=function(){return(0,bt.jsxs)("div",{children:[(0,bt.jsx)(St,{}),(0,bt.jsx)(_t,{})]})};const kt=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(null),{firebase:a}=(0,i.useContext)(Et),l=de(),c=new Date;return(0,bt.jsx)("div",{className:"bg-slate-300",children:(0,bt.jsx)("div",{class:"flex flex-col items-center justify-center h-screen shadow-lg",children:(0,bt.jsxs)("div",{class:"w-full max-w-md bg-white rounded-lg shadow-md p-6",children:[(0,bt.jsx)("h2",{class:"text-2xl font-bold text-gray-900 mb-4",children:"News Letters"}),(0,bt.jsxs)("form",{class:"flex flex-col",children:[(0,bt.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),class:"bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150",placeholder:"Title"}),(0,bt.jsx)("textarea",{name:"cover_letter",value:n,onChange:e=>r(e.target.value),class:"bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150",placeholder:"Content"}),(0,bt.jsx)("img",{className:"hidden",alt:"Posts",width:"200px",height:"200px",src:s?URL.createObjectURL(s):null})]}),(0,bt.jsxs)("form",{className:"flex flex-col",children:[(0,bt.jsx)("br",{}),(0,bt.jsx)("input",{onChange:e=>o(e.target.files[0]),type:"file"}),(0,bt.jsx)("br",{}),(0,bt.jsx)("button",{onClick:t=>{t.preventDefault(),e.trim||n.trim?alert("Error Field Must Fill"):a.storage().ref("/image/".concat(s.name)).put(s).then((t=>{let{ref:r}=t;r.getDownloadURL().then((t=>{a.firestore().collection("news").add({title:e,content:n,ImageURL:t,Published:c.toDateString()}).then((()=>l("/")))}))}))},className:"uploadBtn bg-blue-700 p-2 rounded-lg justify-items-center",children:"Publish"})]})]})})})};const Tt=function(){return(0,bt.jsx)("div",{children:(0,bt.jsx)(kt,{})})},Ct=n.p+"static/media/logo.9ec0e45fd51bb85b618d.png";const At=function(){return(0,bt.jsx)("div",{children:(0,bt.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 md:gap-4 m-2 shadow-xl rounded-lg w-full",children:[(0,bt.jsxs)("div",{className:"min-h-[70px] rounded-2xl flex justify-between",children:[(0,bt.jsx)(ht,{to:"/",children:(0,bt.jsx)("img",{src:Ct,alt:"Logo",className:"justify-self-center p-4 max-h-[100px] rounded-sm"})}),(0,bt.jsx)("div",{className:"p-6 md:hidden mt-2"})]}),(0,bt.jsx)("div",{className:"min-h-[70px] rounded md:block",children:(0,bt.jsx)("nav",{className:"",children:(0,bt.jsxs)("ul",{className:"md:flex md:gap-32 justify-evenly p-4",children:[(0,bt.jsx)("li",{className:"my-2  md:my-0 hover:cursor-pointer hover:bg-blue-600 p-1 hover:rounded-lg hover:text-white relative after:border-t after:border-gray-300 after:absolute after:w-full after:bottom-0 after:left-0 md:after:border-none",children:(0,bt.jsx)(ht,{to:"/",children:"Home"})}),(0,bt.jsx)("li",{className:"my-2 md:my-0 hover:cursor-pointer hover:bg-blue-600 p-1 hover:rounded-lg hover:text-white relative after:border-t after:border-gray-300 after:absolute after:w-full after:bottom-0 after:left-0 md:after:border-none",children:"About"}),(0,bt.jsx)("li",{className:"my-2 md:my-0 hover:cursor-pointer hover:bg-blue-600 p-1 hover:rounded-lg hover:text-white relative after:border-t after:border-gray-300 after:absolute after:w-full after:bottom-0 after:left-0 md:after:border-none",children:(0,bt.jsx)(ht,{to:"/create",children:"Create"})})]})})})]})})};var xt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nt=i.createContext&&i.createContext(xt),Rt=["attr","size","title"];function Pt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return e&&e.map(((e,t)=>i.createElement(e.tag,Lt({key:t},e.attr),Ft(e.child))))}function Ut(e){return t=>i.createElement(Vt,Dt({attr:Lt({},e.attr)},t),Ft(e.child))}function Vt(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=Pt(e,Rt),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Dt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Lt(Lt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==Nt?i.createElement(Nt.Consumer,null,(e=>t(e))):t(xt)}function zt(e){return Ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(e)}function jt(e){return Ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function Bt(e){return Ut({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"},child:[]}]})(e)}const qt=function(){return(0,bt.jsxs)("div",{className:"grid gap-4 p-2 sm:flex md:m-2 md:flex  md:gap-4 mt-12 md:justify-evenly justify-evenly",children:[(0,bt.jsx)("div",{className:"min-h-[100px] flex-none w-30 flex-col md:flex  text-center md:justify-center",children:(0,bt.jsxs)("div",{id:"location",className:"flex-col justify-items-center text-center",children:[(0,bt.jsx)("span",{children:(0,bt.jsx)(zt,{className:"md:text-4xl text-2xl "})}),(0,bt.jsx)("p",{children:"Riyadh"})]})}),(0,bt.jsx)("div",{className:"flex-initial w-30 min-h-[100px] md:flex flex-col text-center md:justify-center",children:(0,bt.jsxs)("div",{id:"contactNumber",className:"flex-col justify-items-center align-middle ",children:[(0,bt.jsx)("span",{className:"",children:(0,bt.jsx)(jt,{className:"md:text-4xl text-2xl"})}),(0,bt.jsx)("p",{children:"+(966) 55 984 5411"})]})}),(0,bt.jsx)("div",{className:"min-h-[100px] flex-initial w-30  md:flex flex-col text-center md:justify-center",children:(0,bt.jsxs)("div",{id:"mail",className:"flex-col justify-items-center align-middle ",children:[(0,bt.jsx)("span",{className:"",children:(0,bt.jsx)(Bt,{className:"md:text-4xl text-2xl"})}),(0,bt.jsx)("p",{children:"info@shenzor.com"})]})})]})};const Ht=function(){return(0,bt.jsx)("div",{children:(0,bt.jsxs)(ct,{children:[(0,bt.jsx)(At,{}),(0,bt.jsxs)(xe,{children:[(0,bt.jsx)(Ce,{path:"/",element:(0,bt.jsx)(It,{})}),(0,bt.jsx)(Ce,{path:"/create",element:(0,bt.jsx)(Tt,{})})]}),(0,bt.jsx)(qt,{}),(0,bt.jsx)("div",{className:"w-full flex justify-center m-8",children:(0,bt.jsx)("div",{children:(0,bt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAAdCAYAAABv2BQRAAAABHNCSVQICAgIfAhkiAAADiJJREFUaIHtmmtsHFWWx3+3Hu12P9zttoOJs04YCCAnCnliZQlZHnmQyUSCweCESDw0iB0wLw2gASFWK4UVYkGCQSOY0RIFKUERQYERELLBggkECMI2JDYiJmIyCAfiF067/ehud3fdux/K1Xbb7u4KmgyzGv+l+tDV994659S55/zPuSWUUooZzGAMUsp4U1PTAwaWBe0dcPw4JFOg6cAEX7EyUFkB664Er/enkncGf2cYvH8Ydcc9MBSF8Lmg6+AEEaUgHYelSxFXXA4zfvFPA4N3D8HgCOLZp+GyOrAUKDk+Qkkoj4BQ8PXXMDRk3xci/6qOY/3sZ1BeTiaToaenh1QqRSQSoaysDFFoPiClpLe3l0QiQVlZGZFIhHQ6TW9vL5lMBk3TzkhRKSXhcJhwOMzIyAgdHR1ccMEFlJeXu5o/MDBANBrFNE3OnT0bQynUX/4CIyNwJrIohfB64fzzcyJwJpNhaGiIkZERpJR5pwshCAaDBAIBDMPI3o9Go8RiMdd20XWdsrIy/H7/tHMMkglYvATWXw1Vs6Zf5cgRePxxaGmBRKKwUwBYFpgmvPAC1NcTGxrixRdfpLOzk4aGBtauXZuj1HRIJpPs2rWLY8eOcc0111BfX09vby/PP/88g4ODeDyeos7lQEpJKpXiuuuu46qrruLjjz9m586drFixgttvv51gMFh0/gcffMBbb71F9Zw53Pfb31JpWchf/xrV1mbr6lIWMhnw+9EeegitsRFMk6GhIfbv309bWxuJRAJgWt0cOlhaWsrixYvZuHEjwWAQy7I4dOgQ77zzDoZhoOt6Qds464TDYVatWsUVV1yBaZo5Yww0DTye/Ir80Af33w8ffuhO8YmIxwHbsIODg0SjUUZHR11NVUoxPDxMNBolPmmdgYEBDMPALW+2LIt0Ok0ymURKSVdXF5lMhubmZiKRCA0NDXiL8KdkMsnAwACBYNB+rpRw6hTEYq5kyEE0itq3D26/Hcs02b9/P/v27UMp5WrHSynp7OxECEF9fT2apmXlMwwDIURR2wgh6O3tpbOzE6/Xy6pVq3KcyZZCyfHwPxmfH4EvvhgbPeZEbi6fzx6vFAiBaZp4PJ4zSgGGYeDxeLLRRQiBx+PB4/Gg6zqaprm+hBBZxYUQlJSUYJomBw8epKmpiXQ6XVAWXdcxTdPeWY4BDaO4HUpK7EvXc1NOdTXoOv0DA7S2tiLGbORGD2dcS0sLp0+fztrKNE0Mw3BtD4/HQzKZ5PDhwySTyVzbF3070aidGgB+8Quoq7OVLJAHkdI2wuLFthEnjJ34ggohnwNZloWUkpUrV1JTU+Nqd0gpsSyL2tranHUNwyCTybBv3z5CoRCrV69257jpNPh8aL/5Daq727bHdDppmu0Ura3IP/3JTsMAtbXojY3g9dL19dfEYjGEEMybN49FixZRUlIyrU5OZGhra+Pbb78lFovR09NDJBLJ2iYcDrN69Wq8Xm9eu2iaRiwW47PPPqO3t5f+/n7i8TilpaXjtilqBCHGo0ljI1xzTfF8qpTtTI6RJwio63rRRwJZz5+6tEJKSV1dHcuWLXO1llIqG6allFmDCSEwDIN4PM7evXsJh8MsXry4uG7pNHg8iF/9CpHPKYWw9e/sxNq/f9wpzjsP/fe/tzeYEMRHRkin0wghWL9+PXV1dUX5waxZs9ixY0c2PTr6WJaF3+9nw4YNOS95OjjPfPPNNxkdHSWVSuX8X9wxxlIBAF9+CQsW2CHSiSKTx3q9EAzaO2UCnJfw/fff09bWhq7reT1aCEEymWR4eHiKczgR57vvviMSiSCEKMjiNU1jzpw5OeRKKYVlWZx33nlEIhGOHj3KDz/8wO7du/H7/cyfP7+oWQA7lRTCiRNYd96JOnjQ/j1nDvpzzyHWrMnRx17KoLy8vCgpBwiFQui6jmVZU2zobJxiG1DXdcrLy/NGSAOpADF2TQO/f3znb9sGf/hDbq9jIqS0ucWyZXDXXdldAWRzY3NzMy0tLQWFHl9OYppmLinSNHRdp6mpiffee69gGslkMgSDQe69915qamqm/e+GG27AsixaW1s5efIkr7zyCnfccQdVVVWuZMyLb7/FamxEvfuu/buqCv2ZZxCbNuWdYk232X7EOLfVWiHbGQQDkEjm9i4mYuFCqKy02ffgoH0Vw5dfQnMz7NkDixblCJzJZIoSPWesp0C1FI/HyWQyBY2QSqWy/GIylFKkUikqKyvZsmUL0WiUEydO0NHRwZ49e7jtttsoKysrKue06OrCuv9+VFOT/TsSQX/6aUR9/Zn1PH4klFJFbZxOp+np6UEplSXyE2Fw8Xx4bR8Mj0y/wrx5cM898MQTMDAwfQqZCCntq6MD9u6Fiy6y6/wxgf1+f15yNVk5p0ydCMcRvF5vUaKYTqcJBAJ5xzlht7q6mi1btrB9+3Z6enpoaWkhFArR0NBQNFdPQV8f1oMPot56y/4dCKA98QRiyxY70p5FGIbB0NAQe/bsydp4sp2dVDw4OMhXX32Fpmn4/X58Pl/uWqxYAqMpaP4cLjx/6tM0De6+2+YW778PfX12epi8U517J07AoUMwOgqffQbJJGgaSilGR0dZt24dl19+OYZh5OUGmqaRSCTYuXMnx48fz1HOsiwsy2LNmjUsXLiwoKGklBiGwaxZeRp3jIfThQsXcuONN/Lyyy8Ti8U4ePAgoVCITZs2ucr7AAwMYD3yCOrVV+3N4fejbduGdttt2c1xtiCEQNd14vE4hw4dyurllKYOJpJvbey9XHjhhVP6OAbnz4N/W4l68WXElatgzuypTzVNWL8erryycJkKdlPr+uvhgw/GS12PB4X9EiKRCDU1Na52u8fjmZZcKaWoqamhtra2sCxniJUrVzIwMMBrr71GMpnk7bffJhKJcNlllxV3juFhrEcfRe3aZevs86E99hjaXXdNIeJnGxNLeCclO/cmpnKlFAsWLGDt2rXTdD5NA/FgI+ram+G5/4H/eBCCgemfWKhD6sDrtZs3YLd/J8CpBtx0LNPpdFFi+beGpmmsW7eOWCzGgQMHGBkZ4fXXXycSiWSbStMikcDatg21Y4ddynq9dsv7vvv+bifSjm0DgQDLly/H6/WSTqc5duwYXV1d2abgkiVLOOecc7Asi1mzZrF06dJsH2Qi7G2w8GLE4w+jHv1PRIkO9zdC5dTBrlGkDnfjGG5aumcDpmly7bXXEovF+Oijj+jv7+fVV1/N7xzJJPLJJ1HPP2+nT78frbER7eGH7QrtDOC2x5NvnFNp1dfX4/P5UErR0dHBSy+9RF9fH6ZpYlkWa9euJRQKFWw2jsfHzb9EAOq//huOtCPuugP+dQWUloKpk7ecnYx43OYhtgbu5pwhHCZtWZarzqcDt+14n89HQ0MDsViM9vZ2Ojs76e7uRgiRzcsAjI4if/c75DPP2HqXlqLdfTfaI4/YkSJfVFPK5m4TejmZTIZoNFpQJ6dnE4vFCpasTs8I4JJLLmHr1q3s3LmTaDTK559/jpSSm2++mYqKirxrjDuGpsGW6xEXz0c9+wLqocfg3Gq45CLEv1SMtbYLvADnXOTYMTh82L4XDI7f/xt9KOaQrCNHjnD69GlXjuGE2draWubNm+cq2kQiEW666SaGhob45ptvcnapGOvjyB07kE8+CcPDziQoLUXu2mVHj+mFAaXQamvh5z/HFwhgmibJZJIDBw7Q3d2N3++flphrmkY8Hufo0aMopfB4PJSWlk7RZ7LTLF++nHg8zu7duxkeHqa1tRXLsrjlllvyEvNcRiUELFuM+OOzcOw4/Pkj1P++Dds/gkzx3gNg7xJHqUWLbOLl8kTVDXRdR9d1Wlpa+PTTT13NsSyLVCrF5s2bs+crbjB37ly2bt3K9u3b6evrs7u1YEeD779HPfWU3d9xKrKeHuRTT9n6F3PWTZvQ16yhuqaGcDhMd3c3J0+ezJ6a5oOUMhs5wuEwVVVVBbvIYDvUqlWrSCaT7N27l0QiwZEjRwC49dZbqaysnDpn2pX8Prh0KTxwJ+Lfb7U/70ul3F2OU8yeDfX1dioaY8LpdNp1dw/s8JpKpbJE02ncpFKp7GGam8vpV0wM2xPXLYQFCxawefNmAoEAiXjcJs9C2A4RjTImmK13JmOfiYyOFrfTmB0i4TDLly9HSpkl3IV0ceSXUrJixQoqKiqy1UYqlcpL2g3D4Oqrr2bTpk14PB6klDQ3N7N9+3ZOnTo1JUIVrsFME8qCcM45tiGKlWxK2Y6wYIF94FZXB9jsJBgMEgqFKHFZugkh8Pv9hMPhbJNJ13WCwSBSyoJd0clwPtRx1vH5fITDYfx+v6vocemllxKNRtm9ezcVFRX4DAPmzrVL+KYmO1q45VNS2k5RYadnHdi4cSMA7e3tjIzkaTROgM/nY8mSJWzcuBFN07AsC6/XSzgcJhgM5uVSpmmyYcMGkskkH374IVJKTpw4wRtvvMHmzZtzqhNR9Cvx/n745htbITchOBCAOXNsfjE2PpPJ0NXVRSqVoqKiIsuIC0FKSXd3N4lEglAoREVFBel0mu7u7h/9aV95eTnhcJj+/n5isRg+n4+qqipXa6XTadrb26msrGTu3Lm2/KdPo/761/HPDNxgLLqIigr7876xeZlMhuHhYQYHB4seCgaDQcrKyrK8RylFNBolGo1SUlLC7NmzC1Y4qVSKrq6ubHTKZDJUV1cTCASyX4kXd4wZ/FNAKeVwl3hTU9MDZ/9EZwb/LzA5gs84xgymxYxjzCAHQghd0zRhSCkTP7UwM/jHgZQyLqVMG5988smzP7UwM/iHgaaUGj116tQX/wcUIuZr49LcPgAAAABJRU5ErkJggg==",alt:""})})})]})})},Gt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Kt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Wt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Wt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qt=function(e){return function(e){const t=Gt(e);return Kt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Yt=function(e){try{return Kt.decodeString(e,!0)}catch(uI){console.error("base64Decode failed: ",uI)}return null};function Jt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Jt(e[n],t[n]));return e}function Xt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Zt=()=>{try{return Xt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uI){return}const t=e&&Yt(e[1]);return t&&JSON.parse(t)})()}catch(uI){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uI))}},$t=()=>{var e;return null===(e=Zt())||void 0===e?void 0:e.config};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function tn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qt(JSON.stringify({alg:"none",type:"JWT"})),Qt(JSON.stringify(s)),""].join(".")}function nn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rn(){var e;const t=null===(e=Zt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uI){return!1}}function sn(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function on(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function an(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ln(){const e=nn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function cn(){return!rn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function un(){try{return"object"===typeof indexedDB}catch(uI){return!1}}class hn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(fn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new hn(n,s,t)}}const fn=/\{\$([^}]+)}/g;function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(gn(n)&&gn(s)){if(!mn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gn(e){return null!==e&&"object"===typeof e}function yn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function wn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function bn(e,t){const n=new _n(e,t);return n.subscribe.bind(n)}class _n{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=En),void 0===r.error&&(r.error=En),void 0===r.complete&&(r.complete=En);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uI){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uI){"undefined"!==typeof console&&console.error&&console.error(uI)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function En(){}function Sn(e){return e&&e._delegate?e._delegate:e}class In{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kn="[DEFAULT]";class Tn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new en;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uI){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uI){if(r)return null;throw uI}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch(uI){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uI){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===kn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Cn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const An=[];var xn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xn||(xn={}));const Nn={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},Rn=xn.INFO,Pn={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},Dn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Pn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class On{constructor(e){this.name=e,this._logLevel=Rn,this._logHandler=Dn,this._userLogHandler=null,An.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Nn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...t),this._logHandler(this,xn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...t),this._logHandler(this,xn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xn.INFO,...t),this._logHandler(this,xn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xn.WARN,...t),this._logHandler(this,xn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...t),this._logHandler(this,xn.ERROR,...t)}}let Ln,Mn;const Fn=new WeakMap,Un=new WeakMap,Vn=new WeakMap,zn=new WeakMap,jn=new WeakMap;let Bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Un.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mn||(Mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Kn(this),n),Gn(Fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gn(e.apply(Kn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Kn(this),t,...r);return Vn.set(s,t.sort?t.sort():[t]),Gn(s)}}function Hn(e){return"function"===typeof e?qn(e):(e instanceof IDBTransaction&&function(e){if(Un.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Un.set(e,t)}(e),t=e,(Ln||(Ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Bn):e);var t}function Gn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Gn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Fn.set(t,e)})).catch((()=>{})),jn.set(t,e),t}(e);if(zn.has(e))return zn.get(e);const t=Hn(e);return t!==e&&(zn.set(e,t),jn.set(t,e)),t}const Kn=e=>jn.get(e);const Wn=["get","getKey","getAll","getAllKeys","count"],Qn=["put","add","delete","clear"],Yn=new Map;function Jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yn.get(t))return Yn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Qn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Yn.set(t,s),s}Bn=(e=>h(h({},e),{},{get:(t,n,r)=>Jn(t,n)||e.get(t,n,r),has:(t,n)=>!!Jn(t,n)||e.has(t,n)}))(Bn);class Xn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Zn="@firebase/app",$n="0.10.18",er=new On("@firebase/app"),tr="@firebase/app-compat",nr="@firebase/analytics-compat",rr="@firebase/analytics",ir="@firebase/app-check-compat",sr="@firebase/app-check",or="@firebase/auth",ar="@firebase/auth-compat",lr="@firebase/database",cr="@firebase/data-connect",ur="@firebase/database-compat",hr="@firebase/functions",dr="@firebase/functions-compat",fr="@firebase/installations",pr="@firebase/installations-compat",mr="@firebase/messaging",gr="@firebase/messaging-compat",yr="@firebase/performance",vr="@firebase/performance-compat",wr="@firebase/remote-config",br="@firebase/remote-config-compat",_r="@firebase/storage",Er="@firebase/storage-compat",Sr="@firebase/firestore",Ir="@firebase/vertexai",kr="@firebase/firestore-compat",Tr="firebase",Cr="[DEFAULT]",Ar={[Zn]:"fire-core",[tr]:"fire-core-compat",[rr]:"fire-analytics",[nr]:"fire-analytics-compat",[sr]:"fire-app-check",[ir]:"fire-app-check-compat",[or]:"fire-auth",[ar]:"fire-auth-compat",[lr]:"fire-rtdb",[cr]:"fire-data-connect",[ur]:"fire-rtdb-compat",[hr]:"fire-fn",[dr]:"fire-fn-compat",[fr]:"fire-iid",[pr]:"fire-iid-compat",[mr]:"fire-fcm",[gr]:"fire-fcm-compat",[yr]:"fire-perf",[vr]:"fire-perf-compat",[wr]:"fire-rc",[br]:"fire-rc-compat",[_r]:"fire-gcs",[Er]:"fire-gcs-compat",[Sr]:"fire-fst",[kr]:"fire-fst-compat",[Ir]:"fire-vertex","fire-js":"fire-js",[Tr]:"fire-js-all"},xr=new Map,Nr=new Map,Rr=new Map;function Pr(e,t){try{e.container.addComponent(t)}catch(uI){er.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uI)}}function Dr(e,t){e.container.addOrOverwriteComponent(t)}function Or(e){const t=e.name;if(Rr.has(t))return er.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rr.set(t,e);for(const n of xr.values())Pr(n,e);for(const n of Nr.values())Pr(n,e);return!0}function Lr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cr;Lr(e,t).clearInstance(n)}function Fr(e){return void 0!==e.options}function Ur(e){return void 0!==e.settings}function Vr(){Rr.clear()}const zr=new dn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new In("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}class Br extends jr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Yr(Zn,$n,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zr.create("server-app-deleted")}}const qr="11.2.0";function Hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Cr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=$t()),!n)throw zr.create("no-options");const s=xr.get(i);if(s){if(mn(n,s.options)&&mn(r,s.config))return s;throw zr.create("duplicate-app",{appName:i})}const o=new Cn(i);for(const l of Rr.values())o.addComponent(l);const a=new jr(n,r,o);return xr.set(i,a),a}function Gr(e,t){if(("undefined"!==typeof window||sn())&&!sn())throw zr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Fr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw zr.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=Nr.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new Cn(i);for(const c of Rr.values())a.addComponent(c);const l=new Br(n,t,i,a);return Nr.set(i,l),l}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;const t=xr.get(e);if(!t&&e===Cr&&$t())return Hr();if(!t)throw zr.create("no-app",{appName:e});return t}function Wr(){return Array.from(xr.values())}async function Qr(e){let t=!1;const n=e.name;if(xr.has(n))t=!0,xr.delete(n);else if(Nr.has(n)){e.decRefCount()<=0&&(Nr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yr(e,t,n){var r;let i=null!==(r=Ar[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void er.warn(e.join(" "))}Or(new In("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Jr(e,t){if(null!==e&&"function"!==typeof e)throw zr.create("invalid-log-argument");!function(e,t){for(const n of An){let r=null;t&&t.level&&(r=Nn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:xn[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Xr(e){var t;t=e,An.forEach((e=>{e.setLogLevel(t)}))}const Zr="firebase-heartbeat-store";let $r=null;function ei(){return $r||($r=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Gn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Gn(o.result),e.oldVersion,e.newVersion,Gn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Zr)}catch(uI){console.warn(uI)}}}).catch((e=>{throw zr.create("idb-open",{originalErrorMessage:e.message})}))),$r}async function ti(e,t){try{const n=(await ei()).transaction(Zr,"readwrite"),r=n.objectStore(Zr);await r.put(t,ni(e)),await n.done}catch(uI){if(uI instanceof hn)er.warn(uI.message);else{const t=zr.create("idb-set",{originalErrorMessage:null===uI||void 0===uI?void 0:uI.message});er.warn(t.message)}}}function ni(e){return"".concat(e.name,"!").concat(e.options.appId)}class ri{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new si(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ii();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(uI){er.warn(uI)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ii(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),oi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Qt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uI){return er.warn(uI),""}}}function ii(){return(new Date).toISOString().substring(0,10)}class si{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!un()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ei()).transaction(Zr),n=await t.objectStore(Zr).get(ni(e));return await t.done,n}catch(uI){if(uI instanceof hn)er.warn(uI.message);else{const t=zr.create("idb-get",{originalErrorMessage:null===uI||void 0===uI?void 0:uI.message});er.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ti(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ti(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oi(e){return Qt(JSON.stringify({version:2,heartbeats:e})).length}var ai;ai="",Or(new In("platform-logger",(e=>new Xn(e)),"PRIVATE")),Or(new In("heartbeat",(e=>new ri(e)),"PRIVATE")),Yr(Zn,$n,ai),Yr(Zn,$n,"esm2017"),Yr("fire-js","");class li{constructor(e,t){this._delegate=e,this.firebase=t,Pr(e,new In("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Qr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Pr(this._delegate,e)}_addOrOverwriteComponent(e){Dr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ci=new dn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ui=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=Hr(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pn(t,i.name))return t[i.name];const s=new e(i,n);return t[i.name]=s,s},app:i,registerVersion:Yr,setLogLevel:Xr,onLog:Jr,apps:null,SDK_VERSION:qr,INTERNAL:{registerComponent:function(t){const r=t.name,s=r.replace("-compat","");if(Or(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw ci.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&Jt(o,t.serviceProps),n[s]=o,e.prototype[s]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!pn(t,e=e||Cr))throw ci.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(li);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Jt(t,e)},createSubscribe:bn,ErrorFactory:dn,deepExtend:Jt}),t}(),hi=new On("@firebase/app-compat");try{const e=Xt();if(void 0!==e.firebase){hi.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&hi.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(hI){}const di=ui;!function(e){Yr("@firebase/app-compat","0.2.48",e)}();di.registerVersion("firebase","11.2.0","app-compat");var fi,pi,mi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,pi=gi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},fi=gi.Integer=r}).apply("undefined"!==typeof mi?mi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var yi,vi,wi,bi,_i,Ei,Si,Ii,ki="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ti={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ki&&ki];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,A=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(R)}};var R=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){S(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,D);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=$(e);if(l||(e[H]=l=new j(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function X(e){return e in G?G[e]:G[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function $(e){return(e=e[H])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new j(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;_(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function we(){D.call(this,"c")}h(ve,D),h(we,D);var be={},_e=null;function Ee(){return _e=_e||new ne}function Se(e){D.call(this,be.La,e)}function Ie(e){const t=Ee();re(t,new Se(t))}function ke(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new ke(t,e))}function Ce(e,t){D.call(this,be.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(Se,D),be.STAT_EVENT="statevent",h(ke,D),be.Ma="timingevent",h(Ce,D),xe.prototype.xa=function(){this.g=!1},xe.prototype.info=function(){};var Re,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Re=new Oe;var Fe={},Ue={};function Ve(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ge(a),qe(a)),r.g=o}else nn(r);0<n.i.length&&Zt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ie()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ie(),Ge(this);var n=this.g.Z();this.X=n;t:if(je(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),We(this),Ke(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==d&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ne(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Qe(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Te(11))}}else Ne(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),Ke(this)}else Ne(this.i,this.l,a,null),Qe(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),We(this),Ke(this)}}}catch(Ci){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Te(17)),We(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){Et(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Et(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function At(){this.g=new fe}function xt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uI){throw t.push(r+"type="+encodeURIComponent("_badmap")),uI}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,It(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new Rt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var Ut=/^https?$/i,Vt=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,jt(e),qt(e)}function jt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ut.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",jt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uI){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ni){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}hn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||N(),A||(C(),A=!0),x.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{xt(a,e,"req"+n+"_")}catch(Ci){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||N(),A||(C(),A=!0),x.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ce(r,n)),Zt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Xe(this.h)||$t(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Zt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,we),h(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ii=Ti.createWebChannelTransport=function(){return new mn},Si=Ti.getStatEventTarget=function(){return Ee()},Ei=Ti.Event=be,_i=Ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,bi=Ti.ErrorCode=Pe,De.COMPLETE="complete",wi=Ti.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,vi=Ti.WebChannel=ge,Ti.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,yi=Ti.XhrIo=Ft}).apply("undefined"!==typeof ki?ki:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ci="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let xi="11.2.0";const Ni=new On("@firebase/firestore");function Ri(){return Ni.logLevel}function Pi(e){if(Ni.logLevel<=xn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Li);Ni.debug("Firestore (".concat(xi,"): ").concat(e),...i)}}function Di(e){if(Ni.logLevel<=xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Li);Ni.error("Firestore (".concat(xi,"): ").concat(e),...i)}}function Oi(e){if(Ni.logLevel<=xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Li);Ni.warn("Firestore (".concat(xi,"): ").concat(e),...i)}}function Li(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(xi,") INTERNAL ASSERTION FAILED: ")+e;throw Di(t),new Error(t)}function Fi(e,t){e||Mi()}function Ui(e,t){return e}const Vi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zi extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ji{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Bi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class qi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ai.UNAUTHENTICATED)))}shutdown(){}}class Hi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gi{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fi(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ji,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Pi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Pi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ji)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fi("string"==typeof t.accessToken),new Bi(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fi(null===e||"string"==typeof e),new Ai(e)}}class Ki{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ki(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fi(void 0===this.o);const n=e=>{null!=e.error&&Pi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Pi("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Pi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Pi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Fi("string"==typeof e.token),this.R=e.token,new Qi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ji(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Xi{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ji(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Zi(e,t){return e<t?-1:e>t?1:0}function $i(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function es(e){return e+"\0"}class ts{static now(){return ts.fromMillis(Date.now())}static fromDate(e){return ts.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ts(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zi(Vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zi(Vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zi(Vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zi(Vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zi(this.nanoseconds,e.nanoseconds):Zi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ns{static fromTimestamp(e){return new ns(e)}static min(){return new ns(new ts(0,0))}static max(){return new ns(new ts(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rs{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mi(),void 0===n?n=e.length-t:n>e.length-t&&Mi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===rs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=rs.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=rs.isNumericId(e),r=rs.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?rs.extractNumericId(e).compare(rs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class is extends rs{construct(e,t,n){return new is(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new zi(Vi.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new is(e)}static emptyPath(){return new is([])}}const ss=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends rs{construct(e,t,n){return new os(e,t,n)}static isValidIdentifier(e){return ss.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new os(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new zi(Vi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new zi(Vi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new zi(Vi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new zi(Vi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new os(t)}static emptyPath(){return new os([])}}class as{constructor(e){this.path=e}static fromPath(e){return new as(is.fromString(e))}static fromName(e){return new as(is.fromString(e).popFirst(5))}static empty(){return new as(is.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===is.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return is.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new as(new is(e.slice()))}}class ls{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function cs(e){return e.fields.find((e=>2===e.kind))}function us(e){return e.fields.filter((e=>2!==e.kind))}ls.UNKNOWN_ID=-1;class hs{constructor(e,t){this.fieldPath=e,this.kind=t}}class ds{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ds(0,ms.min())}}function fs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ns.fromTimestamp(1e9===r?new ts(n+1,0):new ts(n,r));return new ms(i,as.empty(),t)}function ps(e){return new ms(e.readTime,e.key,-1)}class ms{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ms(ns.min(),as.empty(),-1)}static max(){return new ms(ns.max(),as.empty(),-1)}}function gs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=as.comparator(e.documentKey,t.documentKey),0!==n?n:Zi(e.largestBatchId,t.largestBatchId))}const ys="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ws(e){if(e.code!==Vi.FAILED_PRECONDITION||e.message!==ys)throw e;Pi("LocalStore","Unexpectedly lost primary lease")}class bs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bs(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof bs?t:bs.resolve(t)}catch(e){return bs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):bs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):bs.reject(t)}static resolve(e){return new bs(((t,n)=>{t(e)}))}static reject(e){return new bs(((t,n)=>{n(e)}))}static waitFor(e){return new bs(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=bs.resolve(!1);for(const n of e)t=t.next((e=>e?bs.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new bs(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new bs(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class _s{static open(e,t,n,r){try{return new _s(t,e.transaction(r,n))}catch(e){throw new ks(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ji,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ks(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ns(t.target.error);this.V.reject(new ks(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Pi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Cs(t)}}class Es{static delete(e){return Pi("SimpleDb","Removing database:",e),As(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!un())return!1;if(Es.S())return!0;const e=nn(),t=Es.D(e),n=0<t&&t<10,r=Ss(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===Es.D(nn())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(Pi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ks(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new zi(Vi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new zi(Vi.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ks(e,r))},r.onupgradeneeded=e=>{Pi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Pi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}B(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=_s.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),bs.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Pi("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Ss(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Is{constructor(e){this.L=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.L=e}done(){this.k=!0}$(e){this.q=e}delete(){return As(this.L.delete())}}class ks extends zi{constructor(e,t){super(Vi.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ts(e){return"IndexedDbTransactionError"===e.name}class Cs{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Pi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),As(n)}add(e){return Pi("SimpleDb","ADD",this.store.name,e,e),As(this.store.add(e))}get(e){return As(this.store.get(e)).next((t=>(void 0===t&&(t=null),Pi("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Pi("SimpleDb","DELETE",this.store.name,e),As(this.store.delete(e))}count(){return Pi("SimpleDb","COUNT",this.store.name),As(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new bs(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new bs(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Pi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new bs(((n,r)=>{t.onerror=e=>{const t=Ns(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new bs(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Is(i),o=t(i.primaryKey,i.value,s);if(o instanceof bs){const e=o.catch((e=>(s.done(),bs.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>bs.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function As(e){return new bs(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ns(e.target.error);n(t)}}))}let xs=!1;function Ns(e){const t=Es.D(nn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new zi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xs||(xs=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Rs{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Pi("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Pi("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Ts(e)?Pi("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ws(e)}await this.X(6e4)}))}}class Ps{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return bs.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Pi("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Pi("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ps(t);gs(r,n)>0&&(n=r)})),new ms(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Os(e){return null==e}function Ls(e){return 0===e&&1/e==-1/0}function Ms(e){return"number"==typeof e&&Number.isInteger(e)&&!Ls(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Fs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vs(t)),t=Us(e.get(n),t);return Vs(t)}function Us(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Vs(e){return e+"\x01\x01"}function zs(e){const t=e.length;if(Fi(t>=2),2===t)return Fi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),is.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Mi(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Mi()}s=t+2}return new is(r)}Ds.oe=-1;const js=["userId","batchId"];function Bs(e,t){return[e,Fs(t)]}function qs(e,t,n){return[e,Fs(t),n]}const Hs={},Gs=["prefixPath","collectionGroup","readTime","documentId"],Ks=["prefixPath","collectionGroup","documentId"],Ws=["collectionGroup","readTime","prefixPath","documentId"],Qs=["canonicalId","targetId"],Ys=["targetId","path"],Js=["path","targetId"],Xs=["collectionId","parent"],Zs=["indexId","uid"],$s=["uid","sequenceNumber"],eo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],to=["indexId","uid","orderedDocumentKey"],no=["userId","collectionPath","documentId"],ro=["userId","collectionPath","largestBatchId"],io=["userId","collectionGroup","largestBatchId"],so=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oo=[...so,"documentOverlays"],ao=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lo=ao,co=[...lo,"indexConfiguration","indexState","indexEntries"],uo=co,ho=[...co,"globals"];class fo extends vs{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function po(e,t){const n=Ui(e);return Es.C(n._e,t)}function mo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function go(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vo{constructor(e,t){this.comparator=e,this.root=t||bo.EMPTY}insert(e,t){return new vo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(e){return new vo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}}class wo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bo.RED,this.left=null!=r?r:bo.EMPTY,this.right=null!=i?i:bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new bo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mi();if(this.right.isRed())throw Mi();const e=this.left.check();if(e!==this.right.check())throw Mi();return e+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw Mi()}get value(){throw Mi()}get color(){throw Mi()}get left(){throw Mi()}get right(){throw Mi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new bo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _o{constructor(e){this.comparator=e,this.data=new vo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Eo(this.data.getIterator())}getIteratorFrom(e){return new Eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof _o))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _o(this.comparator);return t.data=e,t}}class Eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function So(e){return e.hasNext()?e.getNext():void 0}class Io{constructor(e){this.fields=e,e.sort(os.comparator)}static empty(){return new Io([])}unionWith(e){let t=new _o(os.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $i(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class To{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ko("Invalid base64 string: "+e):e}}(e);return new To(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new To(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}To.EMPTY_BYTE_STRING=new To("");const Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(e){if(Fi(!!e),"string"==typeof e){let t=0;const n=Co.exec(e);if(Fi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xo(e.seconds),nanos:xo(e.nanos)}}function xo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function No(e){return"string"==typeof e?To.fromBase64String(e):To.fromUint8Array(e)}function Ro(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Po(e){const t=e.mapValue.fields.__previous_value__;return Ro(t)?Po(t):t}function Do(e){const t=Ao(e.mapValue.fields.__local_write_time__.timestampValue);return new ts(t.seconds,t.nanos)}class Oo{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Lo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fo={nullValue:"NULL_VALUE"};function Uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ro(e)?4:ta(e)?9007199254740991:$o(e)?10:11:Mi()}function Vo(e,t){if(e===t)return!0;const n=Uo(e);if(n!==Uo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Do(e).isEqual(Do(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ao(e.timestampValue),r=Ao(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return No(e.bytesValue).isEqual(No(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xo(e.geoPointValue.latitude)===xo(t.geoPointValue.latitude)&&xo(e.geoPointValue.longitude)===xo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xo(e.integerValue)===xo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xo(e.doubleValue),r=xo(t.doubleValue);return n===r?Ls(n)===Ls(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $i(e.arrayValue.values||[],t.arrayValue.values||[],Vo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mo(n)!==mo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vo(n[i],r[i])))return!1;return!0}(e,t);default:return Mi()}}function zo(e,t){return void 0!==(e.values||[]).find((e=>Vo(e,t)))}function jo(e,t){if(e===t)return 0;const n=Uo(e),r=Uo(t);if(n!==r)return Zi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xo(e.integerValue||e.doubleValue),r=xo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bo(e.timestampValue,t.timestampValue);case 4:return Bo(Do(e),Do(t));case 5:return Zi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=No(e),r=No(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zi(n[i],r[i]);if(0!==e)return e}return Zi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zi(xo(e.latitude),xo(t.latitude));return 0!==n?n:Zi(xo(e.longitude),xo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qo(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Zi((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:qo(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mo.mapValue&&t===Mo.mapValue)return 0;if(e===Mo.mapValue)return 1;if(t===Mo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Zi(r[o],s[o]);if(0!==e)return e;const t=jo(n[r[o]],i[s[o]]);if(0!==t)return t}return Zi(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Mi()}}function Bo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zi(e,t);const n=Ao(e),r=Ao(t),i=Zi(n.seconds,r.seconds);return 0!==i?i:Zi(n.nanos,r.nanos)}function qo(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jo(n[i],r[i]);if(e)return e}return Zi(n.length,r.length)}function Ho(e){return Go(e)}function Go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ao(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return No(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return as.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Go(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Go(e.fields[i]));return n+"}"}(e.mapValue):Mi()}function Ko(e){switch(Uo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Po(e);return t?16+Ko(t):16;case 5:return 2*e.stringValue.length;case 6:return No(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ko(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return go(e.fields,((e,n)=>{t+=e.length+Ko(n)})),t}(e.mapValue);default:throw Mi()}}function Wo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qo(e){return!!e&&"integerValue"in e}function Yo(e){return!!e&&"arrayValue"in e}function Jo(e){return!!e&&"nullValue"in e}function Xo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zo(e){return!!e&&"mapValue"in e}function $o(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ea(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return go(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ea(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ea(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ta(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const na={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ra(e){return"nullValue"in e?Fo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wo(Lo.empty(),as.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?$o(e)?na:{mapValue:{}}:Mi()}function ia(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wo(Lo.empty(),as.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?na:"mapValue"in e?$o(e)?{mapValue:{}}:Mo:Mi()}function sa(e,t){const n=jo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function oa(e,t){const n=jo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class aa{constructor(e){this.value=e}static empty(){return new aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(t)}setAll(e){let t=os.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ea(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){go(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new aa(ea(this.value))}}function la(e){const t=[];return go(e.fields,((e,n)=>{const r=new os([e]);if(Zo(n)){const e=la(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Io(t)}class ca{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ca(e,0,ns.min(),ns.min(),ns.min(),aa.empty(),0)}static newFoundDocument(e,t,n,r){return new ca(e,1,t,ns.min(),n,r,0)}static newNoDocument(e,t){return new ca(e,2,t,ns.min(),ns.min(),aa.empty(),0)}static newUnknownDocument(e,t){return new ca(e,3,t,ns.min(),ns.min(),aa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ns.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ns.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ca&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ca(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ua{constructor(e,t){this.position=e,this.inclusive=t}}function ha(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?as.comparator(as.fromName(o.referenceValue),n.key):jo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function da(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vo(e.position[n],t.position[n]))return!1;return!0}class fa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ma{}class ga extends ma{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ta(e,t,n):"array-contains"===t?new Na(e,n):"in"===t?new Ra(e,n):"not-in"===t?new Pa(e,n):"array-contains-any"===t?new Da(e,n):new ga(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ca(e,n):new Aa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jo(t,this.value)):null!==t&&Uo(this.value)===Uo(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends ma{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ya(e,t)}matches(e){return va(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function va(e){return"and"===e.op}function wa(e){return"or"===e.op}function ba(e){return _a(e)&&va(e)}function _a(e){for(const t of e.filters)if(t instanceof ya)return!1;return!0}function Ea(e){if(e instanceof ga)return e.field.canonicalString()+e.op.toString()+Ho(e.value);if(ba(e))return e.filters.map((e=>Ea(e))).join(",");{const t=e.filters.map((e=>Ea(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Sa(e,t){return e instanceof ga?function(e,t){return t instanceof ga&&e.op===t.op&&e.field.isEqual(t.field)&&Vo(e.value,t.value)}(e,t):e instanceof ya?function(e,t){return t instanceof ya&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Sa(n,t.filters[r])),!0)}(e,t):void Mi()}function Ia(e,t){const n=e.filters.concat(t);return ya.create(n,e.op)}function ka(e){return e instanceof ga?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ho(e.value))}(e):e instanceof ya?function(e){return e.op.toString()+" {"+e.getFilters().map(ka).join(" ,")+"}"}(e):"Filter"}class Ta extends ga{constructor(e,t,n){super(e,t,n),this.key=as.fromName(n.referenceValue)}matches(e){const t=as.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ca extends ga{constructor(e,t){super(e,"in",t),this.keys=xa("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Aa extends ga{constructor(e,t){super(e,"not-in",t),this.keys=xa("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>as.fromName(e.referenceValue)))}class Na extends ga{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yo(t)&&zo(t.arrayValue,this.value)}}class Ra extends ga{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zo(this.value.arrayValue,t)}}class Pa extends ga{constructor(e,t){super(e,"not-in",t)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zo(this.value.arrayValue,t)}}class Da extends ga{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>zo(this.value.arrayValue,e)))}}class Oa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function La(e){return new Oa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ma(e){const t=Ui(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ea(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Os(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ho(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ho(e))).join(",")),t.ue=e}return t.ue}function Fa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sa(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!da(e.startAt,t.startAt)&&da(e.endAt,t.endAt)}function Ua(e){return as.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Va(e,t){return e.filters.filter((e=>e instanceof ga&&e.field.isEqual(t)))}function za(e,t,n){let r=Fo,i=!0;for(const s of Va(e,t)){let e=Fo,t=!0;switch(s.op){case"<":case"<=":e=ra(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Fo}sa({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];sa({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ja(e,t,n){let r=Mo,i=!0;for(const s of Va(e,t)){let e=Mo,t=!0;switch(s.op){case">=":case">":e=ia(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Mo}oa({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];oa({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ba{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qa(e,t,n,r,i,s,o,a){return new Ba(e,t,n,r,i,s,o,a)}function Ha(e){return new Ba(e)}function Ga(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ka(e){return null!==e.collectionGroup}function Wa(e){const t=Ui(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new _o(os.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new fa(r,n))})),e.has(os.keyField().canonicalString())||t.ce.push(new fa(os.keyField(),n))}return t.ce}function Qa(e){const t=Ui(e);return t.le||(t.le=Ya(t,Wa(e))),t.le}function Ya(e,t){if("F"===e.limitType)return La(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new fa(e.field,t)}));const n=e.endAt?new ua(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ua(e.startAt.position,e.startAt.inclusive):null;return La(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ja(e,t){const n=e.filters.concat([t]);return new Ba(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xa(e,t,n){return new Ba(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Za(e,t){return Fa(Qa(e),Qa(t))&&e.limitType===t.limitType}function $a(e){return"".concat(Ma(Qa(e)),"|lt:").concat(e.limitType)}function el(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ka(e))).join(", "),"]")),Os(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ho(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ho(e))).join(",")),"Target(".concat(t,")")}(Qa(e)),"; limitType=").concat(e.limitType,")")}function tl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):as.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ha(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wa(e),t))&&!(e.endAt&&!function(e,t,n){const r=ha(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wa(e),t))}(e,t)}function nl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rl(e){return(t,n)=>{let r=!1;for(const i of Wa(e)){const e=il(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function il(e,t,n){const r=e.field.isKeyField()?as.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jo(r,i):Mi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mi()}}class sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return yo(this.inner)}size(){return this.innerSize}}const ol=new vo(as.comparator);function al(){return ol}const ll=new vo(as.comparator);function cl(){let e=ll;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ul(e){let t=ll;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hl(){return fl()}function dl(){return fl()}function fl(){return new sl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const pl=new vo(as.comparator),ml=new _o(as.comparator);function gl(){let e=ml;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yl=new _o(Zi);function vl(){return yl}function wl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(t)?"-0":t}}function bl(e){return{integerValue:""+e}}function _l(e,t){return Ms(t)?bl(t):wl(e,t)}class El{constructor(){this._=void 0}}function Sl(e,t,n){return e instanceof Tl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ro(t)&&(t=Po(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cl?Al(e,t):e instanceof xl?Nl(e,t):function(e,t){const n=kl(e,t),r=Pl(n)+Pl(e.Pe);return Qo(n)&&Qo(e.Pe)?bl(r):wl(e.serializer,r)}(e,t)}function Il(e,t,n){return e instanceof Cl?Al(e,t):e instanceof xl?Nl(e,t):n}function kl(e,t){return e instanceof Rl?function(e){return Qo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Tl extends El{}class Cl extends El{constructor(e){super(),this.elements=e}}function Al(e,t){const n=Dl(t);for(const r of e.elements)n.some((e=>Vo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class xl extends El{constructor(e){super(),this.elements=e}}function Nl(e,t){let n=Dl(t);for(const r of e.elements)n=n.filter((e=>!Vo(e,r)));return{arrayValue:{values:n}}}class Rl extends El{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Pl(e){return xo(e.integerValue||e.doubleValue)}function Dl(e){return Yo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ol{constructor(e,t){this.field=e,this.transform=t}}class Ll{constructor(e,t){this.version=e,this.transformResults=t}}class Ml{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ml}static exists(e){return new Ml(void 0,e)}static updateTime(e){return new Ml(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ul{}function Vl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yl(e.key,Ml.none()):new Hl(e.key,e.data,Ml.none());{const n=e.data,r=aa.empty();let i=new _o(os.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gl(e.key,r,new Io(i.toArray()),Ml.none())}}function zl(e,t,n){e instanceof Hl?function(e,t,n){const r=e.value.clone(),i=Wl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gl?function(e,t,n){if(!Fl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jl(e,t,n,r){return e instanceof Hl?function(e,t,n,r){if(!Fl(e.precondition,t))return n;const i=e.value.clone(),s=Ql(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gl?function(e,t,n,r){if(!Fl(e.precondition,t))return n;const i=Ql(e.fieldTransforms,r,t),s=t.data;return s.setAll(Kl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Fl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kl(r.transform,e||null);null!=i&&(null===n&&(n=aa.empty()),n.set(r.field,i))}return n||null}function ql(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$i(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cl&&t instanceof Cl||e instanceof xl&&t instanceof xl?$i(e.elements,t.elements,Vo):e instanceof Rl&&t instanceof Rl?Vo(e.Pe,t.Pe):e instanceof Tl&&t instanceof Tl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hl extends Ul{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gl extends Ul{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Wl(e,t,n){const r=new Map;Fi(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Il(o,a,n[i]))}return r}function Ql(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Sl(e,s,t))}return r}class Yl extends Ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jl extends Ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dl();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Vl(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ns.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gl())}isEqual(e){return this.batchId===e.batchId&&$i(this.mutations,e.mutations,((e,t)=>ql(e,t)))&&$i(this.baseMutations,e.baseMutations,((e,t)=>ql(e,t)))}}class Zl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fi(e.mutations.length===n.length);let r=pl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Zl(e,t,n,r)}}class $l{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ec{constructor(e,t){this.count=e,this.unchangedNames=t}}var tc,nc;function rc(e){switch(e){default:return Mi();case Vi.CANCELLED:case Vi.UNKNOWN:case Vi.DEADLINE_EXCEEDED:case Vi.RESOURCE_EXHAUSTED:case Vi.INTERNAL:case Vi.UNAVAILABLE:case Vi.UNAUTHENTICATED:return!1;case Vi.INVALID_ARGUMENT:case Vi.NOT_FOUND:case Vi.ALREADY_EXISTS:case Vi.PERMISSION_DENIED:case Vi.FAILED_PRECONDITION:case Vi.ABORTED:case Vi.OUT_OF_RANGE:case Vi.UNIMPLEMENTED:case Vi.DATA_LOSS:return!0}}function ic(e){if(void 0===e)return Di("GRPC error has no .code"),Vi.UNKNOWN;switch(e){case tc.OK:return Vi.OK;case tc.CANCELLED:return Vi.CANCELLED;case tc.UNKNOWN:return Vi.UNKNOWN;case tc.DEADLINE_EXCEEDED:return Vi.DEADLINE_EXCEEDED;case tc.RESOURCE_EXHAUSTED:return Vi.RESOURCE_EXHAUSTED;case tc.INTERNAL:return Vi.INTERNAL;case tc.UNAVAILABLE:return Vi.UNAVAILABLE;case tc.UNAUTHENTICATED:return Vi.UNAUTHENTICATED;case tc.INVALID_ARGUMENT:return Vi.INVALID_ARGUMENT;case tc.NOT_FOUND:return Vi.NOT_FOUND;case tc.ALREADY_EXISTS:return Vi.ALREADY_EXISTS;case tc.PERMISSION_DENIED:return Vi.PERMISSION_DENIED;case tc.FAILED_PRECONDITION:return Vi.FAILED_PRECONDITION;case tc.ABORTED:return Vi.ABORTED;case tc.OUT_OF_RANGE:return Vi.OUT_OF_RANGE;case tc.UNIMPLEMENTED:return Vi.UNIMPLEMENTED;case tc.DATA_LOSS:return Vi.DATA_LOSS;default:return Mi()}}(nc=tc||(tc={}))[nc.OK=0]="OK",nc[nc.CANCELLED=1]="CANCELLED",nc[nc.UNKNOWN=2]="UNKNOWN",nc[nc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nc[nc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nc[nc.NOT_FOUND=5]="NOT_FOUND",nc[nc.ALREADY_EXISTS=6]="ALREADY_EXISTS",nc[nc.PERMISSION_DENIED=7]="PERMISSION_DENIED",nc[nc.UNAUTHENTICATED=16]="UNAUTHENTICATED",nc[nc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nc[nc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nc[nc.ABORTED=10]="ABORTED",nc[nc.OUT_OF_RANGE=11]="OUT_OF_RANGE",nc[nc.UNIMPLEMENTED=12]="UNIMPLEMENTED",nc[nc.INTERNAL=13]="INTERNAL",nc[nc.UNAVAILABLE=14]="UNAVAILABLE",nc[nc.DATA_LOSS=15]="DATA_LOSS";let sc=null;function oc(){return new TextEncoder}const ac=new fi([4294967295,4294967295],0);function lc(e){const t=oc().encode(e),n=new pi;return n.update(t),new Uint8Array(n.digest())}function cc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new fi([n,r],0),new fi([i,s],0)]}class uc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new hc("Invalid padding: ".concat(t));if(n<0)throw new hc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new hc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new hc("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=fi.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(fi.fromNumber(n)));return 1===r.compare(ac)&&(r=new fi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=lc(e),[n,r]=cc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ee(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new uc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=lc(e),[n,r]=cc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dc(ns.min(),r,new vo(Zi),al(),gl())}}class fc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fc(n,t,gl(),gl(),gl())}}class pc{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class mc{constructor(e,t){this.targetId=e,this.me=t}}class gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:To.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class yc{constructor(){this.fe=0,this.ge=bc(),this.pe=To.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=gl(),t=gl(),n=gl();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mi()}})),new fc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=bc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vc{constructor(e){this.Be=e,this.Le=new Map,this.ke=al(),this.qe=wc(),this.Qe=wc(),this.Ke=new vo(Zi)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Mi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(Ua(i))if(0===n){const e=new as(i.path);this.We(t,e,ca.newNoDocument(e,ns.min()))}else Fi(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==sc||sc.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Be.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=No(n).toUint8Array()}catch(e){if(e instanceof ko)return Oi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new uc(s,r,i)}catch(e){return Oi(e instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Le.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ua(i.target)){const t=new as(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,ca.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=gl();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new dc(e,t,this.Ke,this.ke,n);return this.ke=al(),this.qe=wc(),this.Qe=wc(),this.Ke=new vo(Zi),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new yc,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new _o(Zi),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _o(Zi),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Pi("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new yc),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function wc(){return new vo(as.comparator)}function bc(){return new vo(as.comparator)}const _c={asc:"ASCENDING",desc:"DESCENDING"},Ec={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sc={and:"AND",or:"OR"};class Ic{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kc(e,t){return e.useProto3Json||Os(t)?t:{value:t}}function Tc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ac(e,t){return Tc(e,t.toTimestamp())}function xc(e){return Fi(!!e),ns.fromTimestamp(function(e){const t=Ao(e);return new ts(t.seconds,t.nanos)}(e))}function Nc(e,t){return Rc(e,t).canonicalString()}function Rc(e,t){const n=function(e){return new is(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Pc(e){const t=is.fromString(e);return Fi(eu(t)),t}function Dc(e,t){return Nc(e.databaseId,t.path)}function Oc(e,t){const n=Pc(t);if(n.get(1)!==e.databaseId.projectId)throw new zi(Vi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zi(Vi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new as(Uc(n))}function Lc(e,t){return Nc(e.databaseId,t)}function Mc(e){const t=Pc(e);return 4===t.length?is.emptyPath():Uc(t)}function Fc(e){return new is(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uc(e){return Fi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vc(e,t,n){return{name:Dc(e,t),fields:n.value.mapValue.fields}}function zc(e,t,n){const r=Oc(e,t.name),i=xc(t.updateTime),s=t.createTime?xc(t.createTime):ns.min(),o=new aa({mapValue:{fields:t.fields}}),a=ca.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jc(e,t){let n;if(t instanceof Hl)n={update:Vc(e,t.key,t.value)};else if(t instanceof Yl)n={delete:Dc(e,t.key)};else if(t instanceof Gl)n={update:Vc(e,t.key,t.data),updateMask:$c(t.fieldMask)};else{if(!(t instanceof Jl))return Mi();n={verify:Dc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Tl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rl)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Mi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ac(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mi()}(e,t.precondition)),n}function Bc(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ml.updateTime(xc(e.updateTime)):void 0!==e.exists?Ml.exists(e.exists):Ml.none()}(t.currentDocument):Ml.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Fi("REQUEST_TIME"===t.setToServerValue),n=new Tl;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Cl(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new xl(e)}else"increment"in t?n=new Rl(e,t.increment):Mi();const r=os.fromServerFormat(t.fieldPath);return new Ol(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Oc(e,t.update.name),s=new aa({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Io(t.map((e=>os.fromServerFormat(e))))}(t.updateMask);return new Gl(i,s,e,n,r)}return new Hl(i,s,n,r)}if(t.delete){const r=Oc(e,t.delete);return new Yl(r,n)}if(t.verify){const r=Oc(e,t.verify);return new Jl(r,n)}return Mi()}function qc(e,t){return{documents:[Lc(e,t.path)]}}function Hc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lc(e,i);const s=function(e){if(0!==e.length)return Zc(ya.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jc(e.field),direction:Wc(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kc(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function Gc(e){let t=Mc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fi(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Kc(e);return t instanceof ya&&ba(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new fa(Xc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Os(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ua(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ua(n,t)}(n.endAt)),qa(t,i,o,s,a,"F",l,c)}function Kc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xc(e.unaryFilter.field);return ga.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xc(e.unaryFilter.field);return ga.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xc(e.unaryFilter.field);return ga.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xc(e.unaryFilter.field);return ga.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mi()}}(e):void 0!==e.fieldFilter?function(e){return ga.create(Xc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ya.create(e.compositeFilter.filters.map((e=>Kc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mi()}}(e.compositeFilter.op))}(e):Mi()}function Wc(e){return _c[e]}function Qc(e){return Ec[e]}function Yc(e){return Sc[e]}function Jc(e){return{fieldPath:e.canonicalString()}}function Xc(e){return os.fromServerFormat(e.fieldPath)}function Zc(e){return e instanceof ga?function(e){if("=="===e.op){if(Xo(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xo(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(e.field),op:Qc(e.op),value:e.value}}}(e):e instanceof ya?function(e){const t=e.getFilters().map((e=>Zc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Yc(e.op),filters:t}}}(e):Mi()}function $c(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function eu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class tu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ns.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ns.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:To.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nu{constructor(e){this.ht=e}}function ru(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Dc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tc(e,t.version.toTimestamp()),createTime:Tc(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:su(t.version)};else{if(!t.isUnknownDocument())return Mi();r.unknownDocument={path:n.path.toArray(),version:su(t.version)}}return r}function iu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function su(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ou(e){const t=new ts(e.seconds,e.nanoseconds);return ns.fromTimestamp(t)}function au(e,t){const n=(t.baseMutations||[]).map((t=>Bc(e.ht,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Bc(e.ht,t))),i=ts.fromMillis(t.localWriteTimeMs);return new Xl(t.batchId,i,n,r)}function lu(e){const t=ou(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ou(e.lastLimboFreeSnapshotVersion):ns.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Fi(1===e.documents.length),Qa(Ha(Mc(e.documents[0])))}(e.query):function(e){return Qa(Gc(e))}(e.query),new tu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,To.fromBase64String(e.resumeToken))}function cu(e,t){const n=su(t.snapshotVersion),r=su(t.lastLimboFreeSnapshotVersion);let i;i=Ua(t.target)?qc(e.ht,t.target):Hc(e.ht,t.target).ct;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ma(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uu(e){const t=Gc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xa(t,t.limit,"L"):t}function hu(e,t){return new $l(t.largestBatchId,Bc(e.ht,t.overlayMutation))}function du(e,t){const n=t.path.lastSegment();return[e,Fs(t.path.popLast()),n]}function fu(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:su(r.readTime),documentKey:Fs(r.documentKey.path),largestBatchId:r.largestBatchId}}class pu{getBundleMetadata(e,t){return mu(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ou(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return mu(e).put(function(e){return{bundleId:e.id,createTime:su(xc(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return gu(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:uu(e.bundledQuery),readTime:ou(e.readTime)}}(e)}))}saveNamedQuery(e,t){return gu(e).put(function(e){return{name:e.name,readTime:su(xc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function mu(e){return po(e,"bundles")}function gu(e){return po(e,"namedQueries")}class yu{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new yu(e,n)}getOverlay(e,t){return vu(e).get(du(this.userId,t)).next((e=>e?hu(this.serializer,e):null))}getOverlays(e,t){const n=hl();return bs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new $l(t,i);r.push(this.Tt(e,s))})),bs.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Fs(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(vu(e).j("collectionPathOverlayIndex",r))})),bs.waitFor(i)}getOverlaysForCollection(e,t,n){const r=hl(),i=Fs(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vu(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=hu(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=hl();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vu(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=hu(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}Tt(e,t){return vu(e).put(function(e,t,n){const[r,i,s]=du(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:jc(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function vu(e){return po(e,"documentOverlays")}class wu{It(e){return po(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?To.fromUint8Array(t):To.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class bu{constructor(){}dt(e,t){this.Et(e,t),t.At()}Et(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(xo(e.integerValue));else if("doubleValue"in e){const n=xo(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Ls(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=Ao(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(No(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?ta(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):$o(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Mi()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.Et(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(xo(o)),this.gt(s,t),this.Et(i[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.Et(r,t)}St(e,t){this.Rt(t,37),as.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function _u(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Eu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_u(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bu.Ft=new bu;class Su{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Bt(n.value),n=t.next();this.Lt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Bt(e);else if(e<2048)this.Bt(960|e>>>6),this.Bt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Bt(480|e>>>12),this.Bt(128|63&e>>>6),this.Bt(128|63&e);else{const e=t.codePointAt(0);this.Bt(240|e>>>18),this.Bt(128|63&e>>>12),this.Bt(128|63&e>>>6),this.Bt(128|63&e)}}this.Lt()}Qt(e){const t=this.Kt(e),n=Eu(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=Eu(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Bt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Lt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Iu{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class ku{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class Tu{constructor(){this.Jt=new Su,this.Yt=new Iu(this.Jt),this.Zt=new ku(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class Cu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Cu(this.indexId,this.documentKey,this.arrayValue,n)}}function Au(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=xu(e.arrayValue,t.arrayValue),0!==n?n:(n=xu(e.directionalValue,t.directionalValue),0!==n?n:as.comparator(e.documentKey,t.documentKey)))}function xu(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Nu{constructor(e){this.tn=new _o(((e,t)=>os.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(Fi(e.collectionGroup===this.collectionId),this.sn)return!1;const t=cs(e);if(void 0!==t&&!this._n(t))return!1;const n=us(e);let r=new Set,i=0,s=0;for(;i<n.length&&this._n(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.an(e,t)||!this.un(this.nn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.nn.length||!this.un(this.nn[s++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new _o(os.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new hs(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new hs(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new hs(n.field,"asc"===n.dir?0:1)));return new ls(ls.UNKNOWN_ID,this.collectionId,t,ds.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ru(e){var t,n;if(Fi(e instanceof ga||e instanceof ya),e instanceof ga){if(e instanceof Ra){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ga.create(e.field,"==",t))))||[];return ya.create(r,"or")}return e}const r=e.filters.map((e=>Ru(e)));return ya.create(r,e.op)}function Pu(e){if(0===e.getFilters().length)return[];const t=Mu(Ru(e));return Fi(Lu(t)),Du(t)||Ou(t)?[t]:t.getFilters()}function Du(e){return e instanceof ga}function Ou(e){return e instanceof ya&&ba(e)}function Lu(e){return Du(e)||Ou(e)||function(e){if(e instanceof ya&&wa(e)){for(const t of e.getFilters())if(!Du(t)&&!Ou(t))return!1;return!0}return!1}(e)}function Mu(e){if(Fi(e instanceof ga||e instanceof ya),e instanceof ga)return e;if(1===e.filters.length)return Mu(e.filters[0]);const t=e.filters.map((e=>Mu(e)));let n=ya.create(t,e.op);return n=Vu(n),Lu(n)?n:(Fi(n instanceof ya),Fi(va(n)),Fi(n.filters.length>1),n.filters.reduce(((e,t)=>Fu(e,t))))}function Fu(e,t){let n;return Fi(e instanceof ga||e instanceof ya),Fi(t instanceof ga||t instanceof ya),n=e instanceof ga?t instanceof ga?function(e,t){return ya.create([e,t],"and")}(e,t):Uu(e,t):t instanceof ga?Uu(t,e):function(e,t){if(Fi(e.filters.length>0&&t.filters.length>0),va(e)&&va(t))return Ia(e,t.getFilters());const n=wa(e)?e:t,r=wa(e)?t:e,i=n.filters.map((e=>Fu(e,r)));return ya.create(i,"or")}(e,t),Vu(n)}function Uu(e,t){if(va(t))return Ia(t,e.getFilters());{const n=t.filters.map((t=>Fu(e,t)));return ya.create(n,"or")}}function Vu(e){if(Fi(e instanceof ga||e instanceof ya),e instanceof ga)return e;const t=e.getFilters();if(1===t.length)return Vu(t[0]);if(_a(e))return e;const n=t.map((e=>Vu(e))),r=[];return n.forEach((t=>{t instanceof ga?r.push(t):t instanceof ya&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:ya.create(r,e.op)}class zu{constructor(){this.ln=new ju}addToCollectionParentIndex(e,t){return this.ln.add(t),bs.resolve()}getCollectionParents(e,t){return bs.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return bs.resolve()}deleteFieldIndex(e,t){return bs.resolve()}deleteAllFieldIndexes(e){return bs.resolve()}createTargetIndexes(e,t){return bs.resolve()}getDocumentsMatchingTarget(e,t){return bs.resolve(null)}getIndexType(e,t){return bs.resolve(0)}getFieldIndexes(e,t){return bs.resolve([])}getNextCollectionGroupToUpdate(e){return bs.resolve(null)}getMinOffset(e,t){return bs.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return bs.resolve(ms.min())}updateCollectionGroup(e,t,n){return bs.resolve()}updateIndexEntries(e,t){return bs.resolve()}}class ju{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _o(is.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _o(is.comparator)).toArray()}}const Bu=new Uint8Array(0);class qu{constructor(e,t){this.databaseId=t,this.hn=new ju,this.Pn=new sl((e=>Ma(e)),((e,t)=>Fa(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const i={collectionId:n,parent:Fs(r)};return Hu(e).put(i)}return bs.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[es(t),""],!1,!0);return Hu(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(zs(r.parent))}return n}))}addFieldIndex(e,t){const n=Ku(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Wu(e);return i.next((e=>{n.put(fu(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Ku(e),r=Wu(e),i=Gu(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ku(e),n=Gu(e),r=Wu(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return bs.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Nu(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Gu(e);let r=!0;const i=new Map;return bs.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=gl();const r=[];return bs.forEach(i,((i,s)=>{Pi("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ma(t)));const o=function(e,t){const n=cs(t);if(void 0===n)return null;for(const r of Va(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of us(t))for(const t of Va(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of us(t)){const t=0===i.kind?za(e,i.fieldPath,e.startAt):ja(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ua(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of us(t)){const t=0===i.kind?ja(e,i.fieldPath,e.endAt):za(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ua(n,r)}(s,i),u=this.dn(i,s,l),h=this.dn(i,s,c),d=this.En(i,s,a),f=this.An(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return bs.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=as.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return bs.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:Pu(ya.create(e.filters,"and")).map((t=>La(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Rn(t[u/l]):Bu,h=this.Vn(e,a,n[u%l],r),d=this.mn(e,a,i[u%l],s),f=o.map((t=>this.Vn(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}Vn(e,t,n,r){const i=new Cu(e,as.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){const i=new Cu(e,as.empty(),t,n);return r?i.en():i}In(e,t){const n=new Nu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return bs.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new _o(os.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new Tu;for(const r of us(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Xt(r.kind);bu.Ft.dt(e,i)}return n.Ht()}Rn(e){const t=new Tu;return bu.Ft.dt(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new Tu;return bu.Ft.dt(Wo(this.databaseId,t),n.Xt(function(e){const t=us(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}En(e,t,n){if(null===n)return[];let r=[];r.push(new Tu);let i=0;for(const s of us(e)){const e=n[i++];for(const n of r)if(this.pn(t,s.fieldPath)&&Yo(e))r=this.yn(r,s,e);else{const t=n.Xt(s.kind);bu.Ft.dt(e,t)}}return this.wn(r)}dn(e,t,n){return this.En(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Tu;n.seed(e.Ht()),bu.Ft.dt(s,n.Xt(t.kind)),i.push(n)}return i}pn(e,t){return!!e.filters.find((e=>e instanceof ga&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Ku(e),r=Wu(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return bs.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ds(t.sequenceNumber,new ms(ou(t.readTime),new as(zs(t.documentKey)),t.largestBatchId)):ds.empty(),r=e.fields.map((e=>{let[t,n]=e;return new hs(os.fromServerFormat(t),n)}));return new ls(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Zi(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Ku(e),i=Wu(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>bs.forEach(t,(t=>i.put(fu(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return bs.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?bs.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),bs.forEach(i,(n=>this.bn(e,t,n).next((t=>{const i=this.Dn(r,n);return t.isEqual(i)?bs.resolve():this.vn(e,r,n,t,i)})))))))}))}Cn(e,t,n,r){return Gu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return Gu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=Gu(e);let i=new _o(Au);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Cu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Dn(e,t){let n=new _o(Au);const r=this.fn(t,e);if(null==r)return n;const i=cs(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Yo(s))for(const i of s.arrayValue.values||[])n=n.add(new Cu(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new Cu(t.indexId,e.key,Bu,r));return n}vn(e,t,n,r,i){Pi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=So(s),l=So(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=So(o)):t?(i(a),a=So(s)):(a=So(s),l=So(o))}}(r,i,Au,(r=>{s.push(this.Cn(e,t,n,r))}),(r=>{s.push(this.Fn(e,t,n,r))})),bs.waitFor(s)}Sn(e){let t=1;return Wu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Au(e,t))).filter(((e,t,n)=>!t||0!==Au(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Au(s,e),i=Au(s,t);if(0===n)r[0]=e.en();else if(n>0&&i<0)r.push(s),r.push(s.en());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Mn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Bu,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Bu,[]];i.push(IDBKeyRange.bound(e,t))}return i}Mn(e,t){return Au(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Qu)}getMinOffset(e,t){return bs.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||Mi())))).next(Qu)}}function Hu(e){return po(e,"collectionParents")}function Gu(e){return po(e,"indexEntries")}function Ku(e){return po(e,"indexConfiguration")}function Wu(e){return po(e,"indexState")}function Qu(e){Fi(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;gs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ms(t.readTime,t.documentKey,n)}const Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ju{static withCacheSize(e){return new Ju(e,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function Xu(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Fi(1===a)})));const c=[];for(const u of n.mutations){const e=qs(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return bs.waitFor(s).next((()=>c))}function Zu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mi();t=e.noDocument}return JSON.stringify(t).length}Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ju.DEFAULT=new Ju(41943040,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ju.DISABLED=new Ju(-1,0,0);class $u{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){Fi(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new $u(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return th(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=nh(e),s=th(e);return s.add({}).next((o=>{Fi("number"==typeof o);const a=new Xl(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>jc(e.ht,t))),i=n.mutations.map((t=>jc(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new _o(((e,t)=>Zi(e.canonicalString(),t.canonicalString())));for(const e of r){const t=qs(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Hs))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[o]=a.keys()})),bs.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return th(e).get(t).next((e=>e?(Fi(e.userId===this.userId),au(this.serializer,e)):null))}On(e,t){return this.xn[t]?bs.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return th(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Fi(t.batchId>=n),i=au(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return th(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return th(e).U("userMutationsIndex",t).next((e=>e.map((e=>au(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Bs(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return nh(e).J({range:r},((n,r,s)=>{const[o,a,l]=n,c=zs(a);if(o===this.userId&&t.path.isEqual(c))return th(e).get(l).next((e=>{if(!e)throw Mi();Fi(e.userId===this.userId),i.push(au(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _o(Zi);const r=[];return t.forEach((t=>{const i=Bs(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=nh(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,l=zs(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),bs.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Bs(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new _o(Zi);return nh(e).J({range:s},((e,t,i)=>{const[s,a,l]=e,c=zs(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Nn(e,o)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(th(e).get(t).next((e=>{if(null===e)throw Mi();Fi(e.userId===this.userId),n.push(au(this.serializer,e))})))})),bs.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Xu(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Bn(t.batchId)})),bs.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Bn(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return bs.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return nh(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=zs(e[1]);r.push(t)}else n.done()})).next((()=>{Fi(0===r.length)}))}))}containsKey(e,t){return eh(e,this.userId,t)}Ln(e){return rh(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function eh(e,t,n){const r=Bs(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return nh(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function th(e){return po(e,"mutations")}function nh(e){return po(e,"documentMutations")}function rh(e){return po(e,"mutationQueues")}class ih{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ih(0)}static Qn(){return new ih(-1)}}class sh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new ih(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>ns.fromTimestamp(new ts(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>oh(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(Fi(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return oh(e).J(((s,o)=>{const a=lu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>bs.waitFor(i))).next((()=>r))}forEachTarget(e,t){return oh(e).J(((e,n)=>{const r=lu(n);t(r)}))}Kn(e){return ah(e).get("targetGlobalKey").next((e=>(Fi(null!==e),e)))}$n(e,t){return ah(e).put("targetGlobalKey",t)}Un(e,t){return oh(e).put(cu(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ma(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return oh(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=lu(n);Fa(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=lh(e);return t.forEach((t=>{const s=Fs(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),bs.waitFor(r)}removeMatchingKeys(e,t,n){const r=lh(e);return bs.forEach(t,(t=>{const i=Fs(t.path);return bs.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=lh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lh(e);let i=gl();return r.J({range:n,H:!0},((e,t,n)=>{const r=zs(e[1]),s=new as(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Fs(t.path),r=IDBKeyRange.bound([n],[es(n)],!1,!0);let i=0;return lh(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ut(e,t){return oh(e).get(t).next((e=>e?lu(e):null))}}function oh(e){return po(e,"targets")}function ah(e){return po(e,"targetGlobal")}function lh(e){return po(e,"targetDocuments")}function ch(e,t){let[n,r]=e,[i,s]=t;const o=Zi(n,i);return 0===o?Zi(r,s):o}class uh{constructor(e){this.Gn=e,this.buffer=new _o(ch),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ch(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Pi("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ts(e)?Pi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ws(e)}await this.Yn(3e5)}))}}class dh{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return bs.resolve(Ds.oe);const n=new uh(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; disabled"),bs.resolve(Yu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Yu):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Pi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ri()<=xn.DEBUG&&Pi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),bs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function fh(e,t){return new dh(e,t)}class ph{constructor(e,t){this.db=e,this.garbageCollector=fh(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return mh(e,n)}removeReference(e,t,n){return mh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return mh(e,t)}ir(e,t){return function(e,t){let n=!1;return rh(e).Y((r=>eh(e,r,t).next((e=>(e&&(n=!0),bs.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.rr(e,((s,o)=>{if(o<=t){const t=this.ir(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,ns.min()),lh(e).delete(function(e){return[0,Fs(e.path)]}(s)))))}));r.push(t)}})).next((()=>bs.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return mh(e,t)}rr(e,t){const n=lh(e);let r,i=Ds.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Ds.oe&&t(new as(zs(r)),i),i=l,r=a):i=Ds.oe})).next((()=>{i!==Ds.oe&&t(new as(zs(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mh(e,t){return lh(e).put(function(e,t){return{targetId:0,path:Fs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class gh{constructor(){this.changes=new sl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ca.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?bs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _h(e).put(n)}removeEntry(e,t,n){return _h(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],iu(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=ca.newInvalidDocument(t);return _h(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:ca.newInvalidDocument(t)};return _h(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},((e,r)=>{n={document:this._r(t,r),size:Zu(r)}})).next((()=>n))}getEntries(e,t){let n=al();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=al(),r=new vo(as.comparator);return this.ur(e,t,((e,t)=>{const i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,Zu(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return bs.resolve();let r=new _o(Ih);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Eh(r.first()),Eh(r.last())),s=r.getIterator();let o=s.getNext();return _h(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=as.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ih(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(Eh(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),iu(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _h(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=al();for(const i of e){const e=this._r(as.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(tl(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=al();const s=Sh(t,n),o=Sh(t,ms.max());return _h(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this._r(as.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new wh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return bh(e).get("remoteDocumentGlobalKey").next((e=>(Fi(!!e),e)))}sr(e,t){return bh(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=zc(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=as.fromSegments(t.noDocument.path),r=ou(t.noDocument.readTime);n=ca.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mi();{const e=as.fromSegments(t.unknownDocument.path),r=ou(t.unknownDocument.version);n=ca.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ts(e[0],e[1]);return ns.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ns.min()))return e}return ca.newInvalidDocument(e)}}function vh(e){return new yh(e)}class wh extends gh{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new sl((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new _o(((e,t)=>Zi(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=ru(this.hr.serializer,s);r=r.add(i.path.popLast());const l=Zu(a);n+=l-o.size,t.push(this.hr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=ru(this.hr.serializer,s.convertToNoDocument(ns.min()));t.push(this.hr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),bs.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function bh(e){return po(e,"remoteDocumentGlobal")}function _h(e){return po(e,"remoteDocumentsV14")}function Eh(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Sh(e,t){const n=t.documentKey.path.toArray();return[e,iu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ih(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Zi(n[s],r[s]),i)return i;return i=Zi(n.length,r.length),i||(i=Zi(n[n.length-2],r[r.length-2]),i||Zi(n[n.length-1],r[r.length-1]))}class kh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Th{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jl(n.mutation,e,Io.empty(),ts.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,gl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gl();const r=hl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=cl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=al();const s=fl(),o=fl();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),jl(o.mutation,t,o.mutation.getFieldMask(),ts.now())):s.set(t.key,Io.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new kh(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=fl();let r=new vo(((e,t)=>e-t)),i=gl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Io.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||gl()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=dl();l.forEach((e=>{if(!i.has(e)){const r=Vl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return bs.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return as.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ka(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):bs.resolve(hl());let o=-1,a=i;return s.next((t=>bs.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?bs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,gl()))).next((e=>({batchId:o,changes:ul(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new as(t)).next((e=>{let t=cl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=cl();return this.indexManager.getCollectionParents(e,i).next((o=>bs.forEach(o,(o=>{const a=function(e,t){return new Ba(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ca.newInvalidDocument(r)))}));let n=cl();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&jl(s.mutation,r,Io.empty(),ts.now()),tl(t,r)&&(n=n.insert(e,r))})),n}))}}class Ch{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return bs.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xc(e.createTime)}}(t)),bs.resolve()}getNamedQuery(e,t){return bs.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:uu(e.bundledQuery),readTime:xc(e.readTime)}}(t)),bs.resolve()}}class Ah{constructor(){this.overlays=new vo(as.comparator),this.dr=new Map}getOverlay(e,t){return bs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hl();return bs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),bs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.dr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.dr.delete(n)),bs.resolve()}getOverlaysForCollection(e,t,n){const r=hl(),i=t.length+1,s=new as(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return bs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vo(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=hl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return bs.resolve(o)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.dr.get(r.largestBatchId).delete(n.key);this.dr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new $l(t,n));let i=this.dr.get(t);void 0===i&&(i=gl(),this.dr.set(t,i)),this.dr.set(t,i.add(n.key))}}class xh{constructor(){this.sessionToken=To.EMPTY_BYTE_STRING}getSessionToken(e){return bs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,bs.resolve()}}class Nh{constructor(){this.Er=new _o(Rh.Ar),this.Rr=new _o(Rh.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new Rh(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Rh(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new as(new is([])),n=new Rh(t,e),r=new Rh(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.Er.forEach((e=>this.gr(e)))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new as(new is([])),n=new Rh(t,e),r=new Rh(t,e+1);let i=gl();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rh(e,0),n=this.Er.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rh{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return as.comparator(e.key,t.key)||Zi(e.br,t.br)}static Vr(e,t){return Zi(e.br,t.br)||as.comparator(e.key,t.key)}}class Ph{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new _o(Rh.Ar)}checkEmpty(e){return bs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xl(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.vr=this.vr.add(new Rh(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return bs.resolve(s)}lookupMutationBatch(e,t){return bs.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return bs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bs.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return bs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rh(t,0),r=new Rh(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),bs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _o(Zi);return t.forEach((e=>{const t=new Rh(e,0),r=new Rh(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),bs.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;as.isDocumentKey(i)||(i=i.child(""));const s=new Rh(new as(i),0);let o=new _o(Zi);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.br)),!0)}),s),bs.resolve(this.Mr(o))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Fi(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return bs.forEach(t.mutations,(r=>{const i=new Rh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Bn(e){}containsKey(e,t){const n=new Rh(t,0),r=this.vr.firstAfterOrEqual(n);return bs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,bs.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dh{constructor(e){this.Nr=e,this.docs=new vo(as.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return bs.resolve(n?n.document.mutableCopy():ca.newInvalidDocument(t))}getEntries(e,t){let n=al();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ca.newInvalidDocument(e))})),bs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=al();const s=t.path,o=new as(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||gs(ps(o),n)<=0||(r.has(o.key)||tl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return bs.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mi()}Br(e,t){return bs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Oh(this)}getSize(e){return bs.resolve(this.size)}}class Oh extends gh{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),bs.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Lh{constructor(e){this.persistence=e,this.Lr=new sl((e=>Ma(e)),Fa),this.lastRemoteSnapshotVersion=ns.min(),this.highestTargetId=0,this.kr=0,this.qr=new Nh,this.targetCount=0,this.Qr=ih.qn()}forEachTarget(e,t){return this.Lr.forEach(((e,n)=>t(n))),bs.resolve()}getLastRemoteSnapshotVersion(e){return bs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bs.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),bs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),bs.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,bs.resolve()}updateTargetData(e,t){return this.Un(t),bs.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,bs.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Lr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Lr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),bs.waitFor(i).next((()=>r))}getTargetCount(e){return bs.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return bs.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),bs.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),bs.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),bs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return bs.resolve(n)}containsKey(e,t){return bs.resolve(this.qr.containsKey(t))}}class Mh{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ds(0),this.Ur=!1,this.Ur=!0,this.Wr=new xh,this.referenceDelegate=e(this),this.Gr=new Lh(this),this.indexManager=new zu,this.remoteDocumentCache=function(e){return new Dh(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new nu(t),this.jr=new Ch(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ah,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Ph(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Pi("MemoryPersistence","Starting transaction:",e);const r=new Fh(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return bs.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Fh extends vs{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Zr=new Nh,this.Xr=null}static ei(e){return new Uh(e)}get ti(){if(this.Xr)return this.Xr;throw Mi()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),bs.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),bs.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),bs.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bs.forEach(this.ti,(n=>{const r=as.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,ns.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return bs.or([()=>bs.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.ri=new sl((e=>Fs(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=fh(this,t)}static ei(e,t){return new Vh(e,t)}Hr(){}Jr(e){return bs.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return bs.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?bs.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Br(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ns.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),bs.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),bs.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),bs.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),bs.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ko(e.data.value)),t}ir(e,t,n){return bs.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return bs.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zh{constructor(e){this.serializer=e}O(e,t,n,r){const i=new _s("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",js,{unique:!0}),e.createObjectStore("documentMutations")}(e),jh(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=bs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),jh(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ns.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",js,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return bs.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.ii(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(i))))),n<7&&r>=7&&(s=s.next((()=>this.oi(i)))),n<8&&r>=8&&(s=s.next((()=>this._i(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ai(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:no});t.createIndex("collectionPathOverlayIndex",ro,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",io,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Gs});t.createIndex("documentKeyIndex",Ks),t.createIndex("collectionGroupIndex",Ws)}(e))).next((()=>this.ui(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ci(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Zs}).createIndex("sequenceNumberIndex",$s,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:eo}).createIndex("documentKeyIndex",to,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),s}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Zu(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>bs.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>bs.forEach(n,(n=>{Fi(n.userId===t.userId);const r=au(this.serializer,n);return Xu(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new is(n),o=function(e){return[0,Fs(e)]}(s);r.push(t.get(o).next((n=>n?bs.resolve():(n=>t.put({targetId:0,path:Fs(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>bs.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:Xs});const n=t.store("collectionParents"),r=new ju,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Fs(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new is(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=zs(r);return i(o.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=lu(n),i=cu(this.serializer,r);return t.put(i)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new as(is.fromString(e.document.name).popFirst(5)):e.noDocument?as.fromSegments(e.noDocument.path):e.unknownDocument?as.fromSegments(e.unknownDocument.path):Mi()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>bs.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=vh(this.serializer),i=new Mh(Uh.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:gl();au(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),bs.forEach(n,((e,n)=>{const s=new Ai(n),o=yu.Pt(this.serializer,s),a=i.getIndexManager(s),l=$u.Pt(s,this.serializer,a,i.referenceDelegate);return new Th(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new fo(t,Ds.oe),e).next()}))}))}}function jh(e){e.createObjectStore("targetDocuments",{keyPath:Ys}).createIndex("documentTargetsIndex",Js,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qs,{unique:!0}),e.createObjectStore("targetGlobal")}const Bh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qh{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=s,this.document=o,this.hi=l,this.Pi=c,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.di=null,this.Ei=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!qh.p())throw new zi(Vi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ph(this,r),this.Vi=t+"main",this.serializer=new nu(a),this.mi=new Es(this.Vi,this.Ti,new zh(this.serializer)),this.Wr=new wu,this.Gr=new sh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vh(this.serializer),this.jr=new pu,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===c&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zi(Vi.FAILED_PRECONDITION,Bh);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new Ds(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(Ts(e))return Pi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return Hh(e).get("owner").next((e=>bs.resolve(this.Fi(e))))}Mi(e){return Gh(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=po(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return bs.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Bi(t.clientId))}}wi(){this.Ei=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?bs.resolve(!0):Hh(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Li(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new zi(Vi.FAILED_PRECONDITION,Bh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gh(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Pi("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.Ei&&(this.Ei.cancel(),this.Ei=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new fo(e,Ds.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Li(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Gh(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return $u.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qu(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return yu.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){Pi("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?ho:16===e?uo:15===e?co:14===e?lo:13===e?ao:12===e?oo:11===e?so:void Mi()}(this.Ti);let s;return this.mi.runTransaction(e,r,i,(r=>(s=new fo(r,this.$r?this.$r.next():Ds.oe),"readwrite-primary"===t?this.bi(s).next((e=>!!e||this.Di(s))).next((t=>{if(!t)throw Di("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new zi(Vi.FAILED_PRECONDITION,ys);return n(s)})).next((e=>this.Ci(s).next((()=>e)))):this.Ui(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Ui(e){return Hh(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Li(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new zi(Vi.FAILED_PRECONDITION,Bh)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hh(e).put("owner",t)}static p(){return Es.p()}vi(e){const t=Hh(e);return t.get("owner").next((e=>this.Fi(e)?(Pi("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):bs.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Di("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.di=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.di),this.inForeground="visible"===this.document.visibilityState)}qi(){this.di&&(this.document.removeEventListener("visibilitychange",this.di),this.di=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;cn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Li(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Bi(e)));return Pi("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Di("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Bi(this.clientId),String(Date.now()))}catch(uI){Di("Failed to set zombie client id.",uI)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Bi(this.clientId))}catch(uI){}}Bi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Hh(e){return po(e,"owner")}function Gh(e){return po(e,"clientMetadata")}function Kh(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=gl(),r=gl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wh(e,t.fromCache,n,r)}}class Qh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Yh{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=cn()?8:Ss(nn())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Qh;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(Ri()<=xn.DEBUG&&Pi("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),bs.resolve()):(Ri()<=xn.DEBUG&&Pi("QueryEngine","Query:",el(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Ri()<=xn.DEBUG&&Pi("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qa(t))):bs.resolve())}Xi(e,t){if(Ga(t))return bs.resolve(null);let n=Qa(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Xa(t,null,"F"),n=Qa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=gl(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,Xa(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,r){return Ga(t)||r.isEqual(ns.min())?bs.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const s=this.rs(t,i);return this.ss(t,s,n,r)?bs.resolve(null):(Ri()<=xn.DEBUG&&Pi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(t)),this.os(e,s,t,fs(r,-1)).next((e=>e)))}))}rs(e,t){let n=new _o(rl(e));return t.forEach(((t,r)=>{tl(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return Ri()<=xn.DEBUG&&Pi("QueryEngine","Using full collection scan to execute query:",el(t)),this.Zi.getDocumentsMatchingQuery(e,t,ms.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Jh{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new vo(Zi),this.cs=new sl((e=>Ma(e)),Fa),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Th(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function Xh(e,t,n,r){return new Jh(e,t,n,r)}async function Zh(e,t){const n=Ui(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=gl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function $h(e){const t=Ui(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function ed(e,t,n){let r=gl(),i=gl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=al();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ns.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Pi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Is:r,ds:i}}))}function td(e,t){const n=Ui(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function nd(e,t){const n=Ui(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,bs.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new tu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function rd(e,t,n){const r=Ui(e),i=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ts(e))throw e;Pi("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function id(e,t,n){const r=Ui(e);let i=ns.min(),s=gl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ui(e),i=r.cs.get(n);return void 0!==i?bs.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,Qa(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:ns.min(),n?s:gl()))).next((e=>(ad(r,nl(t),e),{documents:e,Es:s})))))}function sd(e,t){const n=Ui(e),r=Ui(n.Gr),i=n.us.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function od(e,t){const n=Ui(e),r=n.ls.get(t)||ns.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,fs(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(ad(n,t,e),e)))}function ad(e,t,n){let r=e.ls.get(t)||ns.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function ld(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gl();const r=await nd(e,Qa(uu(t.bundledQuery))),i=Ui(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=xc(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.jr.saveNamedQuery(e,t);const o=r.withResumeToken(To.EMPTY_BYTE_STRING,s);return i.us=i.us.insert(o.targetId,o),i.Gr.updateTargetData(e,o).next((()=>i.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>i.jr.saveNamedQuery(e,t)))}))}function cd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ud(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hd(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class dd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new zi(r.error.code,r.error.message))),s?new dd(e,t,r.state,i):(Di("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new zi(n.error.code,n.error.message))),i?new fd(e,n.state,r):(Di("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=vl();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ms(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new pd(e,i):(Di("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class md{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new md(t.clientId,t.onlineState):(Di("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class gd{constructor(){this.activeTargetIds=vl()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yd{constructor(e,t,n,r,i){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new vo(Zi),this.started=!1,this.vs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=cd(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new gd),this.Ms=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Bs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(cd(this.persistenceKey,n));if(e){const t=pd.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Ls();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(hd(this.persistenceKey,e));if(t){const r=fd.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Ls(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Ls()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hd(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pi("SharedClientState","READ",e,t),t}setItem(e,t){Pi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(Pi("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=Ds.oe;if(null!=e)try{const n=JSON.parse(e);Fi("number"==typeof n),t=n}catch(e){Di("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ds.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Bs){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Ls(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new dd(this.currentUser,e,t,n),i=ud(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){const t=ud(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=hd(this.persistenceKey,e),i=new fd(e,t,n);this.setItem(r,i.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Bs,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return pd.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dd.fs(new Ai(i),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return fd.fs(r,t)}ks(e){return md.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);Pi("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.oo(s,o).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=vl();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class vd{constructor(){this._o=new gd,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wd{uo(e){}shutdown(){}}class bd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Pi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Pi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _d=null;function Ed(){return null===_d?_d=268435456+Math.round(2147483648*Math.random()):_d++,"0x"+_d.toString(16)}const Sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Id{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const kd="WebChannelConnection";class Td extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const s=Ed(),o=this.No(e,t.toUriEncodedString());Pi("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(a,r,i),this.Lo(e,o,a,n).then((t=>(Pi("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Oi("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=Sd[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,r){const i=Ed();return new Promise(((s,o)=>{const a=new yi;a.setWithCredentials(!0),a.listenOnce(wi.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case bi.NO_ERROR:const t=a.getResponseJson();Pi(kd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case bi.TIMEOUT:Pi(kd,"RPC '".concat(e,"' ").concat(i," timed out")),o(new zi(Vi.DEADLINE_EXCEEDED,"Request time out"));break;case bi.HTTP_ERROR:const n=a.getStatus();if(Pi(kd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vi).indexOf(t)>=0?t:Vi.UNKNOWN}(t.status);o(new zi(e,t.message))}else o(new zi(Vi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new zi(Vi.UNAVAILABLE,"Connection failed."));break;default:Mi()}}finally{Pi(kd,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Pi(kd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=Ed(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ii(),o=Si(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Pi(kd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Id({Eo:t=>{d?Pi(kd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Pi(kd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Pi(kd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,vi.EventType.OPEN,(()=>{d||(Pi(kd,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.So())})),p(u,vi.EventType.CLOSE,(()=>{d||(d=!0,Pi(kd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Do())})),p(u,vi.EventType.ERROR,(t=>{d||(d=!0,Oi(kd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Do(new zi(Vi.UNAVAILABLE,"The operation could not be completed")))})),p(u,vi.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Fi(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Pi(kd,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=tc[e];if(void 0!==t)return ic(t)}(t),i=o.message;void 0===n&&(n=Vi.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Do(new zi(n,i)),u.close()}else Pi(kd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.vo(i)}})),p(o,Ei.STAT_EVENT,(t=>{t.stat===_i.PROXY?Pi(kd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===_i.NOPROXY&&Pi(kd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function Cd(){return"undefined"!=typeof window?window:null}function Ad(){return"undefined"!=typeof document?document:null}function xd(e){return new Ic(e,!0)}class Nd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Pi("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Rd{constructor(e,t,n,r,i,s,o,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Nd(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Vi.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Vi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new zi(Vi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.d_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.d_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}d_(e){return Pi("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Pi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pd extends Rd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Fi(void 0===t||"string"==typeof t),To.fromBase64String(t||"")):(Fi(void 0===t||t instanceof Buffer||t instanceof Uint8Array),To.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Vi.UNKNOWN:ic(e.code);return new zi(t,e.message||"")}(o);n=new gc(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oc(e,r.document.name),s=xc(r.document.updateTime),o=r.document.createTime?xc(r.document.createTime):ns.min(),a=new aa({mapValue:{fields:r.document.fields}}),l=ca.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new pc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Oc(e,r.document),s=r.readTime?xc(r.readTime):ns.min(),o=ca.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Oc(e,r.document),s=r.removedTargetIds||[];n=new pc([],s,i,null)}else{if(!("filter"in t))return Mi();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ec(r,i),o=e.targetId;n=new mc(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ns.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ns.min():t.readTime?xc(t.readTime):ns.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Fc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ua(r)?{documents:qc(e,r)}:{query:Hc(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cc(e,t.resumeToken);const r=kc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ns.min())>0){n.readTime=Tc(e,t.snapshotVersion.toTimestamp());const r=kc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Fc(this.serializer),t.removeTarget=e,this.c_(t)}}class Dd extends Rd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Fi(!!e.streamToken),this.lastStreamToken=e.streamToken,Fi(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Fi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Fi(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?xc(e.updateTime):xc(t);return n.isEqual(ns.min())&&(n=xc(t)),new Ll(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=xc(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Fc(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jc(this.serializer,e)))};this.c_(t)}}class Od extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new zi(Vi.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Oo(e,Rc(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zi(Vi.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.ko(e,Rc(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zi(Vi.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Ld{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(Di(t),this.C_=!1):Pi("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Md{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Gd(this)&&(Pi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ui(e);t.k_.add(4),await Ud(t),t.K_.set("Unknown"),t.k_.delete(4),await Fd(t)}(this))}))})),this.K_=new Ld(n,r)}}async function Fd(e){if(Gd(e))for(const t of e.q_)await t(!0)}async function Ud(e){for(const t of e.q_)await t(!1)}function Vd(e,t){const n=Ui(e);n.L_.has(t.targetId)||(n.L_.set(t.targetId,t),Hd(n)?qd(n):hf(n).s_()&&jd(n,t))}function zd(e,t){const n=Ui(e),r=hf(n);n.L_.delete(t),r.s_()&&Bd(n,t),0===n.L_.size&&(r.s_()?r.a_():Gd(n)&&n.K_.set("Unknown"))}function jd(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ns.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hf(e).V_(t)}function Bd(e,t){e.U_.xe(t),hf(e).m_(t)}function qd(e){e.U_=new vc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.L_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),hf(e).start(),e.K_.F_()}function Hd(e){return Gd(e)&&!hf(e).i_()&&e.L_.size>0}function Gd(e){return 0===Ui(e).k_.size}function Kd(e){e.U_=void 0}async function Wd(e){e.K_.set("Online")}async function Qd(e){e.L_.forEach(((t,n)=>{jd(e,t)}))}async function Yd(e,t){Kd(e),Hd(e)?(e.K_.O_(t),qd(e)):e.K_.set("Unknown")}async function Jd(e,t,n){if(e.K_.set("Online"),t instanceof gc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.L_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.L_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Pi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xd(e,n)}else if(t instanceof pc?e.U_.$e(t):t instanceof mc?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(ns.min()))try{const t=await $h(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.L_.get(r);i&&e.L_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.L_.get(t);if(!r)return;e.L_.set(t,r.withResumeToken(To.EMPTY_BYTE_STRING,r.snapshotVersion)),Bd(e,t);const i=new tu(r.target,t,n,r.sequenceNumber);jd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pi("RemoteStore","Failed to raise snapshot:",t),await Xd(e,t)}}async function Xd(e,t,n){if(!Ts(t))throw t;e.k_.add(1),await Ud(e),e.K_.set("Offline"),n||(n=()=>$h(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pi("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await Fd(e)}))}function Zd(e,t){return t().catch((n=>Xd(e,n,t)))}async function $d(e){const t=Ui(e),n=df(t);let r=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;ef(t);)try{const e=await td(t.localStore,r);if(null===e){0===t.B_.length&&n.a_();break}r=e.batchId,tf(t,e)}catch(e){await Xd(t,e)}nf(t)&&rf(t)}function ef(e){return Gd(e)&&e.B_.length<10}function tf(e,t){e.B_.push(t);const n=df(e);n.s_()&&n.f_&&n.g_(t.mutations)}function nf(e){return Gd(e)&&!df(e).i_()&&e.B_.length>0}function rf(e){df(e).start()}async function sf(e){df(e).w_()}async function of(e){const t=df(e);for(const n of e.B_)t.g_(n.mutations)}async function af(e,t,n){const r=e.B_.shift(),i=Zl.from(r,t,n);await Zd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $d(e)}async function lf(e,t){t&&df(e).f_&&await async function(e,t){if(function(e){return rc(e)&&e!==Vi.ABORTED}(t.code)){const n=e.B_.shift();df(e).__(),await Zd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $d(e)}}(e,t),nf(e)&&rf(e)}async function cf(e,t){const n=Ui(e);n.asyncQueue.verifyOperationInProgress(),Pi("RemoteStore","RemoteStore received new credentials");const r=Gd(n);n.k_.add(3),await Ud(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await Fd(n)}async function uf(e,t){const n=Ui(e);t?(n.k_.delete(2),await Fd(n)):t||(n.k_.add(2),await Ud(n),n.K_.set("Unknown"))}function hf(e){return e.W_||(e.W_=function(e,t,n){const r=Ui(e);return r.b_(),new Pd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:Wd.bind(null,e),mo:Qd.bind(null,e),po:Yd.bind(null,e),R_:Jd.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),Hd(e)?qd(e):e.K_.set("Unknown")):(await e.W_.stop(),Kd(e))}))),e.W_}function df(e){return e.G_||(e.G_=function(e,t,n){const r=Ui(e);return r.b_(),new Dd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:sf.bind(null,e),po:lf.bind(null,e),p_:of.bind(null,e),y_:af.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await $d(e)):(await e.G_.stop(),e.B_.length>0&&(Pi("RemoteStore","Stopping write stream with ".concat(e.B_.length," pending writes")),e.B_=[]))}))),e.G_}class ff{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ff(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zi(Vi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pf(e,t){if(Di("AsyncQueue","".concat(t,": ").concat(e)),Ts(e))return new zi(Vi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class mf{static emptySet(e){return new mf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||as.comparator(t.key,n.key):(e,t)=>as.comparator(e.key,t.key),this.keyedMap=cl(),this.sortedSet=new vo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new mf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class gf{constructor(){this.z_=new vo(as.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Mi():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class yf{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new yf(e,t,mf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vf{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class wf{constructor(){this.queries=bf(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=Ui(e),r=n.queries;n.queries=bf(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new zi(Vi.ABORTED,"Firestore shutting down"))}}function bf(){return new sl((e=>$a(e)),Za)}async function _f(e,t){const n=Ui(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new vf,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=pf(e,"Initialization of query '".concat(el(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&kf(n)}async function Ef(e,t){const n=Ui(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sf(e,t){const n=Ui(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&kf(n)}function If(e,t,n){const r=Ui(e),i=r.queries.get(t);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(t)}function kf(e){e.X_.forEach((e=>{e.next()}))}var Tf,Cf;(Cf=Tf||(Tf={})).na="default",Cf.Cache="cache";class Af{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new yf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Tf.Cache}}class xf{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class Nf{constructor(e){this.serializer=e}As(e){return Oc(this.serializer,e)}Rs(e){return e.metadata.exists?zc(this.serializer,e.document,!1):ca.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return xc(e)}}class Rf{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pf(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=is.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new Nf(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||gl()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ui(e);let s=gl(),o=al();for(const c of n){const e=t.As(c.metadata.name);c.document&&(s=s.add(e));const n=t.Rs(c);n.setReadTime(t.Vs(c.metadata.readTime)),o=o.insert(e,n)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await nd(i,function(e){return Qa(Ha(is.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>ed(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Gr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Gr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Is,t.ds))).next((()=>t.Is))))))}(this.localStore,new Nf(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await ld(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,da:e}}}function Pf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Df{constructor(e){this.key=e}}class Of{constructor(e){this.key=e}}class Lf{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=gl(),this.mutatedKeys=gl(),this.Va=rl(e),this.ma=new mf(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new gf,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=tl(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:o,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mi()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const o=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==s.length||l?{snapshot:new yf(this.query,e.ma,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new gf,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.Ea=this.Ea.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ea=this.Ea.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=gl(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Of(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Df(n))})),t}va(e){this.Ea=e.Es,this.Ra=gl();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return yf.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Mf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ff{constructor(e){this.key=e,this.Fa=!1}}class Uf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new sl((e=>$a(e)),Za),this.Oa=new Map,this.Na=new Set,this.Ba=new vo(as.comparator),this.La=new Map,this.ka=new Nh,this.qa={},this.Qa=new Map,this.Ka=ih.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Vf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pp(e);let i;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await jf(r,t,n,!0),i}async function zf(e,t){const n=pp(e);await jf(n,t,!0,!1)}async function jf(e,t,n,r){const i=await nd(e.localStore,Qa(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Bf(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Vd(e.remoteStore,i),a}async function Bf(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await id(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return ep(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const s=await id(e.localStore,t,!0),o=new Lf(t,s.Es),a=o.ga(s.documents),l=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);ep(e,n,c.ba);const u=new Mf(t,n,o);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function qf(e,t,n){const r=Ui(e),i=r.xa.get(t),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((e=>!Za(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zd(r.remoteStore,i.targetId),Zf(r,i.targetId)})).catch(ws)):(Zf(r,i.targetId),await rd(r.localStore,i.targetId,!0))}async function Hf(e,t){const n=Ui(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zd(n.remoteStore,r.targetId))}async function Gf(e,t){const n=Ui(e);try{const e=await function(e,t){const n=Ui(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(To.EMPTY_BYTE_STRING,ns.min()).withLastLimboFreeSnapshotVersion(ns.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Gr.updateTargetData(e,c))}));let a=al(),l=gl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ed(e,s,t.documentUpdates).next((e=>{a=e.Is,l=e.ds}))),!r.isEqual(ns.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return bs.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.La.get(t);r&&(Fi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Fi(r.Fa):e.removedDocuments.size>0&&(Fi(r.Fa),r.Fa=!1))})),await rp(n,e,t)}catch(e){await ws(e)}}function Kf(e,t,n){const r=Ui(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ui(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&kf(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Wf(e,t,n){const r=Ui(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.La.get(t),s=i&&i.key;if(s){let e=new vo(as.comparator);e=e.insert(s,ca.newNoDocument(s,ns.min()));const n=gl().add(s),i=new dc(ns.min(),new Map,new vo(Zi),e,n);await Gf(r,i),r.Ba=r.Ba.remove(s),r.La.delete(t),np(r)}else await rd(r.localStore,t,!1).then((()=>Zf(r,t,n))).catch(ws)}async function Qf(e,t){const n=Ui(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=bs.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Fi(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Xf(n,r,null),Jf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rp(n,e)}catch(e){await ws(e)}}async function Yf(e,t,n){const r=Ui(e);try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Fi(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Xf(r,t,n),Jf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rp(r,e)}catch(n){await ws(n)}}function Jf(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function Xf(e,t,n){const r=Ui(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function Zf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||$f(e,t)}))}function $f(e,t){e.Na.delete(t.path.canonicalString());const n=e.Ba.get(t);null!==n&&(zd(e.remoteStore,n),e.Ba=e.Ba.remove(t),e.La.delete(n),np(e))}function ep(e,t,n){for(const r of n)r instanceof Df?(e.ka.addReference(r.key,t),tp(e,r)):r instanceof Of?(Pi("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||$f(e,r.key)):Mi()}function tp(e,t){const n=t.key,r=n.path.canonicalString();e.Ba.get(n)||e.Na.has(r)||(Pi("SyncEngine","New document in limbo: "+n),e.Na.add(r),np(e))}function np(e){for(;e.Na.size>0&&e.Ba.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new as(is.fromString(t)),r=e.Ka.next();e.La.set(r,new Ff(n)),e.Ba=e.Ba.insert(n,r),Vd(e.remoteStore,new tu(Qa(Ha(n.path)),r,"TargetPurposeLimboResolution",Ds.oe))}}async function rp(e,t,n){const r=Ui(e),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{o.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Wh.zi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ma.R_(i),await async function(e,t){const n=Ui(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>bs.forEach(t,(t=>bs.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>bs.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ts(e))throw e;Pi("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,s))}async function ip(e,t){const n=Ui(e);if(!n.currentUser.isEqual(t)){Pi("SyncEngine","User change. New user:",t.toKey());const e=await Zh(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new zi(Vi.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rp(n,e.Ts)}}function sp(e,t){const n=Ui(e),r=n.La.get(t);if(r&&r.Fa)return gl().add(r.key);{let e=gl();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function op(e,t){const n=Ui(e),r=await id(n.localStore,t.query,!0),i=t.view.va(r);return n.isPrimaryClient&&ep(n,t.targetId,i.ba),i}async function ap(e,t){const n=Ui(e);return od(n.localStore,t).then((e=>rp(n,e)))}async function lp(e,t,n,r){const i=Ui(e),s=await function(e,t){const n=Ui(e),r=Ui(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):bs.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await $d(i.remoteStore):"acknowledged"===n||"rejected"===n?(Xf(i,t,r||null),Jf(i,t),function(e,t){Ui(Ui(e).mutationQueue).Bn(t)}(i.localStore,t)):Mi(),await rp(i,s)):Pi("SyncEngine","Cannot apply mutation batch with id: "+t)}async function cp(e,t,n){const r=Ui(e),i=[],s=[];for(const o of t){let e;const t=r.Oa.get(o);if(t&&0!==t.length){e=await nd(r.localStore,Qa(t[0]));for(const e of t){const t=r.xa.get(e),n=await op(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await sd(r.localStore,o);e=await nd(r.localStore,t),await Bf(r,up(t),o,!1,e.resumeToken)}i.push(e)}return r.Ma.R_(s),i}function up(e){return qa(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hp(e){return function(e){return Ui(Ui(e).persistence).$i()}(Ui(e).localStore)}async function dp(e,t,n,r){const i=Ui(e);if(i.$a)return void Pi("SyncEngine","Ignoring unexpected query state notification.");const s=i.Oa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await od(i.localStore,nl(s[0])),r=dc.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,To.EMPTY_BYTE_STRING);await rp(i,e,r);break}case"rejected":await rd(i.localStore,t,!0),Zf(i,t,r);break;default:Mi()}}async function fp(e,t,n){const r=pp(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Pi("SyncEngine","Adding an already active target "+e);continue}const t=await sd(r.localStore,e),n=await nd(r.localStore,t);await Bf(r,up(t),n.targetId,!1,n.resumeToken),Vd(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await rd(r.localStore,e,!1).then((()=>{zd(r.remoteStore,e),Zf(r,e)})).catch(ws)}}function pp(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wf.bind(null,t),t.Ma.R_=Sf.bind(null,t.eventManager),t.Ma.Wa=If.bind(null,t.eventManager),t}function mp(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yf.bind(null,t),t}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Xh(this.persistence,new Yh,e.initialUser,this.serializer)}ja(e){return new Mh(Uh.ei,this.serializer)}za(e){return new vd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class yp extends gp{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Fi(this.persistence.referenceDelegate instanceof Vh);const n=this.persistence.referenceDelegate.garbageCollector;return new hh(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new Mh((e=>Vh.ei(e,t)),this.serializer)}}class vp extends gp{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await mp(this.Za.syncEngine),await $d(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return Xh(this.persistence,new Yh,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new hh(n,e.asyncQueue,t)}Ya(e,t){const n=new Ps(t,this.persistence);return new Rs(e.asyncQueue,n)}ja(e){const t=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new qh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cd(),Ad(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new vd}}class wp extends vp{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof yd&&(this.sharedClientState.syncEngine={io:lp.bind(null,t),so:dp.bind(null,t),oo:fp.bind(null,t),$i:hp.bind(null,t),ro:ap.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=Ui(e);if(pp(n),mp(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await cp(n,e.toArray());n.$a=!0,await uf(n.remoteStore,!0);for(const r of t)Vd(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Zf(n,i),rd(n.localStore,i,!0)))),zd(n.remoteStore,i)})),await t,await cp(n,e),function(e){const t=Ui(e);t.La.forEach(((e,n)=>{zd(t.remoteStore,n)})),t.ka.wr(),t.La=new Map,t.Ba=new vo(as.comparator)}(n),n.$a=!1,await uf(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=Cd();if(!yd.p(t))throw new zi(Vi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Kf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ip.bind(null,this.syncEngine),await uf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wf}createDatastore(e){const t=xd(e.databaseInfo.databaseId),n=function(e){return new Td(e)}(e.databaseInfo);return function(e,t,n,r){return new Od(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Md(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Kf(this.syncEngine,e,0)),bd.p()?new bd:new wd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Uf(e,t,n,r,i,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ui(e);Pi("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await Ud(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function _p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}bp.provider={build:()=>new bp};class Ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Sp{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new ji,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new xf(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ip{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new zi(Vi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Ui(e),r={documents:t.map((e=>Dc(n.serializer,e)))},i=await n.ko("BatchGetDocuments",n.serializer.databaseId,is.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Fi(!!t.found),t.found.name,t.found.updateTime;const n=Oc(e,t.found.name),r=xc(t.found.updateTime),i=t.found.createTime?xc(t.found.createTime):ns.min(),s=new aa({mapValue:{fields:t.found.fields}});return ca.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Fi(!!t.missing),Fi(!!t.readTime);const n=Oc(e,t.missing),r=xc(t.readTime);return ca.newNoDocument(n,r)}(e,t):Mi()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Fi(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=as.fromPath(t);this.mutations.push(new Jl(n,this.precondition(n)))})),await async function(e,t){const n=Ui(e),r={writes:t.map((e=>jc(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,is.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mi();t=ns.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new zi(Vi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ns.min())?Ml.exists(!1):Ml.updateTime(t):Ml.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ns.min()))throw new zi(Vi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ml.updateTime(t)}return Ml.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kp{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new Nd(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new Ip(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!Os(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rc(t)}return!1}}class Tp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ai.UNAUTHENTICATED,this.clientId=Xi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Pi("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Pi("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=pf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cp(e,t){e.asyncQueue.verifyOperationInProgress(),Pi("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Zh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ap(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xp(e);Pi("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>cf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>cf(t.remoteStore,n))),e._onlineComponents=t}async function xp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pi("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Vi.FAILED_PRECONDITION||e.code===Vi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),await Cp(e,new gp)}}else Pi("FirestoreClient","Using default OfflineComponentProvider"),await Cp(e,new yp(void 0));return e._offlineComponents}async function Np(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pi("FirestoreClient","Using user provided OnlineComponentProvider"),await Ap(e,e._uninitializedComponentsProvider._online)):(Pi("FirestoreClient","Using default OnlineComponentProvider"),await Ap(e,new bp))),e._onlineComponents}function Rp(e){return xp(e).then((e=>e.persistence))}function Pp(e){return xp(e).then((e=>e.localStore))}function Dp(e){return Np(e).then((e=>e.remoteStore))}function Op(e){return Np(e).then((e=>e.syncEngine))}function Lp(e){return Np(e).then((e=>e.datastore))}async function Mp(e){const t=await Np(e),n=t.eventManager;return n.onListen=Vf.bind(null,t.syncEngine),n.onUnlisten=qf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Hf.bind(null,t.syncEngine),n}function Fp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ji;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ep({next:a=>{s.eu(),t.enqueueAndForget((()=>Ef(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new zi(Vi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new zi(Vi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Af(Ha(n.path),s,{includeMetadataChanges:!0,ua:!0});return _f(e,o)}(await Mp(e),e.asyncQueue,t,n,r))),r.promise}function Up(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ji;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ep({next:n=>{s.eu(),t.enqueueAndForget((()=>Ef(e,o))),n.fromCache&&"server"===r.source?i.reject(new zi(Vi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Af(n,s,{includeMetadataChanges:!0,ua:!0});return _f(e,o)}(await Mp(e),e.asyncQueue,t,n,r))),r.promise}function Vp(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?oc().encode(e):e,function(e,t){return new Sp(e,t)}(function(e,t){if(e instanceof Uint8Array)return _p(e,t);if(e instanceof ArrayBuffer)return _p(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ui(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ui(e),r=xc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Pf(r));const i=new Rf(r,e.localStore,t.serializer);let s=await t.Ga();for(;s;){const e=await i.Pa(s);e&&n._updateProgress(e),s=await t.Ga()}const o=await i.complete();return await rp(e,o.da,void 0),await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Ia)}catch(e){return Oi("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Op(e),i,r)}))}function zp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jp=new Map;function Bp(e,t,n){if(!n)throw new zi(Vi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qp(e,t,n,r){if(!0===t&&!0===r)throw new zi(Vi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Hp(e){if(!as.isDocumentKey(e))throw new zi(Vi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Gp(e){if(as.isDocumentKey(e))throw new zi(Vi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Mi()}function Wp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zi(Vi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kp(e);throw new zi(Vi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Qp(e,t){if(t<=0)throw new zi(Vi.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Yp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new zi(Vi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zi(Vi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new zi(Vi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new zi(Vi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new zi(Vi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zi(Vi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zi(Vi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qi;switch(e.type){case"firstParty":return new Wi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zi(Vi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jp.get(e);t&&(Pi("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}function Xp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Wp(e,Jp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ai.MOCK_USER;else{t=tn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zi(Vi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ai(s)}e._authCredentials=new Hi(new Bi(t,n))}}class Zp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zp(this.firestore,e,this._query)}}class $p{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new em(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $p(this.firestore,e,this._key)}}class em extends Zp{constructor(e,t,n){super(e,t,Ha(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $p(this.firestore,null,new as(e))}withConverter(e){return new em(this.firestore,e,this._path)}}function tm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sn(e),Bp("collection","path",t),e instanceof Jp){const n=is.fromString(t,...r);return Gp(n),new em(e,null,n)}{if(!(e instanceof $p||e instanceof em))throw new zi(Vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(is.fromString(t,...r));return Gp(n),new em(e.firestore,null,n)}}function nm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sn(e),1===arguments.length&&(t=Xi.newId()),Bp("doc","path",t),e instanceof Jp){const n=is.fromString(t,...r);return Hp(n),new $p(e,null,new as(n))}{if(!(e instanceof $p||e instanceof em))throw new zi(Vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(is.fromString(t,...r));return Hp(n),new $p(e.firestore,e instanceof em?e.converter:null,new as(n))}}function rm(e,t){return e=Sn(e),t=Sn(t),(e instanceof $p||e instanceof em)&&(t instanceof $p||t instanceof em)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function im(e,t){return e=Sn(e),t=Sn(t),e instanceof Zp&&t instanceof Zp&&e.firestore===t.firestore&&Za(e._query,t._query)&&e.converter===t.converter}class sm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Nd(this,"async_queue_retry"),this.fu=()=>{const e=Ad();e&&Pi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=Ad();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Ad();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise((()=>{}));const t=new ji;return this.yu((()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(uI){if(!Ts(uI))throw uI;Pi("AsyncQueue","Operation failed with retryable error: "+uI)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Di("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=ff.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.Eu.push(r),r}pu(){this.Au&&Mi()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.Eu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Eu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function om(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class am{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lm extends Jp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sm(e),this._firestoreClient=void 0,await e}}}function cm(e){if(e._terminated)throw new zi(Vi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||um(e),e._firestoreClient}function um(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Oo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Tp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function hm(e,t,n){if((e=Wp(e,lm))._firestoreClient||e._terminated)throw new zi(Vi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new zi(Vi.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},um(e)}function dm(e){return function(e){const t=new ji;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ui(e);Gd(n.remoteStore)||Pi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ui(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=pf(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Op(e),t))),t.promise}(cm(e=Wp(e,lm)))}function fm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Rp(e),n=await Dp(e);return t.setNetworkEnabled(!0),function(e){const t=Ui(e);return t.k_.delete(0),Fd(t)}(n)}))}(cm(e=Wp(e,lm)))}function pm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Rp(e),n=await Dp(e);return t.setNetworkEnabled(!1),async function(e){const t=Ui(e);t.k_.add(0),await Ud(t),t.K_.set("Offline")}(n)}))}(cm(e=Wp(e,lm)))}function mm(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ui(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await Pp(e),t)))}(cm(e=Wp(e,lm)),t).then((t=>t?new Zp(e,null,t.query):null))}class gm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gm(To.fromBase64String(e))}catch(e){throw new zi(Vi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gm(To.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ym{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new zi(Vi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vm{constructor(e){this._methodName=e}}class wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zi(Vi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zi(Vi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zi(this._lat,e._lat)||Zi(this._long,e._long)}}class bm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const _m=/^__.*__$/;class Em{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hl(e,this.data,t,this.fieldTransforms)}}class Sm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Im(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mi()}}class km{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Bu(e),r}Lu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(Im(this.Mu)&&_m.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Tm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xd(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new km({Mu:e,methodName:t,Ku:n,path:os.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cm(e){const t=e._freezeSettings(),n=xd(e._databaseId);return new Tm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Am(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.$u(s.merge||s.mergeFields?2:0,t,n,i);jm("Data must be an object, but it was:",o,r);const a=Vm(r,o);let l,c;if(s.merge)l=new Io(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Bm(t,r,n);if(!o.contains(i))throw new zi(Vi.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Km(e,i)||e.push(i)}l=new Io(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Em(new aa(a),l,c)}class xm extends vm{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function Nm(e,t,n){return new km({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Rm extends vm{_toFieldTransform(e){return new Ol(e.path,new Tl)}isEqual(e){return e instanceof Rm}}class Pm extends vm{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Nm(this,e,!0),n=this.Uu.map((e=>Um(e,t))),r=new Cl(n);return new Ol(e.path,r)}isEqual(e){return e instanceof Pm&&mn(this.Uu,e.Uu)}}class Dm extends vm{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Nm(this,e,!0),n=this.Uu.map((e=>Um(e,t))),r=new xl(n);return new Ol(e.path,r)}isEqual(e){return e instanceof Dm&&mn(this.Uu,e.Uu)}}class Om extends vm{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Rl(e.serializer,_l(e.serializer,this.Wu));return new Ol(e.path,t)}isEqual(e){return e instanceof Om&&this.Wu===e.Wu}}function Lm(e,t,n,r){const i=e.$u(1,t,n);jm("Data must be an object, but it was:",i,r);const s=[],o=aa.empty();go(r,((e,r)=>{const a=Hm(t,e,n);r=Sn(r);const l=i.Lu(a);if(r instanceof xm)s.push(a);else{const e=Um(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Io(s);return new Sm(o,a,i.fieldTransforms)}function Mm(e,t,n,r,i,s){const o=e.$u(1,t,n),a=[Bm(t,r,n)],l=[i];if(s.length%2!=0)throw new zi(Vi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Bm(t,s[d])),l.push(s[d+1]);const c=[],u=aa.empty();for(let d=a.length-1;d>=0;--d)if(!Km(c,a[d])){const e=a[d];let t=l[d];t=Sn(t);const n=o.Lu(e);if(t instanceof xm)c.push(e);else{const r=Um(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Io(c);return new Sm(u,h,o.fieldTransforms)}function Fm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Um(n,e.$u(r?4:3,t))}function Um(e,t){if(zm(e=Sn(e)))return jm("Unsupported field value:",t,e),Vm(e,t);if(e instanceof vm)return function(e,t){if(!Im(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Um(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Sn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _l(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ts.fromDate(e);return{timestampValue:Tc(t.serializer,n)}}if(e instanceof ts){const n=new ts(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tc(t.serializer,n)}}if(e instanceof wm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gm)return{bytesValue:Cc(t.serializer,e._byteString)};if(e instanceof $p){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Nc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof bm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return wl(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(Kp(e)))}(e,t)}function Vm(e,t){const n={};return yo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):go(e,((e,r)=>{const i=Um(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ts||e instanceof wm||e instanceof gm||e instanceof $p||e instanceof vm||e instanceof bm)}function jm(e,t,n){if(!zm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Kp(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function Bm(e,t,n){if((t=Sn(t))instanceof ym)return t._internalPath;if("string"==typeof t)return Hm(e,t);throw Gm("Field path arguments must be of type string or ",e,!1,void 0,n)}const qm=new RegExp("[~\\*/\\[\\]]");function Hm(e,t,n){if(t.search(qm)>=0)throw Gm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ym(...t.split("."))._internalPath}catch(r){throw Gm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Gm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new zi(Vi.INVALID_ARGUMENT,a+e+l)}function Km(e,t){return e.some((e=>e.isEqual(t)))}class Wm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $p(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qm extends Wm{data(){return super.data()}}function Ym(e,t){return"string"==typeof t?Hm(e,t):t instanceof ym?t._internalPath:t._delegate._internalPath}function Jm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zi(Vi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class Zm extends Xm{}function $m(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Xm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof tg)).length,n=e.filter((e=>e instanceof eg)).length;if(t>1||t>0&&n>0)throw new zi(Vi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class eg extends Zm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new eg(e,t,n)}_apply(e){const t=this._parse(e);return cg(e._query,t),new Zp(e.firestore,e.converter,Ja(e._query,t))}_parse(e){const t=Cm(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new zi(Vi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){lg(o,s);const t=[];for(const n of o)t.push(ag(r,e,n));a={arrayValue:{values:t}}}else a=ag(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lg(o,s),a=Fm(n,t,o,"in"===s||"not-in"===s);return ga.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class tg extends Xm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ya.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)cg(n,i),n=Ja(n,i)}(e._query,t),new Zp(e.firestore,e.converter,Ja(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ng extends Zm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ng(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fa(t,n)}(e._query,this._field,this._direction);return new Zp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ba(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class rg extends Zm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new rg(e,t,n)}_apply(e){return new Zp(e.firestore,e.converter,Xa(e._query,this._limit,this._limitType))}}class ig extends Zm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ig(e,t,n)}_apply(e){const t=og(e,this.type,this._docOrFields,this._inclusive);return new Zp(e.firestore,e.converter,function(e,t){return new Ba(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sg extends Zm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sg(e,t,n)}_apply(e){const t=og(e,this.type,this._docOrFields,this._inclusive);return new Zp(e.firestore,e.converter,function(e,t){return new Ba(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function og(e,t,n,r){if(n[0]=Sn(n[0]),n[0]instanceof Wm)return function(e,t,n,r,i){if(!r)throw new zi(Vi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Wa(e))if(o.field.isKeyField())s.push(Wo(t,r.key));else{const e=r.data.field(o.field);if(Ro(e))throw new zi(Vi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new ua(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Cm(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new zi(Vi.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Ka(e)&&-1!==s.indexOf("/"))throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(is.fromString(s));if(!as.isDocumentKey(n))throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new as(n);a.push(Wo(t,i))}else{const e=Fm(n,r,s);a.push(e)}}return new ua(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ag(e,t,n){if("string"==typeof(n=Sn(n))){if(""===n)throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ka(t)&&-1!==n.indexOf("/"))throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(is.fromString(n));if(!as.isDocumentKey(r))throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wo(e,new as(r))}if(n instanceof $p)return Wo(e,n._key);throw new zi(Vi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kp(n),"."))}function lg(e,t){if(!Array.isArray(e)||0===e.length)throw new zi(Vi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function cg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new zi(Vi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zi(Vi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ug{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return go(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>xo(e.doubleValue)));return new bm(i)}convertGeoPoint(e){return new wm(xo(e.latitude),xo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Po(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const t=Ao(e);return new ts(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=is.fromString(e);Fi(eu(n));const r=new Lo(n.get(1),n.get(3)),i=new as(n.popFirst(5));return r.isEqual(t)||Di("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dg extends ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new gm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $p(this.firestore,null,t)}}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pg extends Wm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mg extends pg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mg(this._firestore,this._userDataWriter,n.key,n,new fg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zi(Vi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new mg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new mg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:yg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mi()}}function vg(e,t){return e instanceof pg&&t instanceof pg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof gg&&t instanceof gg&&e._firestore===t._firestore&&im(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class wg extends ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new gm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $p(this.firestore,null,t)}}function bg(e){e=Wp(e,$p);const t=Wp(e.firestore,lm),n=cm(t),r=new wg(t);return function(e,t){const n=new ji;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new zi(Vi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=pf(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Pp(e),t,n))),n.promise}(n,e._key).then((n=>new pg(t,r,e._key,n,new fg(null!==n&&n.hasLocalMutations,!0),e.converter)))}function _g(e){e=Wp(e,Zp);const t=Wp(e.firestore,lm),n=cm(t),r=new wg(t);return function(e,t){const n=new ji;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await id(e,t,!0),i=new Lf(t,r.Es),s=i.ga(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=pf(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Pp(e),t,n))),n.promise}(n,e._query).then((n=>new gg(t,r,e,n)))}function Eg(e,t,n){e=Wp(e,$p);const r=Wp(e.firestore,lm),i=hg(e.converter,t,n);return Tg(r,[Am(Cm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ml.none())])}function Sg(e,t,n){e=Wp(e,$p);const r=Wp(e.firestore,lm),i=Cm(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Sn(t))||t instanceof ym?Mm(i,"updateDoc",e._key,t,n,a):Lm(i,"updateDoc",e._key,t),Tg(r,[s.toMutation(e._key,Ml.exists(!0))])}function Ig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Sn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||om(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(om(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof $p)h=Wp(e.firestore,lm),d=Ha(e._key.path),u={next:t=>{n[l]&&n[l](Cg(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Wp(e,Zp);h=Wp(t.firestore,lm),d=t._query;const r=new wg(h);u={next:e=>{n[l]&&n[l](new gg(h,r,t,e))},error:n[l+1],complete:n[l+2]},Jm(e._query)}return function(e,t,n,r){const i=new Ep(r),s=new Af(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>_f(await Mp(e),s))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>Ef(await Mp(e),s)))}}(cm(h),d,c,u)}function kg(e,t){return function(e,t){const n=new Ep(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ui(e).X_.add(t),t.next()}(await Mp(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ui(e).X_.delete(t)}(await Mp(e),n)))}}(cm(e=Wp(e,lm)),om(t)?t:{next:t})}function Tg(e,t){return function(e,t){const n=new ji;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=mp(e);try{const e=await function(e,t){const n=Ui(e),r=ts.now(),i=t.reduce(((e,t)=>e.add(t.key)),gl());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=al(),l=gl();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Bl(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Gl(e.key,t,la(t.value.mapValue),Ml.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:ul(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new vo(Zi)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await rp(r,e.changes),await $d(r.remoteStore)}catch(e){const t=pf(e,"Failed to persist write");n.reject(t)}}(await Op(e),t,n))),n.promise}(cm(e),t)}function Cg(e,t,n){const r=n.docs.get(t._key),i=new wg(e);return new pg(e,i,t._key,r,new fg(n.hasPendingWrites,n.fromCache),t.converter)}const Ag={maxAttempts:5};class xg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cm(e)}set(e,t,n){this._verifyNotCommitted();const r=Ng(e,this._firestore),i=hg(r.converter,t,n),s=Am(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ml.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Ng(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Sn(t))||t instanceof ym?Mm(this._dataReader,"WriteBatch.update",r._key,t,n,o):Lm(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ml.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ng(e,this._firestore);return this._mutations=this._mutations.concat(new Yl(t._key,Ml.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zi(Vi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ng(e,t){if((e=Sn(e)).firestore!==t)throw new zi(Vi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Rg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cm(e)}get(e){const t=Ng(e,this._firestore),n=new dg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Mi();const r=e[0];if(r.isFoundDocument())return new Wm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Wm(this._firestore,n,t._key,null,t.converter);throw Mi()}))}set(e,t,n){const r=Ng(e,this._firestore),i=hg(r.converter,t,n),s=Am(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Ng(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Sn(t))||t instanceof ym?Mm(this._dataReader,"Transaction.update",r._key,t,n,o):Lm(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Ng(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ng(e,this._firestore),n=new wg(this._firestore);return super.get(e).then((e=>new pg(this._firestore,n,t._key,e._document,new fg(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xi=e}(qr),Or(new In("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new lm(new Gi(e.getProvider("auth-internal")),new Yi(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zi(Vi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Yr(Ci,"4.7.6",e),Yr(Ci,"4.7.6","esm2017")}();function Pg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zi("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Dg(){if("undefined"===typeof Uint8Array)throw new zi("unimplemented","Uint8Arrays are not available in this environment.")}function Og(){if("undefined"==typeof atob)throw new zi("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lg{constructor(e){this._delegate=e}static fromBase64String(e){return Og(),new Lg(gm.fromBase64String(e))}static fromUint8Array(e){return Dg(),new Lg(gm.fromUint8Array(e))}toBase64(){return Og(),this._delegate.toBase64()}toUint8Array(){return Dg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mg(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Fg{enableIndexedDbPersistence(e,t){return function(e,t){Oi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return hm(e,bp.provider,{build:e=>new vp(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){Oi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();hm(e,bp.provider,{build:e=>new wp(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new zi(Vi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ji;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Es.p())return Promise.resolve();const t=e+"main";await Es.delete(t)}(Kh(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Ug{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Lo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xp(this._delegate,e,t,n)}enableNetwork(){return fm(this._delegate)}disableNetwork(){return pm(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return dm(this._delegate)}onSnapshotsInSync(e){return kg(this._delegate,e)}get app(){if(!this._appCompat)throw new zi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zg(this,tm(this._delegate,e))}catch(uI){throw Hg(uI,"collection()","Firestore.collection()")}}doc(e){try{return new qg(this,nm(this._delegate,e))}catch(uI){throw Hg(uI,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yg(this,function(e,t){if(e=Wp(e,Jp),Bp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zi(Vi.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Zp(e,null,function(e){return new Ba(is.emptyPath(),e)}(t))}(this._delegate,e))}catch(uI){throw Hg(uI,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Wp(e,lm);const r=Object.assign(Object.assign({},Ag),n);return function(e){if(e.maxAttempts<1)throw new zi(Vi.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ji;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Lp(e);new kp(e.asyncQueue,i,n,t,r).cu()})),r.promise}(cm(e),(n=>t(new Rg(e,n))),r)}(this._delegate,(t=>e(new zg(this,t))))}batch(){return cm(this._delegate),new jg(new xg(this._delegate,(e=>Tg(this._delegate,e))))}loadBundle(e){return function(e,t){const n=cm(e=Wp(e,lm)),r=new am;return Vp(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return mm(this._delegate,e).then((e=>e?new Yg(this,e):null))}}class Vg extends ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lg(new gm(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qg.forKey(t,this.firestore,null)}}class zg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vg(e)}get(e){const t=$g(e);return this._delegate.get(t).then((e=>new Wg(this._firestore,new pg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=$g(e);return n?(Pg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=$g(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}}class jg{constructor(e){this._delegate=e}set(e,t,n){const r=$g(e);return n?(Pg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=$g(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new mg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qg(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Bg.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Bg(e,new Vg(e),t),r.set(t,i)),i}}Bg.INSTANCES=new WeakMap;class qg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vg(e)}static forPath(e,t,n){if(e.length%2!==0)throw new zi("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new qg(t,new $p(t._delegate,n,new as(e)))}static forKey(e,t,n){return new qg(t,new $p(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Zg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zg(this.firestore,tm(this._delegate,e))}catch(uI){throw Hg(uI,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Sn(e))instanceof $p&&rm(this._delegate,e)}set(e,t){t=Pg("DocumentReference.set",t);try{return t?Eg(this._delegate,e,t):Eg(this._delegate,e)}catch(uI){throw Hg(uI,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Sg(this._delegate,e):Sg(this._delegate,e,t,...r)}catch(uI){throw Hg(uI,"updateDoc()","DocumentReference.update()")}}delete(){return Tg(Wp((e=this._delegate).firestore,lm),[new Yl(e._key,Ml.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Gg(t),i=Kg(t,(e=>new Wg(this.firestore,new pg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ig(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?bg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Wp(e,$p);const t=Wp(e.firestore,lm);return Fp(cm(t),e._key,{source:"server"}).then((n=>Cg(t,e,n)))}(this._delegate):function(e){e=Wp(e,$p);const t=Wp(e.firestore,lm);return Fp(cm(t),e._key).then((n=>Cg(t,e,n)))}(this._delegate),t.then((e=>new Wg(this.firestore,new pg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new qg(this.firestore,e?this._delegate.withConverter(Bg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Hg(e,t,n){return e.message=e.message.replace(t,n),e}function Gg(e){for(const t of e)if("object"===typeof t&&!Mg(t))return t;return{}}function Kg(e,t){var n,r;let i;return i=Mg(e[0])?e[0]:Mg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Wg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Qg extends Wg{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Mi(),t}}class Yg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vg(e)}where(e,t,n){try{return new Yg(this.firestore,$m(this._delegate,function(e,t,n){const r=t,i=Ym("where",e);return eg._create(i,r,n)}(e,t,n)))}catch(uI){throw Hg(uI,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yg(this.firestore,$m(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ym("orderBy",e);return ng._create(n,t)}(e,t)))}catch(uI){throw Hg(uI,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yg(this.firestore,$m(this._delegate,(Qp("limit",t=e),rg._create("limit",t,"F"))))}catch(t){throw Hg(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Yg(this.firestore,$m(this._delegate,(Qp("limitToLast",t=e),rg._create("limitToLast",t,"L"))))}catch(t){throw Hg(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Yg(this.firestore,$m(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ig._create("startAt",t,!0)}(...arguments)))}catch(uI){throw Hg(uI,"startAt()","Query.startAt()")}}startAfter(){try{return new Yg(this.firestore,$m(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ig._create("startAfter",t,!1)}(...arguments)))}catch(uI){throw Hg(uI,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Yg(this.firestore,$m(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sg._create("endBefore",t,!1)}(...arguments)))}catch(uI){throw Hg(uI,"endBefore()","Query.endBefore()")}}endAt(){try{return new Yg(this.firestore,$m(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sg._create("endAt",t,!0)}(...arguments)))}catch(uI){throw Hg(uI,"endAt()","Query.endAt()")}}isEqual(e){return im(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_g(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Wp(e,Zp);const t=Wp(e.firestore,lm),n=cm(t),r=new wg(t);return Up(n,e._query,{source:"server"}).then((n=>new gg(t,r,e,n)))}(this._delegate):function(e){e=Wp(e,Zp);const t=Wp(e.firestore,lm),n=cm(t),r=new wg(t);return Jm(e._query),Up(n,e._query).then((n=>new gg(t,r,e,n)))}(this._delegate),t.then((e=>new Xg(this.firestore,new gg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Gg(t),i=Kg(t,(e=>new Xg(this.firestore,new gg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ig(this._delegate,r,i)}withConverter(e){return new Yg(this.firestore,e?this._delegate.withConverter(Bg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Jg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Qg(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Jg(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Qg(this._firestore,n))}))}isEqual(e){return vg(this._delegate,e._delegate)}}class Zg extends Yg{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qg(this.firestore,e):null}doc(e){try{return new qg(this.firestore,void 0===e?nm(this._delegate):nm(this._delegate,e))}catch(uI){throw Hg(uI,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Wp(e.firestore,lm),r=nm(e),i=hg(e.converter,t);return Tg(n,[Am(Cm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ml.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new qg(this.firestore,e)))}isEqual(e){return rm(this._delegate,e._delegate)}withConverter(e){return new Zg(this.firestore,e?this._delegate.withConverter(Bg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $g(e){return Wp(e,$p)}class ey{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new ym(...t)}static documentId(){return new ey(os.keyField().canonicalString())}isEqual(e){return(e=Sn(e))instanceof ym&&this._delegate._internalPath.isEqual(e._internalPath)}}class ty{static serverTimestamp(){const e=new Rm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ty(e)}static delete(){const e=new xm("deleteField");return e._methodName="FieldValue.delete",new ty(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pm("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ty(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dm("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ty(e)}static increment(e){const t=new Om("increment",e);return t._methodName="FieldValue.increment",new ty(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ny={Firestore:Ug,GeoPoint:wm,Timestamp:ts,Blob:Lg,Transaction:zg,WriteBatch:jg,DocumentReference:qg,DocumentSnapshot:Wg,Query:Yg,QueryDocumentSnapshot:Qg,QuerySnapshot:Xg,CollectionReference:Zg,FieldPath:ey,FieldValue:ty,setLogLevel:function(e){var t;t=e,Ni.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var ry;(function(e,t){e.INTERNAL.registerComponent(new In("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ny)))})(ry=di,((e,t)=>new Ug(e,t,new Fg))),ry.registerVersion("@firebase/firestore-compat","0.3.41");function iy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const sy="facebook.com",oy="github.com",ay="google.com",ly="password",cy="twitter.com",uy="EMAIL_SIGNIN",hy="PASSWORD_RESET",dy="RECOVER_EMAIL",fy="REVERT_SECOND_FACTOR_ADDITION",py="VERIFY_AND_CHANGE_EMAIL",my="VERIFY_EMAIL";function gy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yy=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},vy=gy,wy=new dn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),by=new On("@firebase/auth");function _y(e){if(by.logLevel<=xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];by.error("Auth (".concat(qr,"): ").concat(e),...n)}}function Ey(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cy(e,...n)}function Sy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cy(e,...n)}function Iy(e,t,n){const r=Object.assign(Object.assign({},vy()),{[t]:n});return new dn("auth","Firebase",r).create(t,{appName:e.name})}function ky(e){return Iy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ty(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ey(e,"argument-error"),Iy(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return wy.create(e,...n)}function Ay(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cy(t,...r)}}function xy(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _y(t),new Error(t)}function Ny(e,t){e||xy(t)}function Ry(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Py(){return"http:"===Dy()||"https:"===Dy()}function Dy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Oy{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ny(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())||an()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Py()||on()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ly(e,t){Ny(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class My{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Uy=new Oy(3e4,6e4);function Vy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zy(e,t,n,r){return jy(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=yn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),My.fetch()(qy(e,e.config.apiHost,n,o),l)}))}async function jy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fy),t);try{const t=new Gy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ky(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ky(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ky(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ky(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Iy(e,a,o);Ey(e,a)}}catch(uI){if(uI instanceof hn)throw uI;Ey(e,"network-request-failed",{message:String(uI)})}}async function By(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zy(e,t,n,r,i);return"mfaPendingCredential"in s&&Ey(e,"multi-factor-auth-required",{_serverResponse:s}),s}function qy(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ly(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Hy(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gy{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Sy(this.auth,"network-request-failed"))),Uy.get())}))}}function Ky(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sy(e,t,r);return i.customData._tokenResponse=n,i}function Wy(e){return void 0!==e&&void 0!==e.getResponse}function Qy(e){return void 0!==e&&void 0!==e.enterprise}class Yy{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Hy(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jy(e,t){return zy(e,"GET","/v2/recaptchaConfig",Vy(e,t))}async function Xy(e,t){return zy(e,"POST","/v1/accounts:lookup",t)}function Zy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uI){}}function $y(e){return 1e3*Number(e)}function ev(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return _y("JWT malformed, contained fewer than 3 sections"),null;try{const e=Yt(n);return e?JSON.parse(e):(_y("Failed to decode base64 JWT payload"),null)}catch(uI){return _y("Caught error parsing JWT payload as JSON",null===uI||void 0===uI?void 0:uI.toString()),null}}function tv(e){const t=ev(e);return Ay(t,"internal-error"),Ay("undefined"!==typeof t.exp,"internal-error"),Ay("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function nv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uI){throw uI instanceof hn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uI)&&e.auth.currentUser===e&&await e.auth.signOut(),uI}}class rv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uI){return void((null===uI||void 0===uI?void 0:uI.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class iv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zy(this.lastLoginAt),this.creationTime=Zy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await nv(e,Xy(n,{idToken:r}));Ay(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ov(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function ov(e){return e.map((e=>{var{providerId:t}=e,n=iy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class av{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ay(e.idToken,"internal-error"),Ay("undefined"!==typeof e.idToken,"internal-error"),Ay("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ay(0!==e.length,"internal-error");const t=tv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ay(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await jy(e,{},(async()=>{const n=yn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=qy(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",My.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new av;return n&&(Ay("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ay("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ay("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new av,this.toJSON())}_performRefresh(){return xy("not implemented")}}function lv(e,t){Ay("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class cv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await nv(this,this.stsTokenManager.getToken(this.auth,e));return Ay(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Sn(e),r=await n.getIdToken(t),i=ev(r);Ay(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zy($y(i.auth_time)),issuedAtTime:Zy($y(i.iat)),expirationTime:Zy($y(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Sn(e);await sv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ay(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ay(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(ky(this.auth));const e=await this.getIdToken();return await nv(this,async function(e,t){return zy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Ay(v&&E,e,"internal-error");const S=av.fromJSON(this.name,E);Ay("string"===typeof v,e,"internal-error"),lv(u,e.name),lv(h,e.name),Ay("boolean"===typeof w,e,"internal-error"),Ay("boolean"===typeof b,e,"internal-error"),lv(d,e.name),lv(f,e.name),lv(p,e.name),lv(m,e.name),lv(g,e.name),lv(y,e.name);const I=new cv({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new av;r.updateFromServerResponse(t);const i=new cv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sv(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ay(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ov(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new av;o.updateFromIdToken(n);const a=new cv({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new iv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const uv=new Map;function hv(e){Ny(e instanceof Function,"Expected a class definition");let t=uv.get(e);return t?(Ny(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,uv.set(e,t),t)}class dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dv.type="NONE";const fv=dv;function pv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class mv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pv(this.userKey,r.apiKey,i),this.fullPersistenceKey=pv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new mv(hv(fv),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hv(fv);const s=pv(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=cv._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(hI){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(hI){}}))),new mv(i,e,n)):new mv(i,e,n)}}function gv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ev(t))return"Blackberry";if(Sv(t))return"Webos";if(vv(t))return"Safari";if((t.includes("chrome/")||wv(t))&&!t.includes("edge/"))return"Chrome";if(_v(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function yv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/firefox\//i.test(e)}function vv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/crios\//i.test(e)}function bv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/iemobile/i.test(e)}function _v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/android/i.test(e)}function Ev(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/blackberry/i.test(e)}function Sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/webos/i.test(e)}function Iv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return Iv(e)||_v(e)||Sv(e)||Ev(e)||/windows phone/i.test(e)||bv(e)}function Tv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gv(nn());break;case"Worker":t="".concat(gv(nn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qr,"/").concat(r)}class Cv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uI){r(uI)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uI){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uI||void 0===uI?void 0:uI.message})}}}class Av{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new Cv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hv(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await mv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uI){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Xy(this,{idToken:e}),n=await cv._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uI){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uI)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ay(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uI){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sv(e)}catch(uI){if((null===uI||void 0===uI?void 0:uI.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(ky(this));const t=e?Sn(e):null;return t&&Ay(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ay(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ur(this.app)?Promise.reject(ky(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(ky(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(hv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zy(e,"GET","/v2/passwordPolicy",Vy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Av(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zy(e,"POST","/v2/accounts:revokeToken",Vy(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hv(e)||this._popupRedirectResolver;Ay(t,this,"argument-error"),this.redirectPersistenceManager=await mv.create(this,[hv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ay(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ay(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(by.logLevel<=xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];by.warn("Auth (".concat(qr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Nv(e){return Sn(e)}class Rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bn((e=>this.observer=e))}get next(){return Ay(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dv(e){return Pv.loadJS(e)}function Ov(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const Lv=1e12;class Mv{constructor(e){this.auth=e,this.counter=Lv,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Vv(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Lv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Lv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Lv;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Fv{constructor(){this.enterprise=new Uv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Uv{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vv{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ay(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(uI){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(uI){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zv="NO_RECAPTCHA";class jv{constructor(e){this.type="recaptcha-enterprise",this.auth=Nv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Qy(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(zv)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fv).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Jy(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Yy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Qy(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Pv.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Dv(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Bv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new jv(e);let o;if(i)o=zv;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qv(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Bv(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Bv(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Bv(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Bv(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Bv(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Hv(e){const t=Nv(e),n=await Jy(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Yy(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new jv(t).verify()}}function Gv(e,t,n){const r=Nv(e);Ay(r._canInitEmulator,r,"emulator-config-failed"),Ay(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Kv(t),{host:o,port:a}=function(e){const t=Kv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wv(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wv(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Kv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Qv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xy("not implemented")}_getIdTokenResponse(e){return xy("not implemented")}_linkToIdToken(e,t){return xy("not implemented")}_getReauthenticationResolver(e){return xy("not implemented")}}async function Yv(e,t){return zy(e,"POST","/v1/accounts:resetPassword",Vy(e,t))}async function Jv(e,t){return zy(e,"POST","/v1/accounts:signUp",t)}async function Xv(e,t){return By(e,"POST","/v1/accounts:signInWithPassword",Vy(e,t))}async function Zv(e,t){return zy(e,"POST","/v1/accounts:sendOobCode",Vy(e,t))}async function $v(e,t){return Zv(e,t)}async function ew(e,t){return Zv(e,t)}class tw extends Qv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tw(e,t,"password")}static _fromEmailAndCode(e,t){return new tw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qv(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return By(e,"POST","/v1/accounts:signInWithEmailLink",Vy(e,t))}(e,{email:this._email,oobCode:this._password});default:Ey(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return By(e,"POST","/v1/accounts:signInWithEmailLink",Vy(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ey(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nw(e,t){return By(e,"POST","/v1/accounts:signInWithIdp",Vy(e,t))}class rw extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ey("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=iy(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new rw(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return nw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yn(t)}return e}}async function iw(e,t){return zy(e,"POST","/v1/accounts:sendVerificationCode",Vy(e,t))}const sw={USER_NOT_FOUND:"user-not-found"};class ow extends Qv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ow({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ow({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return By(e,"POST","/v1/accounts:signInWithPhoneNumber",Vy(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await By(e,"POST","/v1/accounts:signInWithPhoneNumber",Vy(e,t));if(n.temporaryProof)throw Ky(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return By(e,"POST","/v1/accounts:signInWithPhoneNumber",Vy(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),sw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ow({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class aw{constructor(e){var t,n,r,i,s,o;const a=vn(wn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ay(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=vn(wn(e)).link,n=t?vn(wn(t)).deep_link_id:null,r=vn(wn(e)).deep_link_id;return(r?vn(wn(r)).link:null)||r||n||t||e}(e);try{return new aw(t)}catch(hI){return null}}}class lw{constructor(){this.providerId=lw.PROVIDER_ID}static credential(e,t){return tw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=aw.parseLink(t);return Ay(n,"argument-error"),tw._fromEmailAndCode(e,n.code,n.tenantId)}}lw.PROVIDER_ID="password",lw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uw extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hw extends uw{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ay("providerId"in t&&"signInMethod"in t,"argument-error"),rw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ay(e.idToken||e.accessToken,"argument-error"),rw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return hw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return hw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new hw(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(uI){return null}}}class dw extends uw{constructor(){super("facebook.com")}static credential(e){return rw._fromParams({providerId:dw.PROVIDER_ID,signInMethod:dw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dw.credentialFromTaggedObject(e)}static credentialFromError(e){return dw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dw.credential(t.oauthAccessToken)}catch(hI){return null}}}dw.FACEBOOK_SIGN_IN_METHOD="facebook.com",dw.PROVIDER_ID="facebook.com";class fw extends uw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rw._fromParams({providerId:fw.PROVIDER_ID,signInMethod:fw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fw.credentialFromTaggedObject(e)}static credentialFromError(e){return fw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return fw.credential(n,r)}catch(hI){return null}}}fw.GOOGLE_SIGN_IN_METHOD="google.com",fw.PROVIDER_ID="google.com";class pw extends uw{constructor(){super("github.com")}static credential(e){return rw._fromParams({providerId:pw.PROVIDER_ID,signInMethod:pw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pw.credentialFromTaggedObject(e)}static credentialFromError(e){return pw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pw.credential(t.oauthAccessToken)}catch(hI){return null}}}pw.GITHUB_SIGN_IN_METHOD="github.com",pw.PROVIDER_ID="github.com";class mw extends Qv{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return nw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mw(n,i):null}static _create(e,t){return new mw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gw extends cw{constructor(e){Ay(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return gw.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gw.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mw.fromJSON(e);return Ay(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return mw._create(r,n)}catch(uI){return null}}}class yw extends uw{constructor(){super("twitter.com")}static credential(e,t){return rw._fromParams({providerId:yw.PROVIDER_ID,signInMethod:yw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yw.credentialFromTaggedObject(e)}static credentialFromError(e){return yw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return yw.credential(n,r)}catch(hI){return null}}}async function vw(e,t){return By(e,"POST","/v1/accounts:signUp",Vy(e,t))}yw.TWITTER_SIGN_IN_METHOD="twitter.com",yw.PROVIDER_ID="twitter.com";class ww{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await cv._fromIdTokenResponse(e,n,r),s=bw(n);return new ww({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=bw(n);return new ww({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function bw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _w extends hn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_w.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _w(e,t,n,r)}}function Ew(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw _w._fromErrorAndOperation(e,n,t,r);throw n}))}function Sw(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Iw(e,t){const n=Sn(e);await Tw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return zy(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Sw(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function kw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await nv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ww._forOperation(e,"link",r)}async function Tw(e,t,n){await sv(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ay(Sw(t.providerData).has(n)===e,t.auth,r)}async function Cw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ur(r.app))return Promise.reject(ky(r));const i="reauthenticate";try{const s=await nv(e,Ew(r,i,t,e),n);Ay(s.idToken,r,"internal-error");const o=ev(s.idToken);Ay(o,r,"internal-error");const{sub:a}=o;return Ay(e.uid===a,r,"user-mismatch"),ww._forOperation(e,i,s)}catch(uI){throw(null===uI||void 0===uI?void 0:uI.code)==="auth/".concat("user-not-found")&&Ey(r,"user-mismatch"),uI}}async function Aw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(ky(e));const r="signIn",i=await Ew(e,r,t),s=await ww._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function xw(e,t){return Aw(Nv(e),t)}async function Nw(e,t){const n=Sn(e);return await Tw(!1,n,t.providerId),kw(n,t)}async function Rw(e,t){return Cw(Sn(e),t)}async function Pw(e,t){if(Ur(e.app))return Promise.reject(ky(e));const n=Nv(e),r=await async function(e,t){return By(e,"POST","/v1/accounts:signInWithCustomToken",Vy(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ww._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Dw{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ow._fromServerResponse(e,t):"totpInfo"in t?Lw._fromServerResponse(e,t):Ey(e,"internal-error")}}class Ow extends Dw{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ow(t)}}class Lw extends Dw{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Lw(t)}}function Mw(e,t,n){var r;Ay((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ay("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ay(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ay(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fw(e){const t=Nv(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Uw(e,t){await async function(e,t){return zy(e,"POST","/v1/accounts:update",Vy(e,t))}(Sn(e),{oobCode:t})}async function Vw(e,t){const n=Sn(e),r=await Yv(n,{oobCode:t}),i=r.requestType;switch(Ay(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ay(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ay(r.mfaInfo,n,"internal-error");default:Ay(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Dw._fromServerResponse(Nv(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function zw(e,t){const n={identifier:t,continueUri:Py()?Ry():"http://localhost"},{signinMethods:r}=await async function(e,t){return zy(e,"POST","/v1/accounts:createAuthUri",Vy(e,t))}(Sn(e),n);return r||[]}async function jw(e,t){const n=Sn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mw(n.auth,r,t);const{email:i}=await async function(e,t){return Zv(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Bw(e,t,n){const r=Sn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Mw(r.auth,i,n);const{email:s}=await async function(e,t){return Zv(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function qw(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Sn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await nv(i,async function(e,t){return zy(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Hw(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await nv(e,async function(e,t){return zy(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Gw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Kw extends Gw{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ww extends Gw{constructor(e,t){super(e,"facebook.com",t)}}class Qw extends Kw{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Yw extends Gw{constructor(e,t){super(e,"google.com",t)}}class Jw extends Kw{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Xw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ev(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Gw(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ww(s,i);case"github.com":return new Qw(s,i);case"google.com":return new Yw(s,i);case"twitter.com":return new Jw(s,i,e.screenName||null);case"custom":case"anonymous":return new Gw(s,null);default:return new Gw(s,r,i)}}(n)}class Zw{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Zw("enroll",e,t)}static _fromMfaPendingCredential(e){return new Zw("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Zw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Zw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class $w{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Nv(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Dw._fromServerResponse(n,e)));Ay(r.mfaPendingCredential,n,"internal-error");const s=Zw._fromMfaPendingCredential(r.mfaPendingCredential);return new $w(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ww._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ay(t.user,n,"internal-error"),ww._forOperation(t.user,t.operationType,o);default:Ey(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function eb(e,t){return zy(e,"POST","/v2/accounts/mfaEnrollment:start",Vy(e,t))}class tb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Dw._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new tb(e)}async getSession(){return Zw._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await nv(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await nv(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},zy(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Vy(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(uI){throw uI}var r,i}}const nb=new WeakMap;const rb="__sak";class ib{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rb,"1"),this.storage.removeItem(rb),Promise.resolve(!0)):Promise.resolve(!1)}catch(hI){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class sb extends ib{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ln()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sb.type="LOCAL";const ob=sb;class ab extends ib{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ab.type="SESSION";const lb=ab;class cb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new cb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ub(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cb.receivers=[];class hb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ub("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function db(){return window}function fb(){return"undefined"!==typeof db().WorkerGlobalScope&&"function"===typeof db().importScripts}const pb="firebaseLocalStorageDb",mb="firebaseLocalStorage",gb="fbase_key";class yb{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function vb(e,t){return e.transaction([mb],t?"readwrite":"readonly").objectStore(mb)}function wb(){const e=indexedDB.open(pb,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(mb,{keyPath:gb})}catch(uI){n(uI)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(mb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pb);return new yb(e).toPromise()}(),t(await wb()))}))}))}async function bb(e,t,n){const r=vb(e,!0).put({[gb]:t,value:n});return new yb(r).toPromise()}function _b(e,t){const n=vb(e,!0).delete(t);return new yb(n).toPromise()}class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await wb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uI){if(t++>3)throw uI;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cb._getInstance(fb()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(hI){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wb();return await bb(e,rb,"1"),await _b(e,rb),!0}catch(hI){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>bb(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=vb(e,!1).get(t),r=await new yb(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>_b(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=vb(e,!1).getAll();return new yb(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Eb.type="LOCAL";const Sb=Eb;function Ib(e,t){return zy(e,"POST","/v2/accounts/mfaSignIn:start",Vy(e,t))}const kb=Ov("rcb"),Tb=new Oy(3e4,6e4);class Cb{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=db().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ay(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Wy(db().grecaptcha)?Promise.resolve(db().grecaptcha):new Promise(((n,r)=>{const i=db().setTimeout((()=>{r(Sy(e,"network-request-failed"))}),Tb.get());db()[kb]=()=>{db().clearTimeout(i),delete db()[kb];const s=db().grecaptcha;if(!s||!Wy(s))return void r(Sy(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Dv("".concat(Pv.recaptchaV2Script,"?").concat(yn({onload:kb,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Sy(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=db().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ab{async load(e){return new Mv(e)}clearedOneInstance(){}}const xb="recaptcha",Nb={theme:"light",type:"image"};class Rb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Nb);this.parameters=n,this.type=xb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nv(e),this.isInvisible="invisible"===this.parameters.size,Ay("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Ay(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ab:new Cb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(uI){return Promise.reject(uI)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ay(!this.parameters.sitekey,this.auth,"argument-error"),Ay(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ay("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=db()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ay(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ay(Py()&&!fb(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await zy(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ay(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ay(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ow._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Db(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Hv(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ay("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=qv(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zv){Ay((null===n||void 0===n?void 0:n.type)===xb,e,"argument-error");return eb(e,await Ob(e,t,n))}return eb(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ay("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ay(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=qv(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zv){Ay((null===n||void 0===n?void 0:n.type)===xb,e,"argument-error");return Ib(e,await Ob(e,t,n))}return Ib(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=qv(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===zv){Ay((null===n||void 0===n?void 0:n.type)===xb,e,"argument-error");return iw(e,await Ob(e,t,n))}return iw(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ob(e,t,n){Ay(n.type===xb,e,"argument-error");const r=await n.verify();Ay("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Lb{constructor(e){this.providerId=Lb.PROVIDER_ID,this.auth=Nv(e)}verifyPhoneNumber(e,t){return Db(this.auth,e,Sn(t))}static credential(e,t){return ow._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lb.credentialFromTaggedObject(t)}static credentialFromError(e){return Lb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ow._fromTokenResponse(n,r):null}}function Mb(e,t){return t?hv(t):(Ay(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lb.PROVIDER_ID="phone",Lb.PHONE_SIGN_IN_METHOD="phone";class Fb extends Qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ub(e){return Aw(e.auth,new Fb(e),e.bypassAuthState)}function Vb(e){const{auth:t,user:n}=e;return Ay(n,t,"internal-error"),Cw(n,new Fb(e),e.bypassAuthState)}async function zb(e){const{auth:t,user:n}=e;return Ay(n,t,"internal-error"),kw(n,new Fb(e),e.bypassAuthState)}class jb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uI){this.reject(uI)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(uI){this.reject(uI)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ub;case"linkViaPopup":case"linkViaRedirect":return zb;case"reauthViaPopup":case"reauthViaRedirect":return Vb;default:Ey(this.auth,"internal-error")}}resolve(e){Ny(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ny(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bb=new Oy(2e3,1e4);class qb extends jb{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qb.currentPopupAction&&qb.currentPopupAction.cancel(),qb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ay(e,this.auth,"internal-error"),e}async onExecution(){Ny(1===this.filter.length,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Sy(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Sy(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Bb.get())};e()}}qb.currentPopupAction=null;const Hb=new Map;class Gb extends jb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Hb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yb(t),r=Qb(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(uI){e=()=>Promise.reject(uI)}Hb.set(this.auth._key(),e)}return this.bypassAuthState||Hb.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Kb(e,t){return Qb(e)._set(Yb(t),"true")}function Wb(e,t){Hb.set(e._key(),t)}function Qb(e){return hv(e._redirectPersistence)}function Yb(e){return pv("pendingRedirect",e.config.apiKey,e.name)}function Jb(e,t,n){return async function(e,t,n){if(Ur(e.app))return Promise.reject(ky(e));const r=Nv(e);Ty(e,t,cw),await r._initializationPromise;const i=Mb(r,n);return await Kb(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Xb(e,t,n){return async function(e,t,n){const r=Sn(e);if(Ty(r.auth,t,cw),Ur(r.auth.app))return Promise.reject(ky(r.auth));await r.auth._initializationPromise;const i=Mb(r.auth,n);await Kb(i,r.auth);const s=await e_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Zb(e,t,n){return async function(e,t,n){const r=Sn(e);Ty(r.auth,t,cw),await r.auth._initializationPromise;const i=Mb(r.auth,n);await Tw(!1,r,t.providerId),await Kb(i,r.auth);const s=await e_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function $b(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(ky(e));const r=Nv(e),i=Mb(r,t),s=new Gb(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function e_(e){const t=ub("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class t_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!r_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sy(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function r_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function i_(e){return zy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const s_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o_=/^https?/;function a_(e){const t=Ry(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!o_.test(n))return!1;if(s_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const l_=new Oy(3e4,6e4);function c_(){const e=db().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function u_(e){return new Promise(((t,n)=>{var r,i,s;function o(){c_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c_(),n(Sy(e,"network-request-failed"))},timeout:l_.get()})}if(null===(i=null===(r=db().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=db().gapi)||void 0===s?void 0:s.load)){const t=Ov("iframefcb");return db()[t]=()=>{gapi.load?o():n(Sy(e,"network-request-failed"))},Dv("".concat(Pv.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw h_=null,e}))}let h_=null;const d_=new Oy(5e3,15e3),f_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m_(e){const t=e.config;Ay(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ly(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:qr},i=p_.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(yn(r).slice(1))}async function g_(e){const t=await function(e){return h_=h_||u_(e),h_}(e),n=db().gapi;return Ay(n,e,"internal-error"),t.open({where:document.body,url:m_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sy(e,"network-request-failed"),s=db().setTimeout((()=>{r(i)}),d_.get());function o(){db().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const y_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uI){}}}function w_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},y_),{width:r.toString(),height:i.toString(),top:s,left:o}),c=nn().toLowerCase();n&&(a=wv(c)?"_blank":n),yv(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Iv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new v_(null);const h=window.open(t||"",a,u);Ay(h,e,"popup-blocked");try{h.focus()}catch(uI){}return new v_(h)}const b_="__/auth/handler",__="emulator/auth/handler",E_=encodeURIComponent("fac");async function S_(e,t,n,r,i,s){Ay(e.config.authDomain,e,"auth-domain-config-required"),Ay(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(t instanceof cw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof uw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(E_,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(b_);return Ly(t,__)}(e),"?").concat(yn(a).slice(1)).concat(c)}const I_="webStorageSupport";const k_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=$b,this._overrideRedirectResult=Wb}async _openPopup(e,t,n,r){var i;Ny(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return w_(e,await S_(e,t,n,Ry(),r),ub())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){db().location.href=e}(await S_(e,t,n,Ry(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ny(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await g_(e),n=new t_(e);return t.register("authEvent",(t=>{Ay(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(I_,{type:I_},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[I_];void 0!==i&&t(!!i),Ey(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await i_(e);for(const n of t)try{if(a_(n))return}catch(hI){}Ey(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kv()||vv()||Iv()}};class T_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xy("unexpected MultiFactorSessionType")}}}class C_ extends T_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new C_(e)}_finalizeEnroll(e,t,n){return function(e,t){return zy(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return zy(e,"POST","/v2/accounts/mfaSignIn:finalize",Vy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class A_{constructor(){}static assertion(e){return C_._fromCredential(e)}}A_.FACTOR_ID="phone";var x_="@firebase/auth",N_="1.8.2";class R_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ay(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Zt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var P_;function D_(){return window}Pv={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},P_="Browser",Or(new In("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ay(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:P_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tv(P_)},c=new xv(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Or(new In("auth-internal",(e=>(e=>new R_(e))(Nv(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(x_,N_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(P_)),Yr(x_,N_,"esm2017");async function O_(e,t,n){var r;const{BuildInfo:i}=D_();Ny(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Ny(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Iv()?o.ibi=i.packageName:_v()?o.apn=i.packageName:Ey(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,S_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function L_(e){const{cordova:t}=D_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class M_ extends t_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function F_(e){const t=await z_()._get(j_(e));return t&&await z_()._remove(j_(e)),t}function U_(e,t){var n,r;const i=function(e){const t=B_(e),n=t.link?decodeURIComponent(t.link):void 0,r=B_(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return B_(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=B_(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(uI){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Sy(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function V_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function z_(){return hv(ob)}function j_(e){return pv("authEvent",e.config.apiKey,e.name)}function B_(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return vn(n.join("?"))}const q_=class{constructor(){this._redirectPersistence=lb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$b,this._overrideRedirectResult=Wb}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new M_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ey(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=D_();Ay("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ay("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ay("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ay("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ay("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Hb.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:V_(),postBody:null,tenantId:e.tenantId,error:Sy(e,"no-auth-event")}}(e,n,r);await function(e,t){return z_()._set(j_(e),t)}(e,s);const o=await O_(e,s,t);return async function(e,t,n){const{cordova:r}=D_();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Sy(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),_v()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await L_(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=D_(),n={};Iv()?n.iosBundleId=t.packageName:_v()?n.androidPackageName=t.packageName:Ey(e,"operation-not-supported-in-this-environment"),await i_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=D_(),s=setTimeout((async()=>{await F_(e),t.onEvent(H_())}),500),o=async n=>{clearTimeout(s);const r=await F_(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=U_(r,n.url)),t.onEvent(i||H_())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");D_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(uI){console.error(uI)}}}};function H_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sy("no-auth-event")}}function G_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function K_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return!("file:"!==G_()&&"ionic:"!==G_()&&"capacitor:"!==G_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function W_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return ln()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/Edge\/\d+/.test(e)}(e)}function Q_(){try{const e=self.localStorage,t=ub();if(e)return e.setItem(t,"1"),e.removeItem(t),!W_()||un()}catch(uI){return Y_()&&un()}return!1}function Y_(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function J_(){return("http:"===G_()||"https:"===G_()||on()||K_())&&!(an()||rn())&&Q_()&&!Y_()}function X_(){return K_()&&"undefined"!==typeof document}const Z_={LOCAL:"local",NONE:"none",SESSION:"session"},$_=Ay,eE="persistence";async function tE(e){await e._initializationPromise;const t=nE(),n=pv(eE,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function nE(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(uI){return null}}const rE=Ay;class iE{constructor(){this.browserResolver=hv(k_),this.cordovaResolver=hv(q_),this.underlyingResolver=null,this._redirectPersistence=lb,this._completeRedirectFn=$b,this._overrideRedirectResult=Wb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return X_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rE(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!X_()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function sE(e){return e.unwrap()}function oE(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new uE(e,function(e,t){var n;const r=Sn(e),i=t;return Ay(t.customData.operationType,r,"argument-error"),Ay(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$w._fromError(r,i)}(e,t))}else if(r){const e=aE(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function aE(e){const{_tokenResponse:t}=e instanceof hn?e.customData:e;if(!t)return null;if(!(e instanceof hn)&&"temporaryProof"in t&&"phoneNumber"in t)return Lb.credentialFromResult(e);const n=t.providerId;if(!n||n===ly)return null;let r;switch(n){case ay:r=fw;break;case sy:r=dw;break;case oy:r=pw;break;case cy:r=yw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mw._create(n,o):rw._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new hw(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof hn?r.credentialFromError(e):r.credentialFromResult(e)}function lE(e,t){return t.catch((t=>{throw t instanceof hn&&oE(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,aE(r)),additionalUserInfo:Xw(e),user:hE.getOrCreate(n)};var r}))}async function cE(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>lE(e,n.confirm(t))}}class uE{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return lE(sE(this.auth),this.resolver.resolveSignIn(e))}}class hE{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Sn(e);return nb.has(t)||nb.set(t,tb._fromUser(t)),nb.get(t)}(e)}static getOrCreate(e){return hE.USER_MAP.has(e)||hE.USER_MAP.set(e,new hE(e)),hE.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return lE(this.auth,Nw(this._delegate,e))}async linkWithPhoneNumber(e,t){return cE(this.auth,async function(e,t,n){const r=Sn(e);await Tw(!1,r,"phone");const i=await Db(r.auth,t,Sn(n));return new Pb(i,(e=>Nw(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return lE(this.auth,async function(e,t,n){const r=Sn(e);Ty(r.auth,t,cw);const i=Mb(r.auth,n);return new qb(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,iE))}async linkWithRedirect(e){return await tE(Nv(this.auth)),Zb(this._delegate,e,iE)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return lE(this.auth,Rw(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cE(this.auth,async function(e,t,n){const r=Sn(e);if(Ur(r.auth.app))return Promise.reject(ky(r.auth));const i=await Db(r.auth,t,Sn(n));return new Pb(i,(e=>Rw(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return lE(this.auth,async function(e,t,n){const r=Sn(e);if(Ur(r.auth.app))return Promise.reject(Sy(r.auth,"operation-not-supported-in-this-environment"));Ty(r.auth,t,cw);const i=Mb(r.auth,n);return new qb(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,iE))}async reauthenticateWithRedirect(e){return await tE(Nv(this.auth)),Xb(this._delegate,e,iE)}sendEmailVerification(e){return jw(this._delegate,e)}async unlink(e){return await Iw(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Sn(e);return Ur(n.auth.app)?Promise.reject(ky(n.auth)):Hw(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Hw(Sn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Sn(e);if(Ur(n.auth.app))return Promise.reject(ky(n.auth));await kw(n,t)}(this._delegate,e)}updateProfile(e){return qw(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Bw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hE.USER_MAP=new WeakMap;const dE=Ay;class fE{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;dE(n,"invalid-api-key",{appName:e.name}),dE(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?iE:void 0;this._delegate=t.initialize({options:{persistence:mE(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(yy),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hE.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Gv(this._delegate,e,t)}applyActionCode(e){return Uw(this._delegate,e)}checkActionCode(e){return Vw(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Yv(Sn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fw(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return lE(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(ky(e));const r=Nv(e),i=qv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vw,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fw(e),t})),o=await ww._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return zw(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=aw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){dE(J_(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Nv(e)._initializationPromise,$b(e,t,!1)}(this._delegate,iE);return e?lE(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Nv(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=pE(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=pE(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Nv(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Ay(t.handleCodeInApp,r,"argument-error"),t&&Mw(r,e,t)}(i,n),await qv(r,i,"getOobCode",ew,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Nv(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Mw(r,i,n),await qv(r,i,"getOobCode",$v,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){$_(Object.values(Z_).includes(t),e,"invalid-persistence-type"),an()?$_(t!==Z_.SESSION,e,"unsupported-persistence-type"):rn()?$_(t===Z_.NONE,e,"unsupported-persistence-type"):Y_()?$_(t===Z_.NONE||t===Z_.LOCAL&&un(),e,"unsupported-persistence-type"):$_(t===Z_.NONE||Q_(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Z_.SESSION:t=lb;break;case Z_.LOCAL:t=await hv(Sb)._isAvailable()?Sb:ob;break;case Z_.NONE:t=fv;break;default:return Ey("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return lE(this._delegate,async function(e){var t;if(Ur(e.app))return Promise.reject(ky(e));const n=Nv(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ww({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await vw(n,{returnSecureToken:!0}),i=await ww._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return lE(this._delegate,xw(this._delegate,e))}signInWithCustomToken(e){return lE(this._delegate,Pw(this._delegate,e))}signInWithEmailAndPassword(e,t){return lE(this._delegate,function(e,t,n){return Ur(e.app)?Promise.reject(ky(e)):xw(Sn(e),lw.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fw(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return lE(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(ky(e));const r=Sn(e),i=lw.credentialWithLink(t,n||Ry());return Ay(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xw(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cE(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(ky(e));const r=Nv(e),i=await Db(r,t,Sn(n));return new Pb(i,(e=>xw(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return dE(J_(),this._delegate,"operation-not-supported-in-this-environment"),lE(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(Sy(e,"operation-not-supported-in-this-environment"));const r=Nv(e);Ty(e,t,cw);const i=Mb(r,n);return new qb(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,iE))}async signInWithRedirect(e){return dE(J_(),this._delegate,"operation-not-supported-in-this-environment"),await tE(this._delegate),Jb(this._delegate,e,iE)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Vw(Sn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function pE(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&hE.getOrCreate(e)),error:t,complete:n}}function mE(e,t){const n=function(e,t){const n=nE();if(!n)return[];const r=pv(eE,e,t);switch(n.getItem(r)){case Z_.NONE:return[fv];case Z_.LOCAL:return[Sb,lb];case Z_.SESSION:return[lb];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Sb)||n.push(Sb),"undefined"!==typeof window)for(const r of[ob,lb])n.includes(r)||n.push(r);return n.includes(fv)||n.push(fv),n}fE.Persistence=Z_;class gE{static credential(e,t){return Lb.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Lb(sE(di.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}gE.PHONE_SIGN_IN_METHOD=Lb.PHONE_SIGN_IN_METHOD,gE.PROVIDER_ID=Lb.PROVIDER_ID;const yE=Ay;class vE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di.app();var r;yE(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Rb(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new In("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fE(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uy,PASSWORD_RESET:hy,RECOVER_EMAIL:dy,REVERT_SECOND_FACTOR_ADDITION:fy,VERIFY_AND_CHANGE_EMAIL:py,VERIFY_EMAIL:my}},EmailAuthProvider:lw,FacebookAuthProvider:dw,GithubAuthProvider:pw,GoogleAuthProvider:fw,OAuthProvider:hw,SAMLAuthProvider:gw,PhoneAuthProvider:gE,PhoneMultiFactorGenerator:A_,RecaptchaVerifier:vE,TwitterAuthProvider:yw,Auth:fE,AuthCredential:Qv,Error:hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.17")}(di);const wE="firebasestorage.googleapis.com",bE="storageBucket";class _E extends hn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(IE(e),"Firebase Storage: ".concat(t," (").concat(IE(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_E.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return IE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var EE,SE;function IE(e){return"storage/"+e}function kE(){return new _E(EE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function TE(){return new _E(EE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CE(){return new _E(EE.CANCELED,"User canceled the upload/download.")}function AE(){return new _E(EE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xE(e){return new _E(EE.INVALID_ARGUMENT,e)}function NE(){return new _E(EE.APP_DELETED,"The Firebase app was deleted.")}function RE(e){return new _E(EE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function PE(e,t){return new _E(EE.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function DE(e){throw new _E(EE.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(EE||(EE={}));class OE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=OE.makeFromUrl(e,t)}catch(uI){return new OE(e,"")}if(""===n.path)return n;throw r=e,new _E(EE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===wE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new OE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new _E(EE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class LE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ME(e){return"string"===typeof e||e instanceof String}function FE(e){return UE()&&e instanceof Blob}function UE(){return"undefined"!==typeof Blob}function VE(e,t,n,r){if(r<t)throw xE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw xE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zE(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function jE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function BE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(SE||(SE={}));class qE{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new HE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===SE.NO_ERROR,i=n.getStatus();if(!t||BE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===SE.ABORT;return void e(!1,new HE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new HE(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(uI){r(uI)}else if(null!==i){const e=kE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?NE():CE())}else{r(TE())}};this.canceled_?t(0,new HE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class HE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function GE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function KE(){const e=GE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(UE())return new Blob(n);throw new _E(EE.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function WE(e){if("undefined"===typeof atob)throw t="base-64",new _E(EE.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const QE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YE{constructor(e,t){this.data=e,this.contentType=t||null}}function JE(e,t){switch(e){case QE.RAW:return new YE(XE(t));case QE.BASE64:case QE.BASE64URL:return new YE(ZE(e,t));case QE.DATA_URL:return new YE(function(e){const t=new $E(e);return t.base64?ZE(QE.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(uI){throw PE(QE.DATA_URL,"Malformed data URL.")}return XE(t)}(t.rest)}(t),new $E(t).contentType)}throw kE()}function XE(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ZE(e,t){switch(e){case QE.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw PE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case QE.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw PE(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WE(t)}catch(uI){if(uI.message.includes("polyfill"))throw uI;throw PE(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $E{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw PE(QE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class eS{constructor(e,t){let n=0,r="";FE(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(FE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new eS(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new eS(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(UE()){const e=t.map((e=>e instanceof eS?e.data_:e));return new eS(KE.apply(null,e))}{const e=t.map((e=>ME(e)?JE(QE.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new eS(r,!0)}}uploadData(){return this.data_}}function tS(e){let t;try{t=JSON.parse(e)}catch(uI){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rS(e,t){return t}class iS{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rS}}let sS=null;function oS(){if(sS)return sS;const e=[];e.push(new iS("bucket")),e.push(new iS("generation")),e.push(new iS("metageneration")),e.push(new iS("name","fullPath",!0));const t=new iS("name");t.xform=function(e,t){return function(e){return!ME(e)||e.length<2?e:nS(e)}(t)},e.push(t);const n=new iS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iS("timeCreated")),e.push(new iS("updated")),e.push(new iS("md5Hash",null,!0)),e.push(new iS("cacheControl",null,!0)),e.push(new iS("contentDisposition",null,!0)),e.push(new iS("contentEncoding",null,!0)),e.push(new iS("contentLanguage",null,!0)),e.push(new iS("contentType",null,!0)),e.push(new iS("metadata","customMetadata",!0)),sS=e,sS}function aS(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new OE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lS(e,t,n){const r=tS(t);if(null===r)return null;return aS(e,r,n)}function cS(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const uS="prefixes",hS="items";function dS(e,t,n){const r=tS(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[uS])for(const i of n[uS]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new OE(t,n));r.prefixes.push(s)}if(n[hS])for(const i of n[hS]){const n=e._makeStorageReference(new OE(t,i.name));r.items.push(n)}return r}(e,t,r)}class fS{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pS(e){if(!e)throw kE()}function mS(e,t){return function(n,r){const i=lS(e,r,t);return pS(null!==i),i}}function gS(e,t){return function(n,r){const i=lS(e,r,t);return pS(null!==i),function(e,t,n,r){const i=tS(t);if(null===i)return null;if(!ME(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return zE("/b/"+o(i)+"/o/"+o(s),n,r)+jE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function yS(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _E(EE.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new _E(EE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new _E(EE.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _E(EE.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function vS(e){const t=yS(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new _E(EE.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wS(e,t,n){const r=zE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new fS(r,"GET",mS(e,n),i);return s.errorHandler=vS(t),s}function bS(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=zE(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new fS(o,"GET",function(e,t){return function(n,r){const i=dS(e,t,r);return pS(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=yS(t),l}function _S(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ES(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=_S(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cS(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=eS.getBlob(c,r,u);if(null===h)throw AE();const d={name:l.fullPath},f=zE(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new fS(f,"POST",mS(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=yS(t),m}class SS{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function IS(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(uI){pS(!1)}return pS(!!n&&-1!==(t||["active"]).indexOf(n)),n}const kS=262144;function TS(e,t,n,r,i,s,o,a){const l=new SS(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new _E(EE.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw AE();const g=t.maxUploadRetryTime,y=new fS(n,"POST",(function(e,n){const i=IS(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?mS(t,s)(e,n):null,new SS(o,a,"final"===i,c)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=yS(e),y}const CS={STATE_CHANGED:"state_changed"},AS={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xS(e){switch(e){case"running":case"pausing":case"canceling":return AS.RUNNING;case"paused":return AS.PAUSED;case"success":return AS.SUCCESS;case"canceled":return AS.CANCELED;default:return AS.ERROR}}class NS{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function RS(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class PS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=SE.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=SE.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=SE.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw DE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw DE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw DE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(uI){return-1}}getResponse(){if(!this.sent_)throw DE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw DE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class DS extends PS{initXhr(){this.xhr_.responseType="text"}}function OS(){return new DS}class LS{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=oS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(EE.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(BE(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=TE()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(EE.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=_S(t,r,i),a={name:o.fullPath},l=zE(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=cS(o,n),h=e.maxUploadRetryTime,d=new fS(l,"POST",(function(e){let t;IS(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(uI){pS(!1)}return pS(ME(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=yS(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,OS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new fS(n,"POST",(function(e){const t=IS(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(uI){pS(!1)}n||pS(!1);const i=Number(n);return pS(!isNaN(i)),new SS(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=yS(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,OS,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=kS*this._chunkMultiplier,t=new SS(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=TS(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(uI){return this._error=uI,void this._transition("error")}const o=this._ref.storage._makeRequest(s,OS,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(kS*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=wS(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,OS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ES(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,OS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=CE(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=xS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new NS(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(xS(this._state)){case AS.SUCCESS:RS(this._resolve.bind(null,this.snapshot))();break;case AS.CANCELED:case AS.ERROR:RS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xS(this._state)){case AS.RUNNING:case AS.PAUSED:e.next&&RS(e.next.bind(e,this.snapshot))();break;case AS.SUCCESS:e.complete&&RS(e.complete.bind(e))();break;default:e.error&&RS(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class MS{constructor(e,t){this._service=e,this._location=t instanceof OE?t:OE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new MS(e,t)}get root(){const e=new OE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new OE(this._location.bucket,e);return new MS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw RE(e)}}function FS(e){const t={prefixes:[],items:[]};return US(e,t).then((()=>t))}async function US(e,t,n){const r={pageToken:n},i=await VS(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await US(e,t,i.nextPageToken)}function VS(e,t){null!=t&&"number"===typeof t.maxResults&&VE("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=bS(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,OS)}function zS(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=zE(t.fullServerUrl(),e.host,e._protocol),s=cS(n,r),o=e.maxOperationRetryTime,a=new fS(i,"PATCH",mS(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=vS(t),a}(e.storage,e._location,t,oS());return e.storage.makeRequestWithTokens(n,OS)}function jS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=zE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new fS(r,"GET",gS(e,n),i);return s.errorHandler=vS(t),s}(e.storage,e._location,oS());return e.storage.makeRequestWithTokens(t,OS).then((e=>{if(null===e)throw new _E(EE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function BS(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=zE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new fS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=vS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,OS)}function qS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new OE(e._location.bucket,n);return new MS(e.storage,r)}function HS(e,t){if(e instanceof WS){const n=e;if(null==n._bucket)throw new _E(EE.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bE+"' property when initializing the app?");const r=new MS(n,n._bucket);return null!=t?HS(r,t):r}return void 0!==t?qS(e,t):e}function GS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof WS)return new MS(e,t);throw xE("To use ref(service, url), the first argument must be a Storage instance.")}return HS(e,t)}function KS(e,t){const n=null===t||void 0===t?void 0:t[bE];return null==n?null:OE.makeFromBucketSpec(n,e)}class WS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=wE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?OE.makeFromBucketSpec(r,this._host):KS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=OE.makeFromBucketSpec(this._url,e):this._bucket=KS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new MS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new LE(NE());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=jE(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new qE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const QS="@firebase/storage",YS="0.13.5",JS="storage";function XS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new LS(e,new eS(t),n)}(e=Sn(e),t,n)}function ZS(e){return function(e){e._throwIfRoot("getMetadata");const t=wS(e.storage,e._location,oS());return e.storage.makeRequestWithTokens(t,OS)}(e=Sn(e))}function $S(e,t){return GS(e=Sn(e),t)}function eI(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:tn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function tI(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new WS(r,i,s,n,qr)}Or(new In(JS,tI,"PUBLIC").setMultipleInstances(!0)),Yr(QS,YS,""),Yr(QS,YS,"esm2017");class nI{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class rI{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new nI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new nI(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new nI(e,this,this._ref)):{next:t.next?e=>t.next(new nI(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class iI{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new sI(e,this._service)))}get items(){return this._delegate.items.map((e=>new sI(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sI{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return qS(e,t)}(this._delegate,e);return new sI(t,this.storage)}get root(){return new sI(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new sI(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new rI(XS(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=JE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new rI(new LS(this._delegate,new eS(r.data,!0),i),this)}listAll(){return function(e){return FS(e=Sn(e))}(this._delegate).then((e=>new iI(e,this.storage)))}list(e){return function(e,t){return VS(e=Sn(e),t)}(this._delegate,e||void 0).then((e=>new iI(e,this.storage)))}getMetadata(){return ZS(this._delegate)}updateMetadata(e){return function(e,t){return zS(e=Sn(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return jS(e=Sn(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return BS(e=Sn(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw RE(e)}}class oI{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(aI(e))throw xE("ref() expected a child path but got a URL, use refFromURL instead.");return new sI($S(this._delegate,e),this)}refFromURL(e){if(!aI(e))throw xE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{OE.makeFromUrl(e,this._delegate.host)}catch(uI){throw xE("refFromUrl() expected a valid full URL but got an invalid one.")}return new sI($S(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eI(this._delegate,e,t,n)}}function aI(e){return/^[A-Za-z]+:\/\//.test(e)}function lI(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new oI(r,i)}!function(e){const t={TaskState:AS,TaskEvent:CS,StringFormat:QE,Storage:oI,Reference:sI};e.INTERNAL.registerComponent(new In("storage-compat",lI,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.15")}(di);di.initializeApp({apiKey:"AIzaSyB0HvlPAAvyzeIxaBfixxposkIqyAyL89s",authDomain:"fir-demo-f9a7b.firebaseapp.com",databaseURL:"https://fir-demo-f9a7b-default-rtdb.firebaseio.com",projectId:"fir-demo-f9a7b",storageBucket:"fir-demo-f9a7b.appspot.com",messagingSenderId:"983954449776",appId:"1:983954449776:web:d0eecb6cf4c98c71f51bb5",measurementId:"G-L6M7FLY4MF"});di.firestore();const cI=di;s.createRoot(document.getElementById("root")).render((0,bt.jsx)(Et.Provider,{value:{firebase:cI},children:(0,bt.jsx)(Ht,{})}))})();
//# sourceMappingURL=main.f4912c01.js.map